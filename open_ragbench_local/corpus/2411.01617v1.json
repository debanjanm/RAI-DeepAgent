{"title": "Changes-In-Changes For Discrete Treatment", "sections": [{"section_id": 0, "text": "## ONIL BOUSSIM\n\nAbstract. This paper generalizes the changes-in-changes (CIC) model to handle discrete treatments with more than two categories, extending the binary case of Athey and Imbens (2006). While the original CIC model is well-suited for binary treatments, it cannot accommodate multi-category discrete treatments often found in economic and policy settings. Although recent work has extended CIC to continuous treatments, there remains a gap for multi-category discrete treatments. I introduce a generalized CIC model that adapts the rank invariance assumption to multiple treatment levels, allowing for robust modeling while capturing the distinct effects of varying treatment intensities.\n\nKeywords: Changes-in-changes (CIC), discrete treatments, treatment effects, policy evaluation, rank invariance\n\nJEL codes: C14, C21, I26, J31", "tables": {}, "images": {}}, {"section_id": 1, "text": "# 1. InTRODUCTION \n\nIn a seminal paper, Athey and Imbens (2006) introduced the changes-in-changes (CIC) model as an alternative to the widely used difference-in-difference (DID) method to evaluate the effects of policy changes. Unlike the standard DID approach, which primarily estimates average treatment effects, the CIC model aims to identify the entire potential outcome distribution for the treatment group had they not received the treatment and for the untreated group had they received the treatment. This nonlinear model provides a more comprehensive understanding of treatment effects by addressing unobserved heterogeneity and allowing for more nuanced insights into the distributional impacts of interventions. The CIC model relies on specific assumptions to achieve its identification results, focusing on binary treatments. However, many real-world applications involve treatments that are discrete and non-binary, such as different levels of education, various job training programs, or multiple intensities of health interventions. The original CIC framework's binary treatment limitation constrains its applicability in these contexts.\n\nRecent advancements, such as those by D'Haultf\u0153uille et al. (2023), have extended the CIC model to continuous treatments. Their approach generalizes the main assumptions of the CIC model and introduces a crossing point assumption applicable only to continuous treatments. Although this represents significant progress, it remains unsuitable for ordered or unordered discrete treatments, leaving a gap in the literature for handling multicategory discrete treatments effectively. Despite these advancements, there is a lack of point identification results for discrete, ordered, or unordered treatments. This paper addresses this gap by proposing a set of identifying conditions for different parameters in the discrete treatment case, thus generalizing the results of the CIC model to accommodate ordered and unordered discrete treatments.\n\nOur extended CIC model adapts the original framework to handle multiple discrete treatment levels, preserving the robustness of the rank invariance assumption while accommodating the complexities of multi-category treatments. We develop a methodological framework that allows for the inclusion of covariates and the estimation of heterogeneous treatment effects across different subpopulations.", "tables": {}, "images": {}}, {"section_id": 2, "text": "# 2. Analytical Framework and Identification \n\n2.1. General CiC Model. For a possibly random variable $Y, F_{Y}$ denotes the distribution of $Y$ and $F_{Y}^{-1}$ its corresponding quantile function. I use calligraphic letters to denote the support of the random variables, for example, $\\mathcal{Y}$ denotes the support of $Y$.\n\nLet $Y \\in \\mathbb{R}$ be a continuous outcome. I consider two periods $(t=0, t=1)$. Some fraction of the population is assigned to a discrete treatment $D \\in \\mathcal{D}=$ $\\left\\{d_{1}, d_{2}, \\ldots, d_{m}\\right\\},\\left(d_{1}=0\\right)$ between $t=0$ and $t=1 . Y_{t d}$ is the potential outcome at time $t$ when treatment is $d \\in \\mathcal{D}$. Extending Abadie (2005), I consider the following model :\n\n$$\n\\left\\{\\begin{array}{c}\nY_{0}=Y_{00} \\\\\nY_{1}=\\sum_{i=1}^{m} \\mathbb{1}\\left\\{D=d_{i}\\right\\} Y_{1 d}\n\\end{array}\\right.\n$$\n\nwhere $Y_{t}$ denotes the observed outcome at period $t$ and $Y_{t d}$ denotes the potential outcome in period $t \\in\\{0,1\\}$ and treatment status $d \\in \\mathcal{D}=\\left\\{d_{1}, d_{2}, \\ldots, d_{m}\\right\\}, d_{1}=$ 0 . Let $p_{d}=\\mathbb{P}(D=d)$. The goal of this paper is to provide conditions for the identification of the counterfactual distributions: $F_{Y_{1 d}}(y)$ and $F_{Y_{1 d} \\mid D=d^{\\prime}}(y) \\equiv \\mathbb{P}\\left(Y_{1 d} \\leq\\right.$ $y \\mid D=d^{\\prime}$ ). Unlike the binary case, in the discrete case, many parameters can be of interest:\n\n$$\n\\begin{gathered}\nQ T E\\left(\\tau, d, d^{\\prime}\\right)=F_{Y_{1 d}}^{-1}(\\tau)-F_{Y_{1 d^{\\prime}}}^{-1}(\\tau) \\\\\nA T E\\left(d, d^{\\prime}\\right)=\\int_{0}^{1} F_{Y_{1 d}}^{-1}(\\tau) d \\tau-\\int_{0}^{1} F_{Y_{1 d^{\\prime}}}^{-1}(\\tau) d \\tau \\\\\nQ T T\\left(\\tau, d, d^{\\prime} \\mid d^{\\prime \\prime}\\right)=F_{Y_{1 d} \\mid D=d^{\\prime \\prime}}^{-1}(\\tau)-F_{Y_{1 d^{\\prime}} \\mid D=d^{\\prime \\prime}}^{-1}(\\tau) \\\\\nA T T\\left(d, d^{\\prime} \\mid d^{\\prime \\prime}\\right)=\\mathbb{E}\\left(Y_{1 d}-Y_{1 d^{\\prime}} \\mid D=d^{\\prime \\prime}\\right)\n\\end{gathered}\n$$\n\nAnd for ordered treatment,\n\n$$\n\\begin{gathered}\nA C R T\\left(d_{j} \\mid d\\right)=A T T\\left(d_{j}, d_{j-1} \\mid d\\right) \\\\\nA C R\\left(d_{j}\\right)=A T E\\left(d_{j}, d_{j-1}\\right)\n\\end{gathered}\n$$\n\nwhere $Q T E(\\tau, d, d)$ is the $\\tau$-quantile effect of treatment $d$ compared to treatment $d$ and $Q T T(\\tau, d \\mid d)$ is the $\\tau$-quantile effect of treatment $d$ compared to treatment $d$ in the post-treatment period on units that experienced dose $d$.\n2.2. Identification with weak rank stability. For identification, I consider a set of assumptions similar Athey and Imbens (2006) and a generalization of the condition on the ranks. Therefore, I consider the following identification assumption:\n\nAssumption 1 (Strict Monotonicity).\nFor each $d \\in \\mathcal{D}$, there exist two strictly increasing functions $h_{t}(.), t \\in\\{0,1\\}$ and two uniformly distributed random variables over $[0,1] U_{t d}$ such that $Y_{t d}=h_{t}\\left(U_{t d}\\right)$.\n\nAssumption 2 (Weak Rank Stability).\n\n$$\nU_{00} \\mid D=d \\sim U_{10} \\mid D=d\n$$\n\nAssumption 3 (Support Condition).\n\n$$\n\\mathcal{Y}_{t 0 \\mid d} \\subseteq \\mathcal{Y}_{t 0 \\mid 0}\n$$\n\nAll these assumptions are virtually the same found in Athey and Imbens, 2006 generalized to multiple treatment arms. Assumption 1 is similar to Assumption 3.1-3.2 of Athey and Imbens (2006). It is guaranteed for continuous random variables by the Skorohod quantile representation. Assumption 2 is close to Assumption 3.3 in Athey and Imbens (2006). It requires that the distribution of potential outcomes for individuals in a given group remains unchanged over time in the absence of treatment. This assumption ensures that any observed changes in the distribution of outcomes over time for the treated group can be attributed to the treatment rather than other time-varying factors. This helps in isolating the causal effect of the treatment by comparing the changes in the treated group with the changes in the control group. Assumption 3 is similar to the support condition (Assumption 3.4) in Athey and Imbens (2006). It means that the support of the untreated potential outcome of the group $D=d$ is included in the support of the untreated potential outcome of the group $D=0$.\n\nThese three assumptions together generalize to the discrete treatment case the identifying assumptions in the binary treatment changes in the changes model of Athey and Imbens (2006). Before discussing the identification, I derive this intermediate result useful for the identification proof but that also gives an alternative interpretation of the model. From Sklar theorem, we know that there exists a unique subcopula C such that:\n\n$$\n\\begin{gathered}\n\\text { For all } y \\in \\mathcal{Y} \\\\\n\\mathbb{P}\\left(Y_{t 0} \\leq y, D=d\\right)=F_{Y_{t 0}, D}(y, d)=C_{Y_{t 0}, D}\\left(F_{Y_{t 0}}(y), p_{d}\\right)\n\\end{gathered}\n$$\n\nUnder These assumptions, we can obtain the following lemma :\nLemma 1 (Equivalence 1).\nAssumption 1, 2 and 3 together are equivalent to :\n\n$$\nC_{Y_{00}, D}\\left(u, p_{d}\\right)=C_{Y_{10}, D}\\left(u, p_{d}\\right)\n$$\n\nand $u \\rightarrow C_{Y_{t 0}, D}\\left(u, p_{d}\\right)$ is strictly increasing in $u$\nThis result was first established by Ghanem et al. (2023) for binary treatment. I generalize it to discrete treatment. It requires that the dependence structure between the distribution of the potential untreated outcome and the membership of the group (or the assignment of treatment) remains consistent over time. One of the primary advantages of having a copula restriction is its invariance property. This copula invariance property ensures that our main identification result remains unaffected by any strictly monotonic transformation. Here is my first main identification result :\n\nTheorem 1 (Identification).\nUnder Assumption 1-3 hold, for each $y \\in \\mathcal{Y}$ we have .\n\n$$\nF_{Y_{10} \\mid D=d}(y)=F_{Y_{0} \\mid D=d}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right)\\right)\n$$\n\nTherefore we can only identify the following:\n\n$$\n\\begin{gathered}\nQ T T(\\tau, d, 0 \\mid d)=F_{Y_{1 d} \\mid D=d}^{-1}(\\tau)-F_{Y_{10} \\mid D=d}^{-1}(\\tau) \\\\\nA T T(d, 0 \\mid d)=A T T(d \\mid d)=\\mathbb{E}\\left(Y_{1 d} \\mid D=d\\right)-\\int_{0}^{1} F_{Y_{1 d_{0}} \\mid D=d}^{-1}\n\\end{gathered}\n$$\n\nTheorem 1 generalizes to the discrete treatment of the result in the binary case of Athey and Imbens (2006). Likewise, it does not impose any restriction on the heterogeneity of potential outcomes within a period or between periods. We specifically do not impose restrictions on the evolution of the distribution of the untreated potential outcome across time. The intuition behind the identification result is very simple and can be summarized as follows: In the first period, we observe the joint distribution $\\mathbb{P}\\left(Y_{00} \\leq y, D=0\\right)$ and both marginal distributions $\\mathbb{P}\\left(Y_{00} \\leq y\\right)$ and $\\mathbb{P}(D=d)$. We can recover the copula $C_{Y_{00}, D}\\left(u, p_{d}\\right)$ in the first period. Then, since we assume the dependence structure to be stationary over time and observe the joint distribution $\\mathbb{P}\\left(Y_{10} \\leq y, D=0\\right)$ in the second period, we can recover the marginal distribution $\\mathbb{P}\\left(Y_{10} \\leq y\\right)$ and also $\\mathbb{P}\\left(Y_{10} \\leq y \\mid D=d\\right)$.\n\nTheorem 2 proposes a more robust way to identify $A T T(d, 0 \\mid d)=A T T(d \\mid d)=$ $\\mathbb{E}\\left(Y_{1 d}-Y_{10} \\mid D=d\\right)$ compared to the parallel trends assumption of Callaway et al. (2024). They assume that :\n\n$$\n\\mathbb{E}\\left(Y_{10}-Y_{00} \\mid D=d\\right)=\\mathbb{E}\\left(Y_{10}-Y_{00} \\mid D=0\\right)\n$$\n\nThis assumption says that the average evolution of the outcomes that the units with any treatment $d$ would have experienced without treatment is the same as the evolution of outcomes that units in the untreated group experienced. Like the natural parallel trend assumption, this one is also not invariant to a monotonic transformation since it restricts the covariance, and the covariance is not invariant to a monotonic transformation. It also restricts the evolution of the marginal distribution of $Y_{t 0}$ over time and the dependence between $Y_{t 0}$ and $D$.\n\nUnlike the parallel trends assumption, the copula stability assumption is invariant to monotonic transformation and does not constrain the evolution of the marginal distribution over time, yet it relies only on the stability of the horizontal copula that governs the relationship between $Y_{t 0}$ and $D$.\n\nDespite the advantages of weak rank stability, many parameters of interest in this case cannot be recovered, therefore, I introduce a stronger assumption in the following section.\n\n2.3. Identification With Strong Rank Stability. Since we cannot identify some parameters like for example average causal responses (ACR) under the dependence stability assumption, this suggests that learning about this type of parameter requires stronger assumptions. These assumptions are close to those found in the continuous CiC model of D'Haultf\u0153uille et al. (2023).\n\nAssumption 4 (Strong Rank Stability).\n\n$$\nU_{0 d} \\mid D=d^{\\prime} \\sim U_{1 d} \\mid D=d^{\\prime}\n$$\n\nAssumption 5 (Support Condition).\n\n$$\n\\mathcal{Y}_{t d \\mid d} \\subseteq \\mathcal{Y}_{t d^{\\prime} \\mid d}\n$$\n\nAssumptions 1 and 4 together are similar to Assumption 1 of D'Haultf\u0153uille et al. (2023). and Assumption is also a support condition we need. Like previously these assumptions can be stated in terms of a copula Invariance condition.\n\nIt requires that the distribution of potential outcomes for individuals in a given group remains unchanged over time in the presence of any other treatment arm.\n\nWe have from Sklar's theorem $\\mathbb{P}\\left(Y_{t d} \\leq y, D=d^{\\prime}\\right)=C_{Y_{t d}, D}\\left(F_{Y_{t d}}(y), p_{d^{\\prime}}\\right)$\nLemma 2 (Equivalence 2).\nAssumption 1, 4 and 5 together are equivalent to :\n\n$$\n\\begin{aligned}\n& \\text { For all } d, d^{\\prime} \\text {, and all } u \\in[0,1] \\\\\n& C_{Y_{0 d}, D}\\left(u, p_{d^{\\prime}}\\right)=C_{Y_{1 d}, D}\\left(u, p_{d^{\\prime}}\\right)\n\\end{aligned}\n$$\n\nAssumption 3 necessitates that the dependence structure between the distribution of the potential outcome under treatment $d$ and group membership (or treatment assignment) remains consistent over time. This assumption can also be seen as some generalization of the traditional CiC assumptions. Here is the statement of the identification result.\n\nTheorem 2 (Identification).\nLet Assumption 1, 4 and 5 hold, for each $y \\in \\mathcal{Y}$ we have .\n\n$$\n\\begin{gathered}\nF_{Y_{1 d}}(y)=F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y)\\right)\\right) \\\\\nF_{Y_{1 d} \\mid D=d^{\\prime}}(y)=F_{Y_{0} \\mid D=d^{\\prime}}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right)\\right)\n\\end{gathered}\n$$\n\nTherefore, we can identify the following:\n\n$$\n\\begin{gathered}\nQ T E\\left(\\tau, d, d^{\\prime}\\right)=F_{Y_{1 d}}^{-1}(\\tau)-F_{Y_{1 d^{\\prime}}}^{-1}(\\tau) \\\\\nA T E\\left(d, d^{\\prime}\\right)=\\int_{0}^{1} F_{Y_{1 d}}^{-1}(\\tau) d \\tau-\\int_{0}^{1} F_{Y_{1 d^{\\prime}}}^{-1}(\\tau) d \\tau \\\\\nQ T T\\left(\\tau, d, d^{\\prime} \\mid d^{\\prime \\prime}\\right)=F_{Y_{1 d} \\mid D=d^{\\prime \\prime}}^{-1}(\\tau)-F_{Y_{1 d^{\\prime}} \\mid D=d^{\\prime \\prime}}^{-1}(\\tau) \\\\\nA T T\\left(d, d^{\\prime} \\mid d^{\\prime \\prime}\\right)=\\mathbb{E}\\left(Y_{1 d}-Y_{1 d^{\\prime}} \\mid D=d^{\\prime \\prime}\\right)\n\\end{gathered}\n$$\n\nAnd for ordered treatment,\n\n$$\n\\begin{gathered}\nA C R T\\left(d_{j} \\mid d_{j}\\right)=A T T\\left(d_{j}, d_{j-1} \\mid d_{j}\\right) \\\\\nA C R\\left(d_{j}\\right)=A T E\\left(d_{j}, d_{j-1}\\right)\n\\end{gathered}\n$$", "tables": {}, "images": {}}, {"section_id": 3, "text": "# 3. APPLICATIONS\n## 4. CONCLUSION\n# Appendix A. Proofs of the results in the main text \n\nA.1. Proof of Lemma 1. From Sklar theorem, we know that there exists a unique subcopula C such that:\n\n$$\n\\begin{gathered}\n\\text { For all } y \\in \\mathcal{Y} \\\\\n\\mathbb{P}\\left(Y_{t 0} \\leq y, D=d\\right)=F_{Y_{t 0}, D}(y, d)=C_{Y_{t 0}, D}\\left(F_{Y_{t 0}}(y), p_{d}\\right)\n\\end{gathered}\n$$\n\nWe need to prove the equivalence between these 2 statements:\n\n- (Assumption 1-3) There exist two strictly increasing functions $h_{t}(.), t \\in\\{0,1\\}$ and two uniformly distributed random variables over $[0,1] U_{t 0}$ such that $Y_{t 0}=$ $h_{t}\\left(U_{t 0}\\right)$ and $U_{00} \\mid D=d \\sim U_{10} \\mid D=d$\n- $C_{Y_{00}, D}\\left(u, p_{d}\\right)=C_{Y_{10}, D}\\left(u, p_{d}\\right)$\n\nLet $p_{d}=\\mathbb{P}(D=d)$. Since the cdf $F_{Y_{t 0}}$ is continuous and strictly increasing, we have :\n\n$$\nY_{t 0}=Q_{Y_{t 0}}\\left(U_{t 0}\\right) \\equiv h_{t}\\left(U_{t 0}\\right)\n$$\n\nBy definition, $h_{t}$ is continuous and strictly increasing as is the quantile function $Q_{Y_{t 0}}$.\n\n$$\n\\begin{aligned}\nC_{Y_{00}, D}\\left(u, p_{d}\\right)=C_{Y_{10}, D}\\left(u, p_{d}\\right) & \\Leftrightarrow C_{U_{00}, D}\\left(u, p_{d}\\right)=C_{U_{10}, D}\\left(u, p_{d}\\right) \\\\\n& \\Leftrightarrow \\mathbb{P}\\left(U_{00} \\leq u, D=d\\right)=\\mathbb{P}\\left(U_{10} \\leq u, D=d\\right) \\\\\n& \\Leftrightarrow \\frac{\\mathbb{P}\\left(U_{00} \\leq u, D=d\\right)}{\\mathbb{P}(D=d)}=\\frac{\\mathbb{P}\\left(U_{10} \\leq u, D=d\\right)}{\\mathbb{P}(D=d)} \\\\\n& \\Leftrightarrow \\mathbb{P}\\left(U_{00} \\leq u \\mid D=d\\right)=\\mathbb{P}\\left(U_{10} \\leq u \\mid D=d\\right)\n\\end{aligned}\n$$\n\nThe first equivalence follows from the invariance principle, and the second holds from Sklar's theorem.\n\nThe function $u \\mapsto C_{Y_{t 0}, D}\\left(u, p_{d}\\right)$ is strictly increasing. In fact, we know that :\n\n$$\nF_{Y, D}\\left(Q_{Y_{t 0}}(u), d\\right)=C_{Y_{t 0}, D}\\left(u, p_{d}\\right)\n$$\n\nLet $u, u^{\\prime} \\in[0,1]$. We have\n\n$$\n\\begin{aligned}\nu<u^{\\prime} & \\Rightarrow Q_{Y_{10}}(u)<Q_{Y_{10}}\\left(u^{\\prime}\\right) \\\\\n& \\Rightarrow F_{Y_{1}, D}\\left(Q_{Y_{10}}(u), d\\right)<F_{Y_{1}, D}\\left(Q_{Y_{10}}\\left(u^{\\prime}\\right), d\\right) \\\\\n& \\Rightarrow C_{Y_{10}, D}\\left(u, p_{d}\\right)<C_{Y_{10}, D}\\left(u^{\\prime}, p_{d}\\right)\n\\end{aligned}\n$$\n\nA.2. Proof of Theorem 1. Now, I derive the following. Fix $y \\in \\mathcal{Y}$. We know that:\n\n$$\n\\begin{aligned}\nF_{Y_{1} \\mid D=0}(y) & =F_{Y_{0} \\mid D=0}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right)\\right) \\\\\nF_{Y_{1}, D}(y, 0) & =F_{Y_{0}, D}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=d}(y)\\right), 0\\right) \\\\\nC_{Y_{10}, D}\\left(F_{Y_{10}}(y), p_{0}\\right) & =C_{Y_{0}, D}\\left(F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right), p_{0}\\right)\\right. \\\\\nC_{Y_{10}, D}\\left(F_{Y_{10}}(y), p_{0}\\right) & =C_{Y_{0}, D}\\left(F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right), p_{0}\\right)\\right. \\\\\nC_{Y_{0}, D}\\left(F_{Y_{10}}(y), p_{0}\\right) & =C_{Y_{0}, D}\\left(F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right), p_{0}\\right)\\right. \\\\\nF_{Y_{10}}(y) & =F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right)\\right.\n\\end{aligned}\n$$\n\nThe passage from the third to the fourth line requires the use of Lemma 1. And the passage from line 5 to line 6 requires the use of lemma 2. Now we also know that:\n\n$$\n\\begin{aligned}\n\\mathbb{P}\\left(Y_{10} \\leq y \\mid D=d\\right) & =\\frac{\\mathbb{P}\\left(Y_{10} \\leq y, D=d\\right)}{\\mathbb{P}(D=d)} \\\\\n& =\\frac{C_{Y_{10}, D}\\left(F_{Y_{10}}(y), p_{d}\\right)}{\\mathbb{P}(D=d)} \\\\\n& =\\frac{C_{Y_{0}, D}\\left(F_{Y_{10}}(y), p_{d}\\right)}{\\mathbb{P}(D=d)} \\\\\n& =\\frac{\\mathbb{P}\\left(Y_{0} \\leq Q_{Y_{0}}\\left(F_{Y_{10}}(y)\\right), D=d\\right)}{\\mathbb{P}(D=d)} \\\\\n& =\\frac{\\mathbb{P}\\left(Y_{0} \\leq Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right), D=d\\right)}{\\mathbb{P}(D=d)} \\\\\n& =F_{Y_{0} \\mid D=d}\\left(Q_{Y_{0} \\mid D=0}\\left(F_{Y_{1} \\mid D=0}(y)\\right)\\right)\n\\end{aligned}\n$$\n\nA.3. Proof of lemma 2. From Sklar theorem, we know that there exists a unique subcopula C such that:\n\nFor all $y \\in \\mathcal{Y}$,\n\n$$\n\\mathbb{P}\\left(Y_{t d} \\leq y, D=d^{\\prime}\\right)=F_{Y_{t d}, D}\\left(y, d^{\\prime}\\right)=C_{Y_{t d}, D}\\left(F_{Y_{t d}}(y), p_{d^{\\prime}}\\right)\n$$\n\nWe want to prove that the 2 statements are equivalent when $D$ is discrete: $p_{d^{\\prime}}=$ $\\mathbb{P}\\left(D=d^{\\prime}\\right)$\n\nThe two following statements are equivalent\n\n- (Assumption 1,4) There exist two strictly increasing functions $h_{t}()$, $t \\in\\{0,1\\}$ and two uniformly distributed random variables over $[0,1] U_{t d}$ such that $Y_{t d}=$ $h_{t}\\left(U_{t d}\\right)$ and $U_{0 d} \\mid D=d^{\\prime} \\sim U_{1 d} \\mid D=d^{\\prime}$\n- $C_{Y_{0 d}, D}\\left(u, p_{d^{\\prime}}\\right)=C_{Y_{1 d}, D}\\left(u, p_{d^{\\prime}}\\right)$\n\n$$\n\\begin{aligned}\nC_{Y_{0 d}, D}\\left(u, p_{d^{\\prime}}\\right)=C_{Y_{1 d}, D}\\left(u, p_{d^{\\prime}}\\right) & \\Leftrightarrow C_{U_{0 d}, D}\\left(u, p_{d^{\\prime}}\\right)=C_{U_{1 d}, D}\\left(u, p_{d^{\\prime}}\\right) \\\\\n& \\Leftrightarrow \\mathbb{P}\\left(U_{0 d} \\leq u, D=d^{\\prime}\\right)=\\mathbb{P}\\left(U_{1 d} \\leq u, D=d^{\\prime}\\right) \\\\\n& \\Leftrightarrow \\frac{\\mathbb{P}\\left(U_{0 d} \\leq u, D=d^{\\prime}\\right)}{\\mathbb{P}\\left(D=d^{\\prime}\\right)}=\\frac{\\mathbb{P}\\left(U_{1 d} \\leq u, D=d^{\\prime}\\right)}{\\mathbb{P}\\left(D=d^{\\prime}\\right)} \\\\\n& \\Leftrightarrow \\mathbb{P}\\left(U_{0 d} \\leq u \\mid D=d^{\\prime}\\right)=\\mathbb{P}\\left(U_{1 d} \\leq u \\mid D=d^{\\prime}\\right)\n\\end{aligned}\n$$\n\nThe first equivalence follows from the invariance principle, and the second holds from Sklar's theorem.\nA.4. Proof of theorem 4. Fix $y \\in \\mathcal{Y}$. We know that :\n\n$$\n\\begin{aligned}\nF_{Y_{1} \\mid D=d}(y) & =F_{Y_{0} \\mid D=d}\\left(Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y)\\right)\\right) \\\\\nF_{Y_{1}, D}(y, d) & =F_{Y_{0}, D}\\left(Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y)\\right), d\\right) \\\\\nC_{Y_{1 d}, D}\\left(F_{Y_{1 d}}(y), p_{d}\\right) & =C_{Y_{0}, D}\\left(F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y)\\right), p_{d}\\right)\\right. \\\\\nC_{Y_{0 d}, D}\\left(F_{Y_{1 d}}(y), p_{d}\\right) & =C_{Y_{0}, D}\\left(F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y)\\right), p_{d}\\right)\\right. \\\\\nC_{Y_{0}, D}\\left(F_{Y_{1 d}}(y), p_{d}\\right) & =C_{Y_{0}, D}\\left(F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y)\\right), p_{d}\\right)\\right. \\\\\nF_{Y_{1 d}}(y) & =F_{Y_{0}}\\left(Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y)\\right)\\right.\n\\end{aligned}\n$$\n\nThe passage from the third to the fourth line requires the use of Assumption 1. And the passage from line 5 to line 6 requires the use of Assumption 2. Now, we know\n\nthat :\n\n$$\n\\begin{aligned}\n\\mathbb{P}\\left(Y_{1 d} \\leq y \\mid D=d^{\\prime}\\right) & =\\frac{\\mathbb{P}\\left(Y_{1 d} \\leq y, D=d^{\\prime}\\right)}{\\mathbb{P}\\left(D=d^{\\prime}\\right)} \\\\\n& =\\frac{C_{Y_{1 d}, D}\\left(F_{Y_{1 d}}(y), p_{d^{\\prime}}\\right)}{\\mathbb{P}\\left(D=d^{\\prime}\\right)} \\\\\n& =\\frac{C_{Y_{0}, D}\\left(F_{Y_{10}}(y), p_{d^{\\prime}}\\right)}{\\mathbb{P}\\left(D=d^{\\prime}\\right)} \\\\\n& =\\frac{\\mathbb{P}\\left(Y_{0} \\leq Q_{Y_{0}}\\left(F_{Y_{10}}(y)\\right), D=d^{\\prime}\\right)}{\\mathbb{P}\\left(D=d^{\\prime}\\right)} \\\\\n& =\\frac{\\mathbb{P}\\left(Y_{0} \\leq Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y), D=d^{\\prime}\\right)\\right.}{\\mathbb{P}\\left(D=d^{\\prime}\\right)} \\\\\n& =F_{Y_{0} \\mid D=d^{\\prime}}\\left(Q_{Y_{0} \\mid D=d}\\left(F_{Y_{1} \\mid D=d}(y)\\right)\\right)\n\\end{aligned}\n$$", "tables": {}, "images": {}}, {"section_id": 4, "text": "# REFERENCES \n\nA. Abadie. Semiparametric difference-in-differences estimators. The review of economic studies, 72(1):1-19, 2005.\nS. Athey and G. W. Imbens. Identification and Inference in Nonlinear Difference-inDifferences Models. Econometrica, 74(2):431-497, 2006.\nB. Callaway, A. Goodman-Bacon, and P. H. Sant'Anna. Difference-in-differences with a continuous treatment. Technical report, National Bureau of Economic Research, 2024.\nX. D'Haultf\u0153uille, S. Hoderlein, and Y. Sasaki. Nonparametric difference-indifferences in repeated cross-sections with continuous treatments. Journal of Econometrics, 234(2):664-690, 2023.\nD. Ghanem, D. K\u00e9dagni, and I. Mourifi\u00e9. Evaluating the impact of regulatory policies on social welfare in difference-in-difference settings. arXiv preprint arXiv:2306.04494, 2023.\n\nPenn State", "tables": {}, "images": {}}], "id": "2411.01617v1", "authors": ["Onil Boussim"], "categories": ["econ.EM"], "abstract": "This paper generalizes the changes-in-changes (CIC) model to handle discrete\ntreatments with more than two categories, extending the binary case of Athey\nand Imbens (2006). While the original CIC model is well-suited for binary\ntreatments, it cannot accommodate multi-category discrete treatments often\nfound in economic and policy settings. Although recent work has extended CIC to\ncontinuous treatments, there remains a gap for multi-category discrete\ntreatments. I introduce a generalized CIC model that adapts the rank invariance\nassumption to multiple treatment levels, allowing for robust modeling while\ncapturing the distinct effects of varying treatment intensities.", "updated": "2024-11-03T16:07:26Z", "published": "2024-11-03T16:07:26Z"}