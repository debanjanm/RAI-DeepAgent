{"title": "Gains-from-Trade in Bilateral Trade with a Broker", "sections": [{"section_id": 0, "text": "## Abstract\n\nWe study bilateral trade with a broker, where a buyer and seller interact exclusively through the broker. The broker strategically maximizes her payoff through arbitrage by trading with the buyer and seller at different prices. We study whether the presence of the broker interferes with the mechanism's gains-from-trade (GFT) achieving a constant-factor approximation to the first-best gains-from-trade (FB), in a similar vein to the constant-factor approximability without a broker by Deng, Mao, Sivan and Wang (STOC'21).\n\nWe first identify a structural connection between GFT, FB, and the broker's expected profit when the broker uses a posted-pricing mechanism, which implies the $1 / 2$-approximation via median-based pricing by McAfee (AERB'08) as a special case. More importantly, inspired by this, we show that the GFT achieves a $1 / 36$-approximation to the FB even if the broker runs an optimal posted-pricing mechanism under symmetric agents with monotone-hazard-rate distributions, which are central to mechanism design due to Myerson (MOR'81). We cement this result by proving that the approximation factor can also be lower bounded by $2 / M^{2}$ if the hazard rates are bounded above by $M$. Furthermore, if the broker uses a quantile-based postedpricing mechanism of offering the $\\alpha$-quantile (of the buyer's distribution) to the buyer and the $\\beta$-quantile (of the seller's distribution) to the seller, e.g., due to a lack of a precise estimation of the distributions, the mechanism achieves a $\\beta(1-\\alpha)$-approximation to the first-best GFT. As a corollary, we prove that there exists a simple single-sample mechanism of the broker that achieves a $1 / 12$-approximation to the first-best GFT.\n\nBeyond posted-pricing mechanisms, even if the broker uses an arbitrary incentive-compatible (IC) and individually-rational (IR) mechanism that maximizes her expected profit, we prove that it induces a $1 / 2$-approximation to the first-best GFT when the buyer's and seller's distributions are uniform distributions with arbitrary supports. This bound is shown to be tight.\n\nWe complement such results by proving that if the broker uses an arbitrary profit-maximizing IC and IR mechanism, there exists a family of problem instances under which the approximation factor to the first-best GFT becomes arbitrarily close to zero. We show that this phenomenon persists even if we restrict one of the buyer's or seller's distributions to have a singleton support, or even in the symmetric setting where the buyer and seller have identical distributions. Finally, we show that in the general-distribution and public-seller settings, the inapproximability of the first-best gains-from-trade carries over to first-best social welfare as well.\n\n[^0]\n[^0]:    *Takoma Park Middle School Takoma Park USA. Email: ihajiaghayi@gmail.com\n    ${ }^{\\dagger}$ University of Maryland College Park USA. Email: hajiagha@umd.edu\n    ${ }^{\\ddagger}$ University of Maryland College Park USA. Email: gpeng1@terpmail.umd.edu\n    ${ }^{\\S}$ University of Maryland College Park USA. Email: suhoshin@umd.edu\n    Correspondence to Suho Shin. A part of this work has appeared in SODA'25. This work is partially supported by DARPA QuICC, NSF AF:Small \\#2218678, NSF AF:Small \\#2114269, Army-Research Laboratory (ARL) \\#W911NF2410052, and MURI on Algorithms, Learning and Game Theory.", "tables": {}, "images": {}}, {"section_id": 1, "text": "# 1 Introduction \n\nThe problem of bilateral trade, introduced by Myerson and Satterthwaite (1983), has been a cornerstone in mechanism design and algorithmic game theory in the past few decades. In bilateral trade, a single buyer and seller engage in trade, with each party holding private information about their valuation. If the buyer's valuation is larger than the seller's, social welfare strictly increases by transferring the item from the seller to buyer at certain prices. The buyer and seller, however, may strategically hide their true valuation to increase their own payoff. This leads to the challenge of constructing a truthful mechanism while maintaining its efficiency in terms of the social welfare. More precisely, the objective here is to design a mechanism that optimizes efficiency while satisfying (i) incentive-compatibility (IC), i.e., both players truthfully report their values, (ii) individual rationality, i.e., the players are not worse off by participating the trade, and (iii) budget-balancedness (BB) so that the mechanism does not run a deficit.\n\nThe seminal result by Myerson and Satterthwaite (1983), however, reveals that it is impossible to achieve ex-post efficiency ${ }^{1}$ subject to the constraints of IC, IR, and BB, and even subject to the loosened notion of Bayes-Nash IC (BNIC), IR, and weakly budget-balancedness (WBB). Correspondingly, a long line of work (McAfee, 2008; Blumrosen and Dobzinski, 2014, 2016; Blumrosen and Mizrahi, 2016) has studied the best possible approximate efficiency, in particular for the notion of gains-from-trade (GFT), ${ }^{2}$ with respect to those desideratum. It was a long-standing open problem whether a constant-factor approximation to the first-best GFT was possible, until it was recently answered in the affirmative by Deng et al. (2022).\n\nOn the other hand, in many real-world scenarios, the buyer and seller might not be able to trade the item directly, e.g., due to regulatory requirements, privacy concerns, or time constraints, in particular for financial markets, real estate, over-the-counter markets, and markets for demerit goods with licensed intermediaries. Brokers do more than just facilitate transactions, where they often play a crucial role in price discovery and risk management. Notably, Myerson and Satterthwaite (1983) also study bilateral trade with a broker and characterizes an optimal mechanism for a broker who tries to maximize her own profit. Despite being significantly practical and well-founded, there have only been a few papers studying bilateral trade in the presence of broker (\u010copi\u010d and Ponsat\u00ed, 2008; Zhang, 2019; Eilat and Pauzner, 2021; Kuang et al., 2023).\n\nIn this work, we initiate the study of approximating gains-from-trade in bilateral trade with a broker, investigating the following fundamental question, which has not been explored before:\n\nDoes the presence of a strategic broker interfere with the possibility of constant-factor approximation to the first-best gains-from-trade?\n\nWe answer this question both affirmatively and negatively by characterizing the regimes under which constant approximation is possible or not. Our characterization reveals the extent to which the marginal increase of the social welfare can be interrupted by a strategic broker, shedding light on the public decision-making process of enforcing regulatory restriction in trade.\n\n[^0]\n[^0]:    ${ }^{1} \\mathrm{~A}$ mechanism is ex-post efficient if it achieves the optimal ex-post social welfare, i.e., if trade occurs whenever the buyer's valuation is at least the seller's valuation.\n    ${ }^{2}$ Gains-from-trade is defined by the expected marginal increase of the social welfare. Thus, it is typically harder to approximate than social welfare. We refer to Section 2 for more details.", "tables": {}, "images": {}}, {"section_id": 2, "text": "# 1.1 Our Results \n\nTo summarize our results, we first briefly introduce the problem setup. In bilateral trade with a broker, there exist a buyer and a seller with private valuations $v$ and $c$, respectively. We use $F$ and $G$ to denote the respective cumulative probability distributions (CDFs) of the buyer and the seller, and $f$ and $g$ to denote their respective probability density functions (PDFs). In addition, we write $\\mu_{F}(\\alpha)$ for $\\alpha \\in[0,1]$ to denote the $\\alpha$-quantile of $F$, i.e., $\\mu_{F}(\\alpha)=\\inf \\{t: F(t) \\geq \\alpha\\}$, and similarly define $\\mu_{G}(\\beta)$ for $\\beta \\in[0,1]$ to be the $\\beta$-quantile of $G$. The buyer and the seller exclusively trade through a broker, who tries to maximize her expected profit by constituting an arbitrage on the prices to the buyer and seller. We consider Bayesian mechanisms in which the broker knows $F$ and $G .{ }^{3}$ The gains-from-trade in this setting is defined to be the expected marginal increase of the social welfare, i.e., by $\\mathrm{GFT}=\\mathbb{E}_{v \\sim F, c \\sim G}[(v-c) \\cdot x(v, c)]$, where $x(v, c)$ denotes the probability that the item is transferred from the seller to the buyer if their respective valuations are $c$ and $v$. If there exists an omniscient planner who can observe the private valuations and also enforce trade at arbitrary prices, society would enjoy the maximum increase of social welfare, i.e., the first-best GFT (henceforth FB-GFT), defined as $\\mathrm{FB}-\\mathrm{GFT}=\\mathbb{E}_{v \\sim F, c \\sim G}[(v-c) \\cdot \\mathbf{1}\\{v \\geq c\\}]$. We refer to Section 2 for more detailed definitions and notation.\nDistribution Types. We say that the buyer's distribution is regular if his virtual valuation $\\phi_{F}(x)=x-(1-F(x)) / f(x)$ is nondecreasing, and we say that the seller's distribution is regular if his virtual valuation $\\phi_{G}(x)=x+G(x) / g(x)$ is nondecreasing. The quantities $h_{b}(x)=f(x) /(1-F(x))$ and $h_{s}(x)=g(x) / G(x)$ are usually denoted as hazard rates. We say that $F$ has a monotone hazard rate (MHR) if $h_{b}(x)$ is nondecreasing, and we say that $G$ is MHR if $h_{s}(x)$ is nonincreasing. MHR and regular distributions are widely studied in the literature, with their fruitful connections to mechanism design (Myerson (1981); Blumrosen and Dobzinski (2016); Blumrosen and Mizrahi (2016)). Finally, we often consider the ex-ante symmetric agents setting, in which the buyer's and seller's distributions are the same, i.e., $F=G .{ }^{4}$\nPosted-Pricing Mechanisms. We begin by investigating a broker who runs a posted-pricing mechanism, ${ }^{5}$ i.e., a broker who offers a pair of fixed prices $p$ and $q$ to the buyer and seller, respectively. Posted-pricing mechanisms are widely adopted in many real world applications due to their simplicity and transparency, in particular for online labor market and size-discovery mechanisms, including workup mechanisms and dark pools (Kang and Vondr\u00e1k (2019)). In addition, in the standard setting of bilateral trade without a broker, posted-pricing mechanisms were shown by Hagerty and Rogerson (1987) to be the only class of mechanisms satisfying budget-balancedness and DSIC. Note further that posted-pricing mechanisms are clearly IR.\n\nTowards obtaining approximation factors to FB for various regimes of problem instances, we first identify a structural inequality involving GFT, the broker's expected profit, and FB-GFT, which might be of independent interest. To this end, we use a variant of the analysis by McAfee (2008) after decomposing the gains-from-trade using the posted prices.\n\nTheorem 1.1 (Decomposition). Given a broker's posted-pricing mechanism with prices $(p, q)$, the following holds:\n\n$$\n\\operatorname{GFT} \\geq \\operatorname{PrOFiT}+\\min (G(q), 1-F(p))(\\operatorname{FB}-\\mathrm{GFT}-\\int_{q}^{p} G(x)(1-F(x)) d x)\n$$\n\n[^0]\n[^0]:    ${ }^{3}$ In comparison, the literature often considers prior-independent mechanisms that do not know the distributions, e.g., second-price auctions.\n    ${ }^{4}$ Such ex-ante symmetric agents are well-motivated by size-discovery mechanisms in financial markets - in particular for dark pools (Kang and Vondr\u00e1k, 2019) - and are widely assumed in the literature, e.g., see Degryse et al. (2009); Zhu (2014); Duffie and Zhu (2017).\n    ${ }^{5}$ This is often called a fixed-price mechanism in the literature.\n\nAs a byproduct, we reobtain the structural result by McAfee (2008), including the 1/2-approximation to the first-best GFT via median-based pricing. We state this formally in the following corollary:\n\nCorollary 1.2. Consider bilateral trade without a broker ${ }^{6}$ and a posted-pricing mechanism with fixed price $p$. Then, we have\n\n$$\n\\operatorname{GFT} \\geq \\min (G(p), 1-F(p)) \\cdot \\mathrm{FB}-\\mathrm{GFT}\n$$\n\nAs a special case, if the median of $F$ is at least that of $G$, then setting $p$ to be any value between these medians yield a $1 / 2$-approximation to the first-best GFT.\n\nNote that Corollary 1.2 immediately follows from plugging $p=q$ into Theorem 1.1, which results in Profit $=0$ and $\\int_{q}^{p} G(x)(1-F(x)) d x=0$,\n\nOn the other hand, it is not immediately clear what approximation factors we can obtain from Theorem 1.1 when a profit-maximizing broker is in fact present. Let $\\left(p^{*}, q^{*}\\right)$ be the broker's optimal pair of prices. As an initial attempt, suppose that the broker uses the $1 / 4$-quantile of the seller's distribution and the $3 / 4$-quantile of the buyer's distribution as prices for the seller and buyer, respectively, assuming that $\\mu_{F}(3 / 4) \\geq \\mu_{G}(1 / 4)$. For simplicity, let $p=\\mu_{F}(3 / 4), q=\\mu_{G}(1 / 4)$, $\\Delta=p-q$ and $H(p, q)=\\int_{q}^{p} G(x)(1-F(x)) d x$. Then, to lower bound the right-hand side of Theorem 1.1, we might naively upper bound the integral by $\\Delta \\cdot \\max (G(p), 1-F(q))$. However, this involves the gap $\\Delta$ between the posted prices as well as the probabilities $G(p)$ and $1-F(q)$, none of which are easy to deal with.\n\nInstead, taking a closer look at (1.1), we consider two cases where $H(p, q)=\\int_{q}^{p} G(x)(1-F(x))$ is sufficiently small or moderately large, respectively. If $H(p, q)$ maintains a rather small value, then since\n\n$$\n\\operatorname{Profit}=(p-q)(1-F(p)) G(q) \\leq \\int_{q}^{p}(1-F(x)) G(x) d x\n$$\n\nit should be the case that Profit is also small. Thus, there is a high chance that $\\min (G(q), 1-F(p))$ is small as well, i.e., we cannot find an appropriate lower bound of the right-hand side of (1.1) in multiplicative terms of FB-GFT.\n\nOn the other hand, suppose $H(p, q)$ is moderately large, say $H(p, q) \\geq C \\cdot \\mathrm{FB}-\\mathrm{GFT}$ for some constant $C>0$. Then, since the profit-maximizing broker's optimal payoff should be at least the payoff obtained from posting $(p, q)$, we know that\n\n$$\n\\operatorname{Profit}\\left(p^{*}, q^{*}\\right) \\geq \\operatorname{Profit}(p, q) \\geq \\Delta \\cdot \\frac{1}{16}\n$$\n\nwhere we obtain the $1 / 16$ due to our choice of $(p, q)$ above. At the same time, $\\Delta$ provides a trivial upper bound on $H(p, q)$, which implies that we can lower bound the optimal broker's profit by $C^{\\prime} \\cdot \\mathrm{FB}-\\mathrm{GFT}$ for some constant $C^{\\prime}>0$. The main technical challenge here is to prove that there exists an appropriate choice of a pair of prices $(p, q)$ such that the corresponding quantile probabilities are absolute constants and $H(p, q)$ is at least some constant times FB-GFT. We show that this is indeed possible for MHR distributions with symmetric agents, using a clever decomposition and an exploitation of the properties of MHR distributions. Formally, we prove the following theorem:\n\n[^0]\n[^0]:    ${ }^{6}$ Alternatively, a broker who tries to maximize the gains-from-trade instead of her expected profit.\n\nTheorem 1.3 (Symmetric agents, MHR distributions). Consider symmetric agents with MHR distributions. Then, if the broker runs an optimal posted-pricing mechanism, ${ }^{7}$ it follows that $\\mathrm{GFT} \\geq 1 / 36 \\cdot \\mathrm{FB}-\\mathrm{GFT} .{ }^{8}$\n\nIt is worth noting that symmetric agents are well-motivated by size-discovery mechanisms including workup mechanisms by the U.S. Treasury market and dark pools (Duffie and Zhu, 2017; Zhu, 2014; Kang and Vondr\u00e1k, 2019). In particular, in stock markets with brokerage, each participant can act either as a buyer or a seller. Thus, the broker cannot distinguish between the buyer and seller and hence cannot estimate their respective distributions separately. MHR distributions are also central to the theory of mechanism design along with regular distributions, due to the celebrated result by Myerson (1981) and further seminal works in algorithmic game theory (Hartline and Roughgarden, 2009; Chawla et al., 2010, 2007; Hartline and Roughgarden, 2008) (see Roughgarden (2010) for a comprehensive exposition).\n\nTo tackle the relatively small approximation guarantee presented above, we show that if the hazard rates of the MHR distributions are further bounded above by $M>0$, then any optimal posted-pricing mechanism achieves at least a $2 / M^{2}$-approximation. The proof follows from expanding FB-GFT and GFT in a slightly different manner than in Theorem 1.1, largely by exploiting symmetry and properties of MHR distributions. The formal statement can be presented as follows:\n\nTheorem 1.4 (Symmetric agents, MHR distributions with bounded hazard rates). Consider symmetric agents with MHR distributions whose hazard rates are uniformly bounded above by $M$. Then, if the broker runs an optimal posted pricing mechanism, it follows that $\\mathrm{GFT} \\geq 2 / M^{2} \\cdot \\mathrm{FB}-\\mathrm{GFT} .{ }^{9}$\n\nSo far, we have only considered optimal posted-pricing mechanisms, which requires the broker to have complete information, i.e., a precise estimation, about the distributions $F$ and $G$. In practice, however, it is typically difficult for the broker to exactly estimate the probability distributions of the buyer and the seller. Instead, the broker may only be aware of several statistics about the distributions such as expectations, medians, or more generally quantiles. Therefore, our next question is to characterize the approximation factor if the broker runs a quantile-based postedpricing mechanism where she offers $\\mu_{F}(\\alpha)$ to the buyer and $\\mu_{G}(\\beta)$ to the seller. In this case, we observe that one can express the approximation factor to the first-best GFT as a function of $\\alpha$ and $\\beta$ without introducing the gap between the quantiles itself, formalized as follows:\n\nTheorem 1.5 (Quantile-based posted-pricing mechanism). Suppose $\\mu_{G}(\\beta) \\leq \\mu_{F}(\\alpha)$, with $\\alpha<1$ and $\\beta>0$. Then, if the broker sets $p=\\mu_{F}(\\alpha)$ and $q=\\mu_{G}(\\beta)$, we have that\n\n$$\n\\mathrm{GFT} \\geq \\beta(1-\\alpha) \\mathrm{FB}-\\mathrm{GFT}\n$$\n\nAlternatively speaking, since we know that Profit $=\\left(\\mu_{F}(\\alpha)-\\mu_{G}(\\beta)\\right)(1-\\alpha) \\beta$, this is equivalent to $\\mathrm{GFT} \\geq \\operatorname{Profit} / \\Delta \\cdot \\mathrm{FB}-\\mathrm{GFT}$, where $\\Delta$ denotes the gap between the prices. As an example of Theorem 1.5, if the broker sets the $3 / 4$-quantile (i.e., the third quartile) of the buyer's distribution as the price for the buyer and the $1 / 4$-quantile (i.e., the first quartile) of the seller's distribution as the price for the seller, then the gains-from-trade is at least $1 / 16$ of the first-best GFT.\n\n[^0]\n[^0]:    ${ }^{7}$ Note that the result here only holds for an optimal posted-pricing mechanism, not an arbitrary posted-pricing mechanism. Indeed, if the broker is adversarial rather than profit-maximizing, one cannot obtain any approximation factor since she may give up her profit but try to ruin society by making no trade at all.\n    ${ }^{8}$ Note that Theorem 1.3 immediately implies that under symmetric agents with MHR distributions, any optimal posted-pricing mechanism achieves a $1 / 36$-approximation to the first-best social welfare.\n    ${ }^{9}$ Note that $M$ is guaranteed to be at least 2 in such problem instances, implying that the best possible approximation factor here is $1 / 2$.\n\nIt is also worth noting that Theorem 1.5 immediately implies a weaker version of the result by McAfee (2008). Indeed, assuming that $\\mu_{G}(1 / 2) \\leq \\mu_{F}(1 / 2)$, plugging in $\\alpha=\\beta=1 / 2$ yields a $1 / 4$-approximation to the FB-GFT, which is strictly weaker than Corollary 1.2. Conceptually, therefore, Theorem 1.5 completely characterizes the approximation factor using the probabilities that correspond to the quantiles while sacrificing a reasonable amount of loss in the approximation factor.\n\nAn interesting implication of this result is that under symmetric agents, a posted-pricing mechanism that draws a single sample from each of the (identical) distributions of the buyer and the seller and offers the larger sample as the price to the buyer and smaller sample as the price to the seller achieves a $1 / 12$-approximation to FB-GFT. In other words, if the broker has limited information, then society can enjoy a constant fraction of the first-best gains-from-trade, even without any distributional assumptions such as MHR.\n\nCorollary 1.6. Suppose $F=G$. Then, given $p \\sim F$ and $q \\sim G$, the posted-pricing mechanism $(\\max (p, q), \\min (p, q))$ obtains a $1 / 12$-approximation to the first-best gains-from-trade in expectation.\n(In)approximability beyond Posted-Pricing Mechanisms. So far, we have restricted the broker to running a posted-pricing mechanism. In the real world, however, the broker may run any arbitrary mechanism to maximize her profit. Thus, we now consider the case where the broker runs any BNIC and IR mechanism that maximizes her profit. The seminal result by Myerson and Satterthwaite (1983) characterizes one such optimal mechanism, which even turns out to be DSIC:\n\nTheorem 1.7 (Myerson and Satterthwaite (1983)). Suppose the buyer's distribution $F$ and the seller's distribution $G$ are regular with bounded supports. Then, among all BNIC and IR mechanisms, the broker's expected profit is maximized by a mechanism that transfers the item from the seller to the buyer if and only if $\\phi_{F}(v) \\geq \\phi_{G}(c)$.\n\nNote that due to the strategic behavior of the broker, the above mechanism may result in strictly less trading than a mechanism that maximizes GFT. Indeed, if one considers the symmetric setting where both buyer's and seller's valuations have uniform distribution $U[0,1]$, one can observe that under the above mechanism, trade occurs if and only if $\\phi_{F}(v)=2 v-1 \\geq \\phi(c)=2 c$, i.e., if and only if $v-c \\geq 1 / 2$. However, as shown by Myerson (1981), a BNIC and IR mechanism that maximizes the gains-from-trade in this example transfers the item if and only if $v-c \\geq 1 / 4$. Thus, the existence of the broker interferes with social welfare. For uniform distributions, however, we show that a $1 / 2$-approximation to the first-best GFT is still possible, and that this bound is even tight.\n\nTheorem 1.8 (Uniform distribution). If $F$ and $G$ are uniform distributions, then GFT $\\geq$ FB-GFT/2 for any BNIC and IR mechanism that maximizes the broker's expected profit. Furthermore, this bound is tight in the sense that there exists a problem instance in which the approximation ratio is exactly $1 / 2$.\n\nThe main technical subtlety in proving Theorem 1.8 lies in handling a number of cases depending the supports of the uniform distributions. To simplify the possible cases here, we introduce a result stating that GFT/FB-GFT is invariant to stretches and shifts in the buyer's and seller's distributions as long as we apply the same transformations to both distributions, formally presented in Lemma 4.1.\n\nOn the other hand, if we consider general distributions, the extent to which the broker's strategic behavior degrades the GFT can be significant, formally stated as follows:\n\nTheorem 1.9 (Inapproximability). For any $\\varepsilon>0$, there exists a problem instance such that $\\mathrm{GFT}<\\varepsilon \\cdot \\mathrm{FB}-\\mathrm{GFT}$ for any BNIC and IR mechanism that maximizes the broker's expected profit.\n\nThe proof here is based on the characterization in Theorem 1.7. To briefly summarize, we start by trying to come up with a regular distribution for the buyer such that $\\phi_{F}(v)<\\phi_{G}(c)$ for all $v$ and $c$, i.e., such that trade never occurs under any BNIC and IR mechanism that maximizes the broker's expected profit. Solving a resulting differential equation, we obtain $F(x)=-a / x+1$ for some constant $a>0$. This distribution, however, has an unbounded support of $[a, \\infty)$, so we cannot guarantee the optimality of the mechanism given in Theorem 1.7, which only applies to bounded supports. Indeed, one can see that the above choice of $F$ results in Profit $=0$, whereas a simple posted-pricing mechanism can achieve a strictly positive expected profit (assuming the problem instance is nontrivial, i.e., $\\mathrm{FB}-\\mathrm{GFT}>0$ ). Thus, we need to truncate this distribution carefully to obtain the desired result.\n\nOne natural follow-up question to Theorem 1.9 is to what extent such inapproximability persists. We first consider a restricted set of problem instances where exactly one of the buyer and seller has public value. Formally speaking, public-buyer refers to the case where the buyer's ex-post valuation $v$ is deterministically known to the broker, and similarly for public-seller. We require analogues of Theorems 3 and 4 in Myerson and Satterthwaite (1983) to characterize an optimal BNIC and IR mechanism tailored to these specific problem instances, since we cannot directly apply Myerson and Satterthwaite (1983) when there are probability distributions with singleton support. These lemmas yield the following inapproximability result:\n\nTheorem 1.10 (Inapproximability with public seller or public buyer). For any $\\varepsilon>0$, there exists (i) a continuous distribution $F$ and a singleton distribution $G$ and (ii) a singleton distribution $F$ and a continuous distribution $G$ such that $\\mathrm{GFT}<\\varepsilon \\cdot \\mathrm{FB}-\\mathrm{GFT}$ for any BNIC and IR mechanism that maximizes the broker's expected profit.\n\nFurthermore, we observe that inapproximability also carries over when the agents are symmetric.\nTheorem 1.11. For any $\\varepsilon>0$, there exist identical distributions $F=G$ such that $\\mathrm{GFT}<$ $\\varepsilon \\cdot$ FB-GFT for any BNIC and IR mechanism that maximizes the broker's expected profit.\n\nFinally, we show that in the general-distribution and public-seller settings, the inapproximability of the first-best gains-from-trade carries over to the first-best social welfare as well.\n\nTheorem 1.12. For any $\\epsilon>0$, there exists distributions $F$ and $G$ such that $\\mathrm{SW}<\\epsilon \\mathrm{FB}-\\mathrm{SW}$ for any BNIC and IR mechanism that maximizes the broker's expected profit. Furthermore, this statement holds even if we restrict $G$ to be deterministic.", "tables": {}, "images": {}}, {"section_id": 3, "text": "# 1.2 Further Related Work \n\nBilateral Trade. The theory of bilateral trade dates back to the seminal result by Myerson and Satterthwaite (1983), where the authors proved that it is impossible to have an ex-post efficient mechanism that satisfies BNIC, IR and WBB. Since then, there has been a number of attempts to identify the best possible approximation ratio to the first-best gains-from-trade. Blumrosen and Dobzinski (2016) and Blumrosen and Mizrahi (2016) prove that a constant approximation ratio is possible for certain classes of distributions, e.g., regular and MHR, and provide some worst-case upper bounds on the approximation ratios. More recently, Deng et al. (2022) provide a mechanism that achieves a $1 / 8.23$-approximation to the first-best gains-from-trade. Fei (2022) significantly improves this to $1 / 3.15$ and further characterizes the exact approximation factor of the sellerpricing mechanism, given that the buyer's distribution satisfies MHR. Most recently, Dobzinski\n\nand Shaulker (2024) study the problem of approximating gains-from-trade and social-welfare for bilateral trade when the buyer's and seller's valuations can be correlated. Finally, another line of literature in bilateral trade focuses on identifying the best-possible approximation ratio for the class of posted-pricing mechanisms (Liu et al., 2023; Kang and Vondr\u00e1k, 2019; Kang et al., 2022). It is worth noting that some of the above work focuses on approximating the social welfare defined by $\\mathbb{E}_{v \\sim F, c \\sim G}[c+(v-c) \\cdot \\mathbf{1}\\{v \\geq c\\}]$, which is much easier to approximate than gains-from-trade, since social welfare attains positive value even if trade does not occur.\nBilateral Trade with a Broker. In comparison to the significant developments in bilateral trade, bilateral trade with a broker has been less studied, despite its significance and even its introduction in the same seminal paper by Myerson and Satterthwaite (1983). In terms of prior work on this problem, Myerson and Satterthwaite (1983) characterize one BNIC and IR mechanism that maximizes the broker's expected profit. Zhang (2019) studies the impact of an imperfectlyinformed broker who has partial information about the buyer's and seller's values, e.g., the broker knows the the bounded interval in which the values are contained. Kuang et al. (2023) consider a variant of the standard bilateral trade setting in which a mediator commits to a mechanism that possibly includes multiple rounds of private communication and runs a posted-pricing mechanism after the communication ends. Notably, their setting does not consider prior information on the buyer's and seller's distributions, i.e., their setting considers prior-independent mechanisms. Thus, certain information should be exchanged to induce an efficient trade, and the solution concept therein is a perfect Bayes equilibrium. In a similar vein, Copi\u010d and Ponsat\u00ed (2008) study robust prior-independent mechanisms when the buyer's and seller's valuations are discounted over time and hence both agents are eager to have the trade occur as soon as possible. In this setting, the mediator keeps the reported valuations of the buyer and the seller privately while trade is incompatible. Then, after trade becomes compatible, the mediator discloses the agreement and trade occurs at the agreed price. We emphasize that none of the literature has studied the approximation ratio for social welfare or gains-from-trade in the standard bilateral trade with broker model introduced by Myerson and Satterthwaite (1983).\nTwo-sided Markets. Several works consider an extension of bilateral trade that is typically referred to as two-sided markets or double auctions. In this setting, there are multiple sellers and buyers, each of which is interested in selling his own items and buying some items of interest. The seminal result by McAfee (1992) presents a double-auction, trade-reduction mechanism that is IR, DSIC, BB, and achieves a high ex-post efficiency under a large market. Since then, several works have studied prior-independent mechanisms for double-auction settings (Deshmukh et al., 2002; Baliga and Vohra, 2003). Babaioff et al. (2020) and Cai et al. (2024) study the BulowKlemperer (Bulow and Klemperer, 1994) result for gains-from-trade in double-auction settings, analyzing the power of recruiting more buyers and sellers for prior-independent mechanisms, and Brustle et al. (2017) and Cai et al. (2021) study the approximate mechanism for bilateral trade in double auctions in both the single-dimensional and multi-dimensional settings.", "tables": {}, "images": {}}, {"section_id": 4, "text": "# 2 Problem Setup \n\nBilateral Trade. In the bilateral trade problem, a seller tries to sell an item to a buyer. Both the buyer's and the seller's valuations are private and independently drawn from cumulative distributions (CDFs) $F$ and $G$, respectively, both of which are supported on $\\mathbb{R}_{\\geq 0}$. Following Myerson and Satterthwaite (1983), we write $v$ and $c$ to denote the buyer's and the seller's respective valuations. We write $f$ and $g$ to denote the density functions of $F$ and $G$, respectively.\n\nIf trade occurs between the buyer and the seller with valuations $v$ and $c$, respectively, then society realizes an increment of welfare of amount $v-c$. If the allocation function of a mechanism (probability of trade) is $x(\\tilde{v}, \\tilde{c})$ given the reported valuations $\\tilde{v}$ of the buyer and $\\tilde{c}$ of the seller, then the gains-from-trade ${ }^{10}$ (GFT) is defined by the expected amount of increased utility from trade, i.e.,\n\n$$\n\\mathrm{GFT}=\\mathbb{E}_{v \\sim F, c \\sim G}[(v-c) \\cdot x(v, c)]\n$$\n\nassuming truthful reporting of the buyer and the seller. If there exists an omniscient social planner who can observe the private valuations, then he can enforce trade whenever the buyer's valuation is at least the seller's valuation. Such an ideal mechanism induces $x(v, c)=\\mathbf{1}\\{v \\geq c\\}$, and the resulting GFT is defined as the first-best gains-from-trade (FB-GFT), i.e.,\n\n$$\n\\text { FB-GFT }=\\mathbb{E}_{v \\sim F, c \\sim G}[(v-c) \\mathbf{1}\\{v \\geq c\\}]\n$$\n\nSimilarly, the social welfare (SW) is defined by the expected utility from trade, i.e.,\n\n$$\n\\mathrm{SW}=\\mathbb{E}_{c \\sim G}[c]+\\mathrm{GFT}\n$$\n\nand the first-best social welfare (FB-SW) is defined as the social welfare of the ideal mechanism described above, i.e.,\n\n$$\n\\mathrm{FB}-\\mathrm{SW}=\\mathbb{E}_{c \\sim G}[c]+\\mathrm{FB}-\\mathrm{GFT}\n$$\n\nA mechanism is ex-post efficient if it achieves the first-best GFT. However, the seminal result by Myerson and Satterthwaite (1983) asserts that it is not possible to construct a mechanism that is simultaneously (i) Bayesian-Nash incentive-compatible (BNIC), (ii) ex-interim individually rational ${ }^{11}$ (IR), (iii) weakly budget balanced ${ }^{12}$ (WBB), and (iv) ex-post efficient, if the intersection of the supports of $F$ and $G$ is an interval with nonzero measure. Thus, the literature is typically focused on identifying the best-possible approximation factor to the first-best GFT of any BNIC, IR, and WBB mechanism (Deng et al., 2022; Fei, 2022).\nBilateral Trade with a Broker. In our setup, in addition to the buyer and the seller, there is a broker who governs the entire trade, through whom the buyer and seller exclusively interact. The broker is not interested in maximizing the GFT but instead tries to maximize her own profit by buying from the seller at a lower price and selling to the buyer at a higher price. Following Myerson and Satterthwaite (1983), we assume that the broker can be a net source or sink of monetary transfer but that the broker cannot own the item herself. Alternatively, the broker realizes the value 0 for the item and thus does not want to hold on to the item.\n\nEssentially, the broker's direct mechanism $\\mathrm{MEC}=(x, p)$ is defined by an allocation function $x: \\mathbb{R}_{\\geq 0}^{2} \\rightarrow[0,1]$ that maps the reported valuations of the buyer and the seller to the probability that the item is transferred from the seller to buyer and a payment function $p: \\mathbb{R}_{\\geq 0}^{2} \\rightarrow \\mathbb{R}_{\\geq 0}^{2}$ that maps the reported valuations to the expected payment $p=\\left(p_{s}, p_{b}\\right)$, where $p_{s}$ is the expected payment from the broker to the seller and $p_{b}$ the expected payment from the buyer to the broker. ${ }^{13}$ Note\n\n[^0]\n[^0]:    ${ }^{10}$ Note that this differs from social welfare since social welfare is $c$ even if trade does not occur.\n    ${ }^{11} \\mathrm{~A}$ mechanism is ex-interim IR if all the participants are not worse off by participating the mechanism when they know their own valuations but not the others' valuations.\n    ${ }^{12} \\mathrm{~A}$ mechanism is WBB if the payment from the buyer is always at least the payment to the seller in an ex-post manner.\n    ${ }^{13}$ Note that we consider expected payments here, as the mechanism may randomize the payments.\n\nhere that, assuming truthful reporting from the buyer and the seller, the broker's expected net profit can be defined as\n\n$$\n\\text { PROFIT }=\\int_{a_{2}}^{b_{2}} \\int_{a_{1}}^{b_{1}}\\left(p_{b}(v, c)-p_{s}(v, c)\\right) d F(v) d G(c)\n$$\n\nSimilarly, assuming truthful reporting, the buyer's expected utility if his true valuation is $v$ can be written as\n\n$$\nu_{b}(v)=\\int_{a_{2}}^{b_{2}}\\left(x(v, c) \\cdot v-p_{b}(v, c)\\right) d G(c)\n$$\n\nand the seller's expected utility if his true valuation is $c$ can be written as\n\n$$\nu_{s}(c)=\\int_{a_{1}}^{b_{1}}\\left(p_{s}(v, c)-x(v, c) \\cdot c\\right) d F(v)\n$$\n\nDesiderata. We are interested in designing an ex-interim individually-rational mechanism so that each agent's ex-interim payoff after observing his own valuation without knowing the other's is always nonnegative, i.e., such that\n\n$$\nu_{b}(v) \\geq 0, u_{s}(c) \\geq 0\n$$\n\nfor any $v$ and $c$.\nA broker's mechanism is Bayesian-Nash incentive-compatible (BNIC) if it satisfies\n\n$$\n\\mathbb{E}_{c \\sim G}\\left[x(v, c) \\cdot v-p_{b}(v, c)\\right] \\geq \\mathbb{E}_{v \\sim G}\\left[x(\\tilde{v}, c) \\cdot v-p_{b}(\\tilde{v}, c)\\right]\n$$\n\nfor all $v$ and $\\tilde{v}$ and\n\n$$\n\\mathbb{E}_{v \\sim F}\\left[p_{s}(v, c)-x(v, c) \\cdot c\\right] \\geq \\mathbb{E}_{v \\sim F}\\left[p_{s}(v, \\tilde{c})-x(v, \\tilde{c}) \\cdot c\\right]\n$$\n\nfor all $c$ and $\\tilde{c}$. The first inequality corresponds to the buyer's ex-interim incentive to truthfully report his private value, and the second inequality corresponds to the seller's ex-interim incentive to truthfully report his private value. By the revelation principle (Myerson, 1981), any BNIC mechanism can be simulated by a BNIC direct mechanism, so we consider BNIC direct mechanisms without loss of generality.\n\nA broker's mechanism is dominant-strategy incentive-compatible (DSIC) if it satisfies\n\n$$\nx(v, c) \\cdot v-p_{b}(v, c) \\geq x(\\tilde{v}, c) \\cdot v-p_{b}(\\tilde{v}, c)\n$$\n\nfor every $v, \\tilde{v}$, and $c$ and\n\n$$\np_{s}(v, c)-x(v, c) \\cdot c \\geq p_{s}(v, \\tilde{c})-x(v, \\tilde{c}) \\cdot c\n$$\n\nfor every $c, \\tilde{c}$, and $v$. This is a strictly stronger notion than BNIC, i.e., DSIC implies BNIC, since each player is always at least as well off by reporting his true valuation regardless of the other player's valuation.\n\nIn this paper, we seek to find the approximation factor to the first-best GFT for different classes of mechanisms. Formally, a mechanism is an $\\alpha$-approximation to the first-best GFT if it satisfies $\\mathrm{GFT} \\geq \\alpha \\mathrm{FB}-\\mathrm{GFT}$.\n\nDistribution Types. Finally, we introduce several classes of distributions that will be useful in presenting our results. We say that the buyer's distribution is regular if $\\phi_{F}(x)=x-(1-F(x)) / f(x)$ is nondecreasing, and we say that the seller's distribution is regular if $\\phi_{G}(x)=x+G(x) / g(x)$ is nondecreasing. Note that this is a two-sided-market version of the standard regularity condition in single-sided auctions (Myerson (1981)), where $\\phi_{F}$ and $\\phi_{G}$ are usually referred to as the virtual valuations of the buyer and seller, respectively. ${ }^{14}$ The hazard rates $h_{b}$ and $h_{s}$ of the buyer's and seller's distributions $F$ and $G$ are defined respectively as $h_{b}(x)=f(x) /(1-F(x))$ and $h_{s}(x)=$ $g(x) / G(x)$. We say that the buyer's (resp. seller's) distribution has monotone hazard rate (MHR) if $h_{b}(x)$ (resp. $h_{s}(x)$ ) is nondecreasing (resp. nonincreasing) for $x \\geq 0$. It is straightforward to check that MHR implies regularity, but not the other way around. The family of MHR distributions includes the well-known Gaussian, exponential, and uniform distributions whose tails can be no heavier than an exponential distribution with hazard rate 0 . However, regular distributions can be subsumed under a broader class of distributions with fatter tails, e.g., $f(x)=x^{-(1+\\alpha)}$ for some $\\alpha \\geq 1$. Lastly, we often consider a symmetric setting in which the buyer's and seller's distributions are equivalent, i.e., where $F=G$. Throughout our paper, we always assume that the expectations of $F$ and $G$ are finite.", "tables": {}, "images": {}}, {"section_id": 5, "text": "# 3 Posted-Pricing Mechanisms \n\nWe consider here a broker who implements a posted-pricing (fixed-price) mechanism, i.e., she announces fixed prices to the buyer and seller, respectively. Formally, a posted-pricing mechanism in our setting consists of two fixed prices $(p, q)$. The broker simultaneously offers to buy the item from the seller at price $q$ and sell the item to the buyer at price $p$. Since the broker strategizes to maximize her profit, it follows that $p \\geq q$. After the broker makes her offers, the buyer and seller each decide whether to accept their respective offer in a take-it-or-leave manner. If both agree to their offers, then the trade occurs and the item is transferred from the seller to the buyer. Otherwise, no trade occurs.\n\nUnder a posted-pricing mechanism with prices $(p, q)$, the gains-from-trade and the broker's expected profit can be written as\n\n$$\n\\begin{aligned}\n\\mathrm{GFT} & =\\int_{0}^{q} \\int_{p}^{\\infty}(v-c) d F(v) d G(c) \\\\\n\\operatorname{PROFIT} & =\\int_{0}^{q} \\int_{p}^{\\infty}(p-q) d F(v) d G(c)\n\\end{aligned}\n$$\n\nFrom the above definition, it is clear that any posted-pricing mechanism that maximizes the expected profit for the broker satisfies\n\n$$\n\\begin{aligned}\n\\left(p^{*}, q^{*}\\right) & =\\underset{(p, q) \\in \\mathbb{R}_{\\geq 0}^{2}}{\\arg \\max } \\int_{0}^{q} \\int_{p}^{\\infty}(p-q) d F(v) d G(c) \\\\\n& =\\underset{(p, q) \\in \\mathbb{R}_{\\geq 0}^{2}}{\\arg \\max }(p-q) G(q)(1-F(p))\n\\end{aligned}\n$$\n\nWe seek to analyze the GFT of any such optimal mechanism compared to the first-best GFT.\nWe first provide the proof of Theorem 1.1.\n\n[^0]\n[^0]:    ${ }^{14}$ In general, even if the density function does not exist, one can define the buyer's distribution to be regular if $\\ln (1-F(x))$ is concave, and analogously for the seller.\n\nProof of Theorem 1.1. Observe first that\n\n$$\n\\begin{aligned}\n\\mathrm{GFT} & =\\int_{p}^{\\infty} \\int_{0}^{q}(v-c) d G(c) d F(v) \\\\\n& =\\int_{p}^{\\infty} \\int_{0}^{q}(v-p+p-q+q-c) d G(c) d F(v) \\\\\n& =(p-q)(1-F(p)) G(q)+\\int_{p}^{\\infty} \\int_{0}^{q}(v-p) d G(c) d F(v)+\\int_{p}^{\\infty} \\int_{0}^{q}(q-c) d G(c) d F(v) \\\\\n& =\\operatorname{Profit}+G(q) \\int_{p}^{\\infty}(v-p) d F(v)+(1-F(p)) \\int_{0}^{q}(q-c) d G(c)\n\\end{aligned}\n$$\n\nIntegrating by parts, we have that\n\n$$\n\\begin{aligned}\n\\int_{p}^{\\infty}(v-p) d F(v) & =[-(v-p)(1-F(v))]_{p}^{\\infty}+\\int_{p}^{\\infty}(1-F(v)) d v \\\\\n& =\\int_{p}^{\\infty}(1-F(v)) d v\n\\end{aligned}\n$$\n\nwhere we use $1-F(v)$ instead of simply $F(v)$ for the integration-by-parts to make the first term exactly zero. ${ }^{15}$\n\nSimilarly, for the seller's integral, we have that\n\n$$\n\\begin{aligned}\n\\int_{0}^{q}(q-c) d G(c) & =[(q-c) G(c)]_{0}^{q}+\\int_{0}^{q} G(c) d c \\\\\n& =\\int_{0}^{q} G(c) d c\n\\end{aligned}\n$$\n\nHence, we have that\n\n$$\n\\begin{aligned}\n\\mathrm{GFT} & =\\operatorname{Profit}+G(q) \\int_{p}^{\\infty}(1-F(x)) d x+(1-F(p)) \\int_{0}^{q} G(x) d x \\\\\n& \\geq \\operatorname{Profit}+\\min (G(q), 1-F(p))\\left(\\int_{p}^{\\infty}(1-F(x)) d x+\\int_{0}^{q} G(x) d x\\right) \\\\\n& \\geq \\operatorname{Profit}+\\min (G(q), 1-F(p))\\left(\\int_{p}^{\\infty}(1-F(x)) G(x) d x+\\int_{0}^{q} G(x)(1-F(x)) d x\\right) \\\\\n& =\\operatorname{Profit}+\\min (G(q), 1-F(p))\\left(\\int_{0}^{\\infty}(1-F(x)) G(x) d x-\\int_{q}^{p}(1-F(x)) G(x) d x\\right)\n\\end{aligned}\n$$\n\nFinally, to complete the proof, we use the following equality proven by McAfee (2008), which we reiterate here for completeness:\n\n$$\n\\begin{aligned}\n\\text { FB-GFT } & =\\int_{0}^{\\infty} \\int_{0}^{v}(v-c) d G(c) d F(v) \\\\\n& =\\int_{0}^{\\infty}\\left([(v-c) G(c)]_{0}^{v}+\\int_{0}^{v} G(c) d c\\right) d F(v)\n\\end{aligned}\n$$\n\n[^0]\n[^0]:    ${ }^{15}$ Since the expectation of $F$ is finite, we have that $v(1-F(v))=v \\int_{v}^{\\infty} d F(x) \\leq \\int_{v}^{\\infty} x d F(x)$ and $\\lim _{v \\rightarrow \\infty}\\left(\\int_{v}^{\\infty} x d F(x)\\right)=\\mathbb{E}_{v \\sim F}[v]-\\lim _{v \\rightarrow \\infty}\\left(\\int_{0}^{v} x d F(x)\\right)=0$, so $\\lim _{v \\rightarrow \\infty} v(1-F(v))=0$.\n\n$$\n\\begin{aligned}\n& =\\int_{0}^{\\infty} \\int_{0}^{v} G(c) d c d F(v) \\\\\n& =\\left[-(1-F(v)) \\int_{0}^{v} G(c) d c\\right]_{0}^{\\infty}+\\int_{0}^{\\infty}(1-F(v)) G(v) d v \\\\\n& =\\int_{0}^{\\infty}(1-F(v)) G(v) d v\n\\end{aligned}\n$$\n\nwhere the limit converges to zero since $(1-F(v)) \\int_{0}^{v} G(c) d c \\leq v(1-F(v))$ and $\\lim _{v \\rightarrow \\infty} v(1-F(v))=0$ (see footnote above). This finishes the proof.\n\nOptimal Prices: Symmetric Agents, MHR Distributions. We here provide the proof of Theorem 1.3. As we discussed in Section 1.1, the proof mainly follows from proving the existence of quantiles $\\mu_{F}(\\alpha)$ and $\\mu_{F}(\\beta)$ such that $1-\\alpha$ and $\\beta$ are absolute constants regardless of the distributions.\n\nProof of Theorem 1.3. Recall that for a cumulative distribution function $F$ and a constant $0 \\leq$ $\\alpha \\leq 1$, we use $\\mu_{F}(\\alpha)$ to denote the $\\alpha$-quantile of $F$, i.e., $\\mu_{F}(\\alpha)=\\inf \\{t: F(t) \\geq \\alpha\\}$. Now, let $0 \\leq \\beta<\\alpha \\leq 1$ be constants to be determined later. Furthermore, suppose that\n\n$$\n\\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) F(x) d x \\geq \\frac{1}{C} \\mathrm{FB}-\\mathrm{GFT}\n$$\n\nfor some constant $C \\geq 1$ to be determined later. Now, note that\n\n$$\n\\begin{aligned}\n\\operatorname{GFT}\\left(p^{*}, q^{*}\\right) \\geq \\operatorname{Profit}\\left(p^{*}, q^{*}\\right) & \\geq \\operatorname{Profit}\\left(\\mu_{F}(\\alpha), \\mu_{F}(\\beta)\\right) \\\\\n& \\geq\\left(\\mu_{F}(\\alpha)-\\mu_{F}(\\beta)\\right) \\beta(1-\\alpha)\n\\end{aligned}\n$$\n\nwhere $\\left(p^{*}, q^{*}\\right)$ are an arbitrary pair of prices that maximizes the expected profit of the broker. Therefore, we have that\n\n$$\n\\operatorname{GFT}\\left(p^{*}, q^{*}\\right) \\geq\\left(\\mu_{F}(\\alpha)-\\mu_{F}(\\beta)\\right) \\beta(1-\\alpha) \\geq \\beta(1-\\alpha) \\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) F(x) d x \\geq \\frac{\\beta(1-\\alpha)}{C} \\mathrm{FB}-\\mathrm{GFT}\n$$\n\nThus, it remains to find constants $\\alpha, \\beta, C$ such that $\\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) F(x) d x \\geq \\frac{1}{C} \\mathrm{FB}-\\mathrm{GFT}$. It suffices to find constants $\\alpha, \\beta, C$ such that\n\n$$\n(C-1) \\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) F(x) d x \\geq \\int_{0}^{\\mu_{F}(\\beta)}(1-F(x)) F(x) d x+\\int_{\\mu_{F}(\\alpha)}^{\\infty}(1-F(x)) F(x) d x\n$$\n\nsince by (3.1), we have that\n\n$$\n\\begin{aligned}\n\\mathrm{FB}-\\mathrm{GFT} & =\\int_{0}^{\\infty}(1-F(x)) F(x) d x \\\\\n& =\\int_{0}^{\\mu_{F}(\\beta)}(1-F(x)) F(x)+\\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) F(x)+\\int_{\\mu_{F}(\\alpha)}^{\\infty}(1-F(x)) F(x)\n\\end{aligned}\n$$\n\nNow, since we are considering the symmetric setting with MHR distributions, we know that $(1-F(x)) / f(x)$ is nonincreasing and that $F(x) / f(x)$ is nondecreasing. Hence, for the integral on the left-hand side of (3.2), we have that\n\n$$\n\\begin{aligned}\n\\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) F(x) d x & \\geq \\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)} \\frac{1-F(x)}{f(x)} f(x) F(x) d x \\geq \\frac{1-\\alpha}{f\\left(\\mu_{F}(\\alpha)\\right)} \\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)} F(x) d F(x) \\\\\n\\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) F(x) d x & \\geq \\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) \\frac{F(x)}{f(x)} f(x) d x \\geq \\frac{\\beta}{f\\left(\\mu_{F}(\\beta)\\right)} \\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) d F(x)\n\\end{aligned}\n$$\n\nTherefore, we have that\n\n$$\n\\begin{aligned}\n\\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) F(x) d x & \\geq \\frac{1}{2}\\left(\\frac{1-\\alpha}{f\\left(\\mu_{F}(\\alpha)\\right)} \\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)} F(x) d F(x)+\\frac{\\beta}{f\\left(\\mu_{F}(\\beta)\\right)} \\int_{\\mu_{F}(\\beta)}^{\\mu_{F}(\\alpha)}(1-F(x)) d F(x)\\right) \\\\\n& =\\frac{1}{2}\\left(\\frac{1-\\alpha}{f\\left(\\mu_{F}(\\alpha)\\right)} \\cdot \\frac{\\alpha^{2}-\\beta^{2}}{2}+\\frac{\\beta}{f\\left(\\mu_{F}(\\beta)\\right)}\\left(\\alpha-\\beta-\\frac{\\alpha^{2}-\\beta^{2}}{2}\\right)\\right) \\\\\n& \\geq \\frac{1}{2} \\min \\left(\\frac{\\alpha^{2}-\\beta^{2}}{2}, \\alpha-\\beta-\\frac{\\alpha^{2}-\\beta^{2}}{2}\\right)\\left(\\frac{1-\\alpha}{f\\left(\\mu_{F}(\\alpha)\\right)}+\\frac{\\beta}{f\\left(\\mu_{F}(\\beta)\\right)}\\right)\n\\end{aligned}\n$$\n\nNow, consider the right-hand side in (3.2). The first term can be upper bounded by\n\n$$\n\\begin{aligned}\n\\int_{0}^{\\mu_{F}(\\beta)}(1-F(x)) F(x) d x & =\\int_{0}^{\\mu_{F}(\\beta)} \\frac{F(x)}{f(x)}(1-F(x)) f(x) d x \\\\\n& \\leq \\frac{\\beta}{f\\left(\\mu_{F}(\\beta)\\right)} \\int_{0}^{\\mu_{F}(\\beta)}(1-F(x)) d F(x) \\\\\n& =\\frac{\\beta}{f\\left(\\mu_{F}(\\alpha)\\right)}\\left(\\beta-\\frac{\\beta^{2}}{2}\\right)\n\\end{aligned}\n$$\n\nSimilarly, the second term can be bounded above by\n\n$$\n\\begin{aligned}\n\\int_{\\mu(\\alpha)}^{\\infty}(1-F(x)) F(x) d x & =\\int_{\\mu(\\alpha)}^{\\infty} \\frac{1-F(x)}{f(x)} F(x) f(x) d x \\\\\n& \\leq \\frac{1-\\alpha}{f\\left(\\mu_{F}(\\alpha)\\right)} \\int_{\\mu(\\alpha)}^{1} F(x) d F(x) \\\\\n& =\\frac{1-\\alpha}{f\\left(\\mu_{F}(\\alpha)\\right)}\\left(\\frac{1-\\alpha^{2}}{2}\\right)\n\\end{aligned}\n$$\n\nThus, by (3.5) and (3.6), the right-hand side in (3.2) can be upper-bounded by\n\n$$\n\\int_{0}^{\\mu_{F}(\\beta)}(1-F(x)) F(x) d x+\\int_{\\mu(\\alpha)}^{\\infty}(1-F(x)) F(x) d x \\leq \\max \\left(\\beta-\\frac{\\beta^{2}}{2}, \\frac{1-\\alpha^{2}}{2}\\right)\\left(\\frac{1-\\alpha}{f\\left(\\mu_{F}(\\alpha)\\right)}+\\frac{\\beta}{f\\left(\\mu_{F}(\\beta)\\right)}\\right)\n$$\n\nHence, from (3.2), we see that it suffices by (3.4) and (3.7) to find constants $\\alpha, \\beta, C$ such that\n\n$$\n\\frac{C-1}{2} \\min \\left(\\frac{\\alpha^{2}-\\beta^{2}}{2}, \\alpha-\\beta-\\frac{\\alpha^{2}-\\beta^{2}}{2}\\right) \\geq \\max \\left(\\beta-\\frac{\\beta^{2}}{2}, \\frac{1-\\alpha^{2}}{2}\\right)\n$$\n\nBy (roughly) numerically optimizing the parameters $\\alpha, \\beta$ and $C$ here, taking $\\alpha=2 / 3, \\beta=1 / 3$, and $C=4$, we see that\n\n$$\n\\operatorname{GFT}\\left(p^{*}, q^{*}\\right) \\geq \\frac{\\beta(1-\\alpha)}{C} \\mathrm{FB}-\\mathrm{GFT}=\\frac{1}{36} \\mathrm{FB}-\\mathrm{GFT}\n$$\n\nOptimal Prices: Bounding via Hazard Rates. We provide the proof of Theorem 1.4 here. The proof starts with the observation that FB-GFT can be written in terms of the integral of $|v-c|$. Then, noting that the optimal broker's profit maximizes $(p-q)(1-F(p)) G(q)$, we lower bound the profit by an averaging argument over a desirable region. Combining this with the bounded hazard rates completes the proof. For simplicity, we restrict the support of the distributions here to be $[0,1]$ without loss of generality, e.g., see Remark 2 in Deng et al. (2022).\n\nProof of Theorem 1.4. Note first that\n\n$$\n\\begin{aligned}\n\\int_{0}^{1} \\int_{v}^{1}|v-c| d F(c) d F(v) & =\\int_{0}^{1} \\int_{0}^{c}|v-c| d F(v) d F(c) \\\\\n& =\\int_{0}^{1} \\int_{0}^{v}|c-v| d F(c) d F(v) \\\\\n& =\\int_{0}^{1} \\int_{0}^{v}|v-c| d F(c) d F(v) \\\\\n& =\\text { FB-GFT. }\n\\end{aligned}\n$$\n\nThus, we have that\n\n$$\n\\text { FB-GFT }=\\frac{1}{2} \\int_{0}^{1} \\int_{0}^{1}|v-c| d F(c) d F(v)\n$$\n\nOn the other hand, since the broker uses an optimal pair of prices $\\left(p^{*}, q^{*}\\right)$, we have that\n\n$$\n\\operatorname{Profit}=\\left(p^{*}-q^{*}\\right)\\left(1-F\\left(p^{*}\\right)\\right) F\\left(q^{*}\\right) \\geq(p-q)(1-F(p)) F(q)\n$$\n\nfor any $0 \\leq q \\leq p \\leq 1$. Integrating both sides over the region of $\\mathbb{R}_{\\geq 0}^{2}$ that satisfies $p \\geq q$, we obtain\n\n$$\n\\begin{aligned}\n\\frac{\\text { PROFIT }}{2} & \\geq \\int_{0}^{1} \\int_{q}^{1}(p-q)(1-F(p)) F(q) d p d q \\\\\n& =\\int_{0}^{1} \\int_{q}^{1}(p-q) \\frac{1-F(p)}{f(p)} \\frac{F(q)}{f(q)} f(p) f(q) d p d q \\\\\n& \\geq \\int_{0}^{1} \\int_{q}^{1}(p-q) \\frac{1}{M^{2}} f(p) f(q) d p d q \\\\\n& =\\frac{1}{M^{2}} \\int_{0}^{1} \\int_{q}^{1}(p-q) f(p) f(q) d p d q \\\\\n& =\\frac{1}{M^{2}} \\int_{0}^{1} \\int_{q}^{1}(p-q) d F(p) d F(q)\n\\end{aligned}\n$$\n\nwhere in the last inequality, we use the fact that both hazard rates are uniformly bounded above by $M$ and thus their inverses are uniformly bounded below by $1 / M$.\n\nAnalogously, by expanding the integral from the seller's side first, we have\n\n$$\n\\begin{aligned}\n\\frac{\\text { Profit }}{2} & \\geq \\int_{0}^{1} \\int_{0}^{p}(p-q)(1-F(p)) F(q) d q d p \\\\\n& =\\int_{0}^{1} \\int_{0}^{p}(p-q) \\frac{1-F(p)}{f(p)} \\frac{F(q)}{f(q)} f(p) f(q) d q d p \\\\\n& \\geq \\frac{1}{M^{2}} \\int_{0}^{1} \\int_{0}^{p}(p-q) d F(q) d F(p) \\\\\n& =\\frac{1}{M^{2}} \\int_{0}^{1} \\int_{0}^{q}(q-p) d F(p) d F(q)\n\\end{aligned}\n$$\n\nCombining this with (3.9), we obtain\n\n$$\n\\begin{aligned}\n\\text { Profit } & \\geq \\frac{1}{M^{2}} \\int_{0}^{1} \\int_{0}^{1}|p-q| d F(p) d F(q) \\\\\n& =\\frac{2}{M^{2}} \\mathrm{FB}-\\mathrm{GFT}\n\\end{aligned}\n$$\n\nand the proof follows from the fact that $\\mathrm{GFT} \\geq$ Profit.\n\nIt is worth noting that the approximation factor here cannot be better than $1 / 2$, since we must have that $M \\geq 2$ according to the problem setup. To see why, observe that\n\n$$\n\\frac{1-F(x)}{f(x)} \\geq \\frac{1}{M}, \\frac{F(x)}{f(x)} \\geq \\frac{1}{M}\n$$\n\nimplies that $M \\geq 2$ as follows:\n\n$$\n\\frac{1}{M} \\leq \\frac{F(x)}{f(x)}=1-\\frac{1-F(x)}{f(x)} \\leq 1-\\frac{1}{M}\n$$\n\nQuantile-based Prices. As mentioned in Section 1.1, the decomposition in Theorem 1.1 cannot be directly applied to obtain a constant approximation factor for the first-best GFT in general, as it depends on an integral involving the buyer's and seller's CDFs in the interval between the two posted prices. This brings us to the question of whether we can obtain an approximation factor purely characterized by the quantile probabilities at the offered prices, as suggested by Theorem 1.5.\n\nWe formally prove Theorem 1.5 in what follows:\nProof of Theorem 1.5. For any $0 \\leq c \\leq \\mu_{G}(\\beta) \\leq \\mu_{F}(\\alpha)$,\n\n$$\n\\begin{aligned}\n\\int_{c}^{\\infty}(v-c) d F(v) & =\\int_{c}^{\\mu_{F}(\\alpha)}(v-c) d F(v)+\\int_{\\mu_{F}(\\alpha)}^{\\infty}(v-c) d F(v) \\\\\n& \\leq \\frac{\\alpha}{1-\\alpha} \\int_{\\mu_{F}(\\alpha)}^{\\infty}(v-c) d F(v)+\\int_{\\mu_{F}(\\alpha)}^{\\infty}(v-c) d F(v) \\\\\n& =\\frac{1}{1-\\alpha} \\int_{\\mu_{F}(\\alpha)}^{\\infty}(v-c) d F(v)\n\\end{aligned}\n$$\n\nwhere we used the fact that\n\n$$\n\\int_{c}^{\\mu_{F}(\\alpha)}(v-c) d F(v) \\leq \\frac{\\alpha}{1-\\alpha} \\int_{\\mu_{F}(\\alpha)}^{\\infty}(v-c) d F(v)\n$$\n\nObserve that this holds because (1) the probability mass of the first integral is at most $\\alpha$ while the probability mass of the second integral is exactly $1-\\alpha$ and (2) the value of $v-c$ at any point in the probability mass of the second integral is always as least as much as the value of $v-c$ at any point in the probability mass of the first integral. In fact, reusing this idea, we have that\n\n$$\n\\begin{aligned}\n\\int_{\\mu_{G}(\\beta)}^{\\infty} \\int_{c}^{\\infty}(v-c) d F(v) d G(c) & \\leq \\frac{1-\\beta}{\\beta} \\int_{0}^{\\mu_{G}(\\beta)} \\int_{c}^{\\infty}(v-c) d F(v) d G(c) \\\\\n\\int_{0}^{\\infty} \\int_{c}^{\\infty}(v-c) d F(v) d G(c) & \\leq \\frac{1}{\\beta} \\int_{0}^{\\mu_{G}(\\beta)} \\int_{c}^{\\infty}(v-c) d F(v) d G(c)\n\\end{aligned}\n$$\n\nFinally, combining (3.10) and (3.11), we obtain\n\n$$\n\\int_{0}^{\\mu_{G}(\\beta)} \\int_{\\mu_{F}(\\alpha)}^{\\infty}(v-c) d F(v) d G(c) \\geq \\beta(1-\\alpha) \\int_{0}^{\\infty} \\int_{c}^{\\infty}(v-c) d F(v) d G(c)\n$$\n\nas desired.\nProof of Corollary 1.6. Note that drawing samples $p \\sim F$ and $q \\sim G$ is equivalent to sampling quantiles $\\alpha$ and $\\beta$ of $F$ and $G$, respectively, uniformly at random over $[0,1]$. Thus, letting $\\operatorname{GFT}(x, y)$ denote the gains-from-trade of the posted-pricing mechanism $(x, y)$, we have that\n\n$$\n\\begin{aligned}\n& \\mathbb{E}_{p \\sim F, q \\sim G}[\\operatorname{GFT}(\\max (p, q), \\min (p, q))] \\\\\n& \\quad=\\int_{0}^{1} \\int_{\\beta}^{1} \\operatorname{GFT}\\left(\\mu_{F}(\\alpha), \\mu_{G}(\\beta)\\right) d \\alpha d \\beta+\\int_{0}^{1} \\int_{0}^{\\beta} \\operatorname{GFT}\\left(\\mu_{G}(\\beta), \\mu_{F}(\\alpha)\\right) d \\alpha d \\beta \\\\\n& \\quad \\geq \\int_{0}^{1} \\int_{\\beta}^{1} \\beta(1-\\alpha) \\mathrm{FB}-\\mathrm{GFT} d \\alpha d \\beta+\\int_{0}^{1} \\int_{0}^{\\beta} \\alpha(1-\\beta) \\mathrm{FB}-\\mathrm{GFT} d \\alpha d \\beta=\\frac{1}{12} \\mathrm{FB}-\\mathrm{GFT}\n\\end{aligned}\n$$\n\nwhere the inequality holds by Theorem 1.5, since $F=G$.\nWe conclude by remarking that having access to more samples may not necessarily increase the approximation factor to the first-best gains-from-trade, since it may be more optimal for the better-informed broker to set prices that further restrict trade.", "tables": {}, "images": {}}, {"section_id": 6, "text": "# 4 Optimal Mechanisms \n\nWe now consider the case where the broker runs any general BNIC and IR mechanism that maximizes her profit. We assume here that the supports of $F$ and $G$ are $\\left[a_{1}, b_{1}\\right]$ and $\\left[a_{2}, b_{2}\\right]$, respectively, i.e., both are bounded, following Myerson and Satterthwaite (1983). ${ }^{16}$ By Theorem 1.7, the broker's optimal mechanism exhibits the following GFT, assuming regular distributions:\n\n$$\n\\begin{aligned}\n\\operatorname{GFT}_{F, G} & =\\int_{a_{2}}^{b_{2}} \\int_{a_{1}}^{b_{1}}(v-c) \\mathbf{1}\\left\\{\\phi_{F}(v) \\geq \\phi_{G}(c)\\right\\} d F(v) d G(c) \\\\\n& =\\int_{a_{2}}^{b_{2}} \\int_{a_{1}}^{b_{1}}(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}\\right\\} d F(v) d G(c)\n\\end{aligned}\n$$\n\n[^0]\n[^0]:    ${ }^{16}$ Indeed, if we consider $F$ and $G$ with unbounded supports, we observe that the characterization of Myerson and Satterthwaite (1983) of an optimal BNIC and IR mechanism does not carry over, which is elaborated on more in the proof of Theorem 1.9.\n\nAs usual, the first-best GFT is given by\n\n$$\n\\mathrm{FB}-\\mathrm{GFT}_{F, G}=\\int_{a_{2}}^{b_{2}} \\int_{a_{1}}^{b_{1}}(v-c) \\mathbf{1}\\{v-c \\geq 0\\} d F(v) d G(c)\n$$\n\nUniform distributions. To prove Theorem 1.8, we require a technical lemma that will simplify our analysis. The lemma states that the factor to which the broker's optimal mechanism approximates the first-best GFT is invariant to stretches and shifts in $F$ and $G$, provided that we perform the same stretches and shifts to $F$ and $G$.\n\nLemma 4.1. Let $F$ and $G$ be regular distributions supported on $\\left[a_{1}, b_{1}\\right]$ and $\\left[a_{2}, b_{2}\\right]$, respectively. Define $F^{*}(v)=F\\left(\\left(v-k_{1}\\right) / k_{2}\\right)$ and $G^{*}(c)=G\\left(\\left(c-k_{1}\\right) / k_{2}\\right)$ for $k_{1} \\in \\mathbb{R}$ and $k_{2} \\in \\mathbb{R}_{>0}$. If $\\mathrm{GFT}_{F, G}=$ $\\alpha \\mathrm{FB}-\\mathrm{GFT}_{F, G}$, then $\\mathrm{GFT}_{F^{*}, G^{*}}=\\alpha \\mathrm{FB}-\\mathrm{GFT}_{F^{*}, G^{*}}$.\n\nProof. We first prove that $F^{*}$ and $G^{*}$ are regular. Note that to show that $\\phi_{F^{*}}\\left(v^{*}\\right)$ is nondecreasing on its support $\\left[k_{2} a_{1}+k_{1}, k_{2} b_{1}+k_{1}\\right]$, it suffices to show that $\\phi_{F^{*}}\\left(k_{2} v+k_{1}\\right)$ is nondecreasing on $\\left[a_{1}, b_{1}\\right]$. Indeed, since\n\n$$\n\\begin{aligned}\n\\phi_{F^{*}}\\left(k_{2} v+k_{1}\\right) & =\\left(k_{2} v+k_{1}\\right)-\\frac{1-F^{*}\\left(k_{2} v+k_{1}\\right)}{\\left(F^{*}\\right)^{\\prime}\\left(k_{2} v+k_{1}\\right)} \\\\\n& =\\left(k_{2} v+k_{1}\\right)-\\frac{1-F(v)}{F^{\\prime}(v) / k_{2}} \\\\\n& =k_{1}+k_{2} \\phi_{F}(v)\n\\end{aligned}\n$$\n\nand $\\phi_{F}(v)$ is nondecreasing, $F^{*}$ is regular. A similar argument will show that $G^{*}$ is regular.\nNow, we have that\n\n$$\n\\begin{aligned}\n\\mathrm{GFT}_{F, G}= & \\int_{a_{2}}^{b_{2}} \\int_{a_{1}}^{b_{1}}(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}\\right\\} F^{\\prime}(v) d v G^{\\prime}(c) d c \\\\\n= & \\int_{a_{2}^{*}}^{b_{2}^{*}} \\int_{a_{1}^{*}}^{b_{1}^{*}} \\frac{v^{*}-c^{*}}{k_{2}} \\mathbf{1}\\left\\{\\frac{v^{*}-c^{*}}{k_{2}} \\geq \\frac{1-F\\left(\\frac{v^{*}-k_{1}}{k_{2}}\\right)}{F^{\\prime}\\left(\\frac{v^{*}-k_{1}}{k_{2}}\\right)}+\\frac{G\\left(\\frac{c^{*}-k_{1}}{k_{2}}\\right)}{G^{\\prime}\\left(\\frac{v^{*}-k_{1}}{k_{2}}\\right)}\\right\\} \\\\\n& \\cdot \\frac{1}{k_{2}} F^{\\prime}\\left(\\frac{v^{*}-k_{1}}{k_{2}}\\right) d v^{*} \\frac{1}{k_{2}} G^{\\prime}\\left(\\frac{c^{*}-k_{1}}{k_{2}}\\right) d c^{*}\n\\end{aligned}\n$$\n\nwhere we use the change of variables with $v^{*}=k_{2} v+k_{1}$ and $c^{*}=k_{2} c+k_{1}$. This can further be expanded as\n\n$$\n\\begin{aligned}\n\\mathrm{GFT}_{F, G} & =\\int_{a_{2}^{*}}^{b_{2}^{*}} \\int_{a_{1}^{*}}^{b_{1}^{*}} \\frac{v^{*}-c^{*}}{k_{2}} \\mathbf{1}\\left\\{\\frac{v^{*}-c^{*}}{k_{2}} \\geq \\frac{1-F^{*}\\left(v^{*}\\right)}{k_{2}\\left(F^{*}\\right)^{\\prime}\\left(v^{*}\\right)}+\\frac{G^{*}\\left(c^{*}\\right)}{k_{2}\\left(G^{*}\\right)^{\\prime}\\left(c^{*}\\right)}\\right\\}\\left(F^{*}\\right)^{\\prime}\\left(v^{*}\\right) d v^{*}\\left(G^{*}\\right)^{\\prime}\\left(c^{*}\\right) d c^{*} \\\\\n& =\\int_{a_{2}^{*}}^{b_{2}^{*}} \\int_{a_{1}^{*}}^{b_{1}^{*}} \\frac{v^{*}-c^{*}}{k_{2}} \\mathbf{1}\\left\\{v^{*}-c^{*} \\geq \\frac{1-F^{*}\\left(v^{*}\\right)}{\\left(F^{*}\\right)^{\\prime}\\left(v^{*}\\right)}+\\frac{G^{*}\\left(c^{*}\\right)}{\\left(G^{*}\\right)^{\\prime}\\left(c^{*}\\right)}\\right\\}\\left(F^{*}\\right)^{\\prime}\\left(v^{*}\\right) d v^{*}\\left(G^{*}\\right)^{\\prime}\\left(c^{*}\\right) d c^{*} \\\\\n& =\\frac{1}{k_{2}} \\mathrm{GFT}_{F^{*}, G^{*}}\n\\end{aligned}\n$$\n\nwhere the last equality follows from $F^{*}$ and $G^{*}$ being regular distributions.\nA similar argument will show that\n\n$$\n\\mathrm{FB}-\\mathrm{GFT}_{F, G}=\\frac{1}{k_{2}} \\mathrm{FB}-\\mathrm{GFT}_{F^{*}, G^{*}}\n$$\n\nThus, if $\\mathrm{GFT}_{F, G}=\\alpha \\mathrm{FB}-\\mathrm{GFT}_{F, G}$, then\n\n$$\n\\mathrm{GFT}_{F^{*}, G^{*}}=k_{2} \\mathrm{GFT}_{F, G}=\\alpha k_{2} \\mathrm{FB}-\\mathrm{GFT}_{F, G}=\\alpha \\mathrm{FB}-\\mathrm{GFT}_{F^{*}, G^{*}}\n$$\n\nThe proof of Theorem 1.8 is deferred to Appendix A, as it requires much case work that includes cumbersome algebraic manipulations.\nInapproximability. We provide the proof of Theorem 1.9 here, which states that the extent to which the broker's optimal strategic behavior degrades the GFT can be significant.\n\nProof of Theorem 1.9. Recall that by Theorem 1.7, the gains-from-trade for any BNIC and IR mechanism that maximizes the broker's expected profit, assuming regular distributions, is given by\n\n$$\n\\operatorname{GFT}=\\iint(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}\\right\\} d F(v) d G(c)\n$$\n\nThus, to construct $F$ and $G$ for which such a mechanism achieves a 0 -approximation to the gains-from-trade, we want to construct $F$ such that\n\n$$\nv=\\frac{1-F(v)}{F^{\\prime}(v)}\n$$\n\nfor all $v$, in which case we have that\n\n$$\nv-c<\\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}\n$$\n\nfor all $v$ and $c$. Solving the above differential equation, we obtain the general solution\n\n$$\nF(v)=-\\frac{a}{v}+1\n$$\n\non $[a, \\infty)$ for $a>0$. However, since the result about the optimal broker's mechanism by Myerson and Satterthwaite (1983) only applies to distributions with bounded supports, we now modify $F$ by first truncating it and then extending it using a tangent line. ${ }^{17}$ In particular, we define\n\n$$\nF(v)= \\begin{cases}-\\frac{a}{v}+1 & \\text { if } a \\leq v \\leq b \\\\ \\left(-\\frac{a}{b}+1\\right)+\\frac{a}{b^{2}}(v-b) & \\text { if } b<v \\leq 2 b\\end{cases}\n$$\n\nfor $b>a \\geq 1$. Note that $F$ is regular, since\n\n$$\n\\phi_{F}(v)= \\begin{cases}0 & \\text { if } a \\leq v \\leq b \\\\ 2 v-2 b & \\text { if } b<v \\leq 2 b\\end{cases}\n$$\n\nis increasing. Finally, let $G$ be the uniform (and thus regular) distribution on $[0,1]$.\nWe will now show that for any $\\epsilon>0$, there exists $b>a$ such that any BNIC and IR mechanism that maximizes the broker's expected profit induces $\\mathrm{GFT}<\\epsilon \\mathrm{FB}-\\mathrm{GFT}$.\n\n[^0]\n[^0]:    ${ }^{17}$ Indeed, with the original $F$, trade never occurs by construction, so Profit $=0$. This implies that the characterization by Myerson and Satterthwaite (1983) does not apply as the broker can simply use a posted-pricing mechanism to obtain a positive profit.\n\nBy the construction of $F$, we have that $v-c<\\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}$ for all $v \\in(a, b)$, so\n\n$$\n\\begin{aligned}\n\\operatorname{GFT} & =\\frac{a}{b^{2}} \\int_{b}^{2 b} \\int_{0}^{1}(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}\\right\\} d c d v \\\\\n& \\leq \\frac{a}{b^{2}} \\int_{b}^{2 b} \\int_{0}^{1}(v-c) d c d v \\\\\n& =\\frac{a}{b^{2}} \\int_{b}^{2 b}\\left(v-\\frac{1}{2}\\right) d v \\\\\n& =\\frac{a}{b^{2}}\\left(\\frac{3 b^{2}}{2}-\\frac{b}{2}\\right) \\\\\n& =\\frac{a(3 b-1)}{2 b}\n\\end{aligned}\n$$\n\nIn addition, by the above derivation,\n\n$$\n\\begin{aligned}\n\\mathrm{FB}-\\mathrm{GFT} & =a \\int_{a}^{b} \\int_{0}^{1}(v-c) d c \\frac{1}{v^{2}} d v+\\frac{a}{b^{2}} \\int_{b}^{2 b} \\int_{0}^{1}(v-c) d c d v \\\\\n& =a \\int_{a}^{b}\\left[v c-\\frac{c^{2}}{2}\\right]_{0}^{1} \\frac{1}{v^{2}} d v+\\frac{a(3 b-1)}{2 b} \\\\\n& =a \\int_{a}^{b}\\left(v-\\frac{1}{2}\\right) \\frac{1}{v^{2}} d v+\\frac{a(3 b-1)}{2 b} \\\\\n& =a\\left(\\ln \\left(\\frac{b}{a}\\right)+\\frac{1}{2 b}-\\frac{1}{2 a}\\right)+\\frac{a(3 b-1)}{2 b}\n\\end{aligned}\n$$\n\nHence,\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} \\leq \\frac{a(3 b-1)}{2 b} /\\left(a\\left(\\ln \\left(\\frac{b}{a}\\right)+\\frac{1}{2 b}-\\frac{1}{2 a}\\right)+\\frac{a(3 b-1)}{2 b}\\right)\n$$\n\nwhich approaches 0 as $b \\rightarrow \\infty$, so $\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}$ approaches 0 as $b \\rightarrow \\infty$.\nInapproximability with a Public Agent. Here, we formally prove Theorem 1.10, first for the public-seller setting and then for the public-buyer setting. To prove the theorem for the public-seller setting, we first introduce some notation:\n\nDefinition 4.2. Given a direct mechanism $\\mathrm{MEC}=(x(v), p(v))^{18}$, we define the following functions for the expected utilities of the buyer, intermediary, and seller, respectively, assuming truthful reporting by the buyer:\n\n- $u_{b}(v)=x(v) \\cdot v-p_{b}(v)$\n- $u_{i}=\\int_{a}^{b}\\left(p_{b}(v)-p_{s}(v)\\right) F^{\\prime}(v) d v$\n- $u_{s}=\\int_{a}^{b}\\left(p_{s}(v)-x(v) \\cdot c\\right) F^{\\prime}(v) d v$\n\n[^0]\n[^0]:    ${ }^{18}$ In the public-seller setting, the allocation function $x$ and payment function $p$ of MEC only depend on the buyer's reported valuation $v$.\n\nNote that with a public seller, MEC is BNIC if $u_{b}(v) \\geq x(\\tilde{v}) \\cdot v-p_{b}(\\tilde{v})$ for every $v$ and $\\tilde{v}$, and MEC is IR if $u_{b}(v) \\geq 0$ for all $v$ and $u_{s} \\geq 0$.\n\nThe following theorem is an analogue of Theorem 3 in Myerson and Satterthwaite (1983):\nTheorem 4.3. For any BNIC mechanism MEC in the public-seller setting, $u_{b}(v)$ is increasing and\n\n$$\nu_{i}+u_{b}(a)+u_{s}=\\int_{a}^{b}\\left(\\left(v-\\frac{1-F(v)}{F^{\\prime}(v)}\\right)-c\\right) x(v) F^{\\prime}(v) d v\n$$\n\nProof. Since MEC is BNIC, for every $v$ and $v^{\\prime}$,\n\n$$\nu_{b}(v)=x(v) \\cdot v-p_{b}(v) \\geq x\\left(v^{\\prime}\\right) \\cdot v-p_{b}\\left(v^{\\prime}\\right)\n$$\n\nand\n\n$$\nu_{b}\\left(v^{\\prime}\\right)=x\\left(v^{\\prime}\\right) \\cdot v^{\\prime}-p_{b}\\left(v^{\\prime}\\right) \\geq x(v) \\cdot v^{\\prime}-p_{b}(v)\n$$\n\nThus,\n\n$$\n\\left(v-v^{\\prime}\\right) x(v) \\geq u_{b}(v)-u_{b}\\left(v^{\\prime}\\right) \\geq\\left(v-v^{\\prime}\\right) x\\left(v^{\\prime}\\right)\n$$\n\nIn particular, if $v>v^{\\prime}$, then $x(v) \\geq x\\left(v^{\\prime}\\right)$, so $x(v)$ is increasing and hence integrable. Therefore, $u_{b}^{\\prime}(v)=x(v)$ almost everywhere, so\n\n$$\nu_{b}(v)=u_{b}(a)+\\int_{a}^{v} x(t) d t\n$$\n\nand $u_{b}(\\cdot)$ is increasing.\nNow, by (4.1), we have that\n\n$$\n\\begin{aligned}\n\\int_{a}^{b}(v-c) x(v) F^{\\prime}(v) d v-u_{i} & =\\int_{a}^{b}\\left(v x(v)-p_{b}(v)\\right) F^{\\prime}(v) d v+\\int_{a}^{b}\\left(p_{s}(v)-c x(v)\\right) F^{\\prime}(v) d v \\\\\n& =\\int_{a}^{b} u_{b}(v) F^{\\prime}(v) d v+u_{s} \\\\\n& =\\int_{a}^{b}\\left(u_{b}(a)+\\int_{a}^{v} x(t) d t\\right) F^{\\prime}(v) d v+u_{s} \\\\\n& =u_{b}(a)+\\int_{a}^{b} \\int_{a}^{v} x(t) d t F^{\\prime}(v) d v+u_{s} \\\\\n& =u_{b}(a)+\\int_{a}^{b} \\int_{t}^{b} F^{\\prime}(v) d v x(t) d t+u_{s} \\\\\n& =u_{b}(a)+\\int_{a}^{b}(1-F(t)) x(t) d t+u_{s}\n\\end{aligned}\n$$\n\nFinally, from the first and last expressions in this chain of equations, we obtain\n\n$$\nu_{i}+u_{b}(a)+u_{s}=\\int_{a}^{b}\\left(\\left(v-\\frac{1-F(v)}{F^{\\prime}(v)}\\right)-c\\right) x(v) F^{\\prime}(v) d v\n$$\n\nNext, the following is an analogue of Theorem 4 in Myerson and Satterthwaite (1983), tailored to the public-seller setting.\n\nTheorem 4.4. Suppose $F$ is a regular distribution in the public-seller setting. Then, among all BNIC and IR mechanisms, the broker's expected profit is maximized by a mechanism in which the object is transferred to the buyer if and only if $\\phi_{F}(v) \\geq c$.\n\nProof. By Theorem 4.3, we have that\n\n$$\nu_{i}=\\int_{a}^{b}\\left(\\left(v-\\frac{1-F(v)}{F^{\\prime}(v)}\\right)-c\\right) x(v) F^{\\prime}(v) d v-u_{b}(a)-u_{s}\n$$\n\nSince we want an IR mechanism MEC that maximizes $u_{i}$, we want MEC to satisfy the following constraints:\n\n1. $u_{b}(a)=0$\n2. $u_{s}=0$\n3. $x(v)= \\begin{cases}1 & \\text { if } \\phi_{F}(v) \\geq c \\\\ 0 & \\text { otherwise }\\end{cases}$\n\nIt remains to define $p(v)=\\left(p_{s}(v), p_{b}(v)\\right)$ such that first two constraints are satisfied. We take\n\n$$\np_{s}(v)=x(v) c\n$$\n\nand\n\n$$\np_{b}(v)=x(v) \\cdot \\inf \\left\\{t \\geq a \\mid \\phi_{F}(t) \\geq c\\right\\}\n$$\n\nThen, since $p_{b}(a)=a x(a)$ and $p_{s}(v)-x(v) c=0$ for all $v$, we have that $u_{b}(a)=0$ and $u_{s}=0$, as desired.\n\nNote that MEC is BNIC, since if trade occurs, the buyer pays the lowest valuation he could have reported and still have the trade occur. Then, since $u_{b}(v)$ is increasing by Theorem 4.3 and $u_{b}(a)=0$, we have that MEC is IR.\n\nThe next corollary directly follows from the above theorem:\nCorollary 4.5. Suppose $F$ is a regular distribution in the public-seller setting. Then, the gains-from-trade from any BNIC and IR mechanism that maximizes the broker's expected profit is\n\n$$\n\\int_{a}^{b}(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{1-F(v)}{F^{\\prime}(v)}\\right\\} F^{\\prime}(v) d v\n$$\n\nUsing similar ideas, we prove the following theorem which is the public-buyer analogue of Theorem 4.4. Its proof is deferred to Appendix B due to its similarity.\n\nTheorem 4.6. Suppose $G$ is a regular distribution in the public-buyer setting. Then, the gains-from-trade from any BNIC and IR mechanism that maximizes the broker's expected profit is\n\n$$\n\\int_{a}^{b}(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{G(c)}{G^{\\prime}(c)}\\right\\} G^{\\prime}(c) d c\n$$\n\nWe are finally ready to prove Theorem 1.10.\n\nProof of Theorem 1.10. We first prove the public-seller case. Let $b>a>0$. Define\n\n$$\nF(v)= \\begin{cases}-\\frac{a}{v}+1 & \\text { if } a \\leq v \\leq b \\\\ \\left(-\\frac{a}{b}+1\\right)+\\frac{a}{b^{2}}(v-b) & \\text { if } b<v \\leq 2 b\\end{cases}\n$$\n\nand let $G$ be the singleton distribution supported on $\\{a\\}$. Then,\n\n$$\n\\begin{aligned}\n\\text { FB-GFT } & =a \\int_{a}^{b}(v-a) \\cdot \\frac{1}{v^{2}} d v+\\frac{a}{b^{2}} \\int_{b}^{2 b}(v-a) d v \\\\\n& =a\\left(\\ln \\left(\\frac{b}{a}\\right)+\\frac{a}{b}-1\\right)+\\left(\\frac{3 a}{2}-\\frac{a^{2}}{b}\\right)\n\\end{aligned}\n$$\n\nand since $F$ is regular, by Corollary 4.5 and using the facts that $v=(1-F(v)) / F^{\\prime}(v)$ on $(a, b)$ and that $b \\leq(a+2 b) / 2 \\leq 2 b$,\n\n$$\n\\begin{aligned}\n\\operatorname{GFT} & =\\int_{a}^{2 b}(v-a) \\mathbf{1}\\left\\{v-a \\geq \\frac{1-F(v)}{F^{\\prime}(v)}\\right\\} F^{\\prime}(v) d v \\\\\n& =\\frac{a}{b^{2}} \\int_{b}^{2 b}(v-a) \\mathbf{1}\\left\\{v-a \\geq \\frac{1-F(v)}{F^{\\prime}(v)}\\right\\} d v \\\\\n& =\\frac{a}{b^{2}} \\int_{b}^{2 b}(v-a) \\mathbf{1}\\left\\{v \\geq \\frac{a+2 b}{2}\\right\\} d v \\\\\n& =\\frac{a}{b^{2}} \\int_{(a+2 b) / 2}^{2 b}(v-a) d v \\\\\n& =\\frac{3 a(a-2 b)^{2}}{8 b^{2}}\n\\end{aligned}\n$$\n\nThus, as $b \\rightarrow \\infty$, we have that $\\frac{\\text { GFT }}{\\text { FB-GFT }} \\rightarrow 0$.\nFinally, we prove the public-buyer case. Let $0<\\delta<\\frac{1}{2}$. Define\n\n$$\nG(c)= \\begin{cases}\\delta c & \\text { if } 0 \\leq c \\leq 1 \\\\ \\rho(c) & \\text { if } 1<c \\leq 2\\end{cases}\n$$\n\nwhere\n\n$$\n\\rho(c)=k-\\frac{a}{c-h}\n$$\n\nand\n\n$$\nh=\\frac{2-3 \\delta}{1-2 \\delta}, a=\\delta(1-h)^{2}, k=\\delta(2-h)\n$$\n\nare chosen so that\n\n$$\n\\rho(1)=\\delta, \\rho^{\\prime}(1)=\\delta, \\rho(2)=1\n$$\n\nIn addition, let $F$ be the singleton distribution supported on $\\{2\\}$. Then,\n\n$$\n\\text { FB-GFT }=\\delta \\int_{0}^{1}(2-c) d c+a \\int_{1}^{2}(2-c) \\cdot \\frac{1}{(c-h)^{2}} d c\n$$\n\n$$\n\\begin{aligned}\n& =\\frac{3}{2} \\delta+a\\left(\\frac{1}{1-h}-\\ln \\left(\\frac{2-h}{1-h}\\right)\\right) \\\\\n& =\\frac{3}{2} \\delta+\\frac{\\delta(1-\\delta)^{2}}{(2 \\delta-1)^{2}}\\left(\\frac{2 \\delta-1}{1-\\delta}-\\ln \\left(\\frac{\\delta}{1-\\delta}\\right)\\right) \\\\\n& \\geq \\frac{\\delta(1-\\delta)^{2}}{(2 \\delta-1)^{2}}\\left(\\frac{2 \\delta-1}{1-\\delta}-\\ln \\left(\\frac{\\delta}{1-\\delta}\\right)\\right)\n\\end{aligned}\n$$\n\nand since $G$ is regular, by Theorem 4.6,\n\n$$\n\\begin{aligned}\n\\mathrm{GFT} & =\\int_{0}^{2}(2-c) \\mathbf{1}\\left\\{2 \\geq c+\\frac{G(c)}{G^{\\prime}(c)}\\right\\} G^{\\prime}(c) d c \\\\\n& =\\delta \\int_{0}^{1}(2-c) d c \\\\\n& =\\frac{3}{2} \\delta\n\\end{aligned}\n$$\n\nsince $\\phi_{G}(1)=1+\\frac{G(1)}{G^{\\prime}(1)}=2$ and $\\phi_{G}(\\cdot)$ is strictly increasing. Thus,\n\n$$\n\\frac{\\mathrm{FB}-\\mathrm{GFT}}{\\mathrm{GFT}} \\geq \\frac{2(1-\\delta)^{2}}{3(2 \\delta-1)^{2}}\\left(\\frac{2 \\delta-1}{1-\\delta}-\\ln \\left(\\frac{\\delta}{1-\\delta}\\right)\\right)\n$$\n\nso taking the limit as $\\delta \\rightarrow 0$, we obtain\n\n$$\n\\begin{aligned}\n\\lim _{\\delta \\rightarrow 0}\\left(\\frac{2(1-\\delta)^{2}}{3(2 \\delta-1)^{2}}\\left(\\frac{2 \\delta-1}{1-\\delta}-\\ln \\left(\\frac{\\delta}{1-\\delta}\\right)\\right)\\right) & =\\lim _{\\delta \\rightarrow 0} \\frac{2(1-\\delta)}{3(2 \\delta-1)}-\\lim _{\\delta \\rightarrow 0} \\frac{2(1-\\delta)^{2}}{3(2 \\delta-1)^{2}} \\ln \\delta+\\lim _{\\delta \\rightarrow 0} \\frac{2(1-\\delta)^{2}}{3(2 \\delta-1)^{2}} \\ln (1-\\delta) \\\\\n& =-\\frac{2}{3}-\\lim _{\\delta \\rightarrow 0} \\frac{2(1-\\delta)^{2}}{3(2 \\delta-1)^{2}} \\ln \\delta \\\\\n& =\\infty\n\\end{aligned}\n$$\n\nwhich completes the proof.\nInapproximability with Symmetric Agents. Finally, we provide the proof of Theorem 1.11 here. The proof mainly follows from considering the same distribution exploited in Theorem 1.9.\n\nProof. Let $b>a>0$. Let\n\n$$\nF(v)= \\begin{cases}-\\frac{a}{v}+1 & \\text { if } a \\leq v \\leq b \\\\ \\left(-\\frac{a}{b}+1\\right)+\\frac{a}{b^{2}}(v-b) & \\text { if } b<v \\leq 2 b\\end{cases}\n$$\n\nand let $G=F$. Then,\n\n$$\n\\begin{aligned}\n\\mathrm{FB}-\\mathrm{GFT} & =a^{2} \\int_{a}^{b} \\int_{a}^{v}(v-c) \\frac{1}{c^{2}} d c \\frac{1}{v^{2}} d v+\\frac{a^{2}}{b^{2}} \\int_{b}^{2 b} \\int_{a}^{b}(v-c) \\frac{1}{c^{2}} d c d v+\\frac{a^{2}}{b^{4}} \\int_{b}^{2 b} \\int_{b}^{v}(v-c) d c d v \\\\\n& =a^{2} \\int_{a}^{b}\\left[-\\frac{v}{c}-\\ln c\\right]_{a}^{v} \\frac{1}{v^{2}} d v+\\frac{a^{2}}{b^{2}} \\int_{b}^{2 b}\\left[-\\frac{v}{c}-\\ln c\\right]_{a}^{b} d v+\\frac{a^{2}}{b^{4}} \\int_{b}^{2 b}\\left[v c-\\frac{c^{2}}{2}\\right]_{b}^{v} d v \\\\\n& =a^{2} \\int_{a}^{b}\\left(\\frac{v}{a}-1-\\ln \\left(\\frac{v}{a}\\right)\\right) \\frac{1}{v^{2}} d v+\\frac{a^{2}}{b^{2}} \\int_{b}^{2 b}\\left(\\frac{v}{a}-\\frac{v}{b}-\\ln \\left(\\frac{b}{a}\\right)\\right) d v+\\frac{a^{2}}{2 b^{4}} \\int_{b}^{2 b}(v-b)^{2} d v\n\\end{aligned}\n$$\n\nExpanding the integral once again, we obtain\n\n$$\n\\begin{aligned}\n\\mathrm{FB}-\\mathrm{GFT} & =a^{2}\\left(\\frac{1}{a} \\ln \\left(\\frac{b}{a}\\right)+\\left(\\frac{1}{b}-\\frac{1}{a}\\right)+\\frac{1}{b}\\left(\\ln \\left(\\frac{b}{a}\\right)+1\\right)-\\frac{1}{a}\\right)+\\frac{a^{2}}{b^{2}}\\left(\\frac{3 b^{2}}{2 a}-\\frac{3 b}{2}-b \\ln \\left(\\frac{b}{a}\\right)\\right)+\\frac{a^{2}}{2 b^{4}}\\left(\\frac{b^{3}}{3}\\right) \\\\\n& =\\left(a \\ln \\left(\\frac{b}{a}\\right)+\\left(\\frac{a^{2}}{b}-a\\right)+\\frac{a^{2}}{b}\\left(\\ln \\left(\\frac{b}{a}\\right)+1\\right)-a\\right)+\\left(\\frac{3 a}{2}-\\frac{3 a^{2}}{2 b}-\\frac{a^{2}}{b} \\ln \\left(\\frac{b}{a}\\right)\\right)+\\frac{a^{2}}{6 b} \\\\\n& \\geq a \\ln (b)-a \\ln a-2 a-\\frac{3 a^{2}}{2 b}\n\\end{aligned}\n$$\n\nIn addition, by Theorem 1.7, we have that\n\n$$\n\\begin{aligned}\n\\mathrm{GFT} & =\\iint(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}\\right\\} F^{\\prime}(v) d v G^{\\prime}(c) d c \\\\\n& =\\frac{a}{b^{2}} \\int_{b}^{2 b} \\int(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}\\right\\} G^{\\prime}(c) d c d v \\\\\n& \\leq \\frac{a}{b^{2}} \\int_{b}^{2 b} \\int(v-c) \\mathbf{1}\\{v-c \\geq 0\\} G^{\\prime}(c) d c d v \\\\\n& =\\frac{a^{2}}{b^{2}} \\int_{b}^{2 b} \\int_{a}^{b}(v-c) \\frac{1}{c^{2}} d c d v+\\frac{a^{2}}{b^{4}} \\int_{b}^{2 b} \\int_{b}^{v}(v-c) d c d v \\\\\n& =\\frac{3 a}{2}-\\frac{3 a^{2}}{2 b}-\\frac{a^{2}}{b} \\ln \\left(\\frac{b}{a}\\right)+\\frac{a^{2}}{6 b} \\\\\n& \\leq \\frac{3 a}{2}+\\frac{a^{2}}{6 b}\n\\end{aligned}\n$$\n\nThus, since $\\mathrm{GFT} \\sim \\frac{3 a}{2}$ and $\\mathrm{FB}-\\mathrm{GFT} \\sim a \\ln b$, we have that $\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} \\rightarrow 0$ as $b \\rightarrow \\infty$.\nInapproximability of Social Welfare. Interestingly, in several of the settings where we have proven inapproximability of the first-best gains-from-trade, the inapproximability carries over to the first-best social welfare, even though the latter is at least as easy to approximate as the former.\n\nProof of Theorem 1.12. Suppose we have a family of problem instances $\\left\\{\\left(F_{\\delta}, G_{\\delta}\\right)\\right\\}_{\\delta \\in \\mathbb{R}_{+}}$satisfying the following:\n\n1. The supports of the $G_{\\delta}$ are uniformly upper-bounded by some constant $M$.\n2. For any $\\left(F_{\\delta}, G_{\\delta}\\right)$, we have that $\\mathrm{GFT}<\\delta \\mathrm{FB}-\\mathrm{GFT}$.\n3. $\\lim _{\\delta \\rightarrow 0} \\mathrm{FB}-\\mathrm{GFT}=\\infty$\n\nThen,\n\n$$\n\\frac{\\mathrm{SW}}{\\mathrm{FB}-\\mathrm{SW}}=\\frac{\\mathbb{E}_{c \\sim G_{\\delta}}[c]+\\mathrm{GFT}}{\\mathbb{E}_{c \\sim G_{\\delta}}[c]+\\mathrm{FB}-\\mathrm{GFT}} \\leq \\frac{M+\\mathrm{GFT}}{M+\\mathrm{FB}-\\mathrm{GFT}} \\leq \\frac{M+\\delta \\mathrm{FB}-\\mathrm{GFT}}{M+\\mathrm{FB}-\\mathrm{GFT}}=\\frac{M / \\mathrm{FB}-\\mathrm{GFT}+\\delta}{M / \\mathrm{FB}-\\mathrm{GFT}+1}\n$$\n\nfor any $\\left(F_{\\delta}, G_{\\delta}\\right)$, so since $\\frac{M / \\mathrm{FB}-\\mathrm{GFT}+\\delta}{M / \\mathrm{FB}-\\mathrm{GFT}+1} \\rightarrow 0$ as $\\delta \\rightarrow 0$, we have that $\\frac{\\mathrm{SW}}{\\mathrm{FB}-\\mathrm{SW}} \\rightarrow 0$ as $\\delta \\rightarrow 0$.\nTo complete the proof, note that by taking $\\left(F_{\\delta}, G_{\\delta}\\right)$ to be the problem instance from Theorem 1.9 (respectively the public-seller problem instance from Theorem 1.10) such that $\\mathrm{GFT}<\\delta \\mathrm{FB}-\\mathrm{GFT}$, we obtain a family of problem instances $\\left\\{\\left(F_{\\delta}, G_{\\delta}\\right)\\right\\}_{\\delta \\in \\mathbb{R}_{+}}$satisfying the three properties above.", "tables": {}, "images": {}}, {"section_id": 7, "text": "# 5 Conclusion \n\nWe study bilateral trade with a broker and identify the intrinsic trade-off between the broker's expected profit and her mechanism's approximation factor to the first-best GFT. In particular, we characterize the extent to which constant-factor approximation is possible and complement such results by providing inapproximability results beyond those regimes.\n\nOur work introduces several interesting avenues to explore. First of all, it remains as a major open problem whether a constant-factor approximation is possible for more general classes of distributions (in particular for regular and one-sided MHR distributions) when the broker runs an optimal posted-pricing mechanism. It would also be interesting to investigate the exact trade-off between the broker's expected profit and the gains-from-trade. Finally, it would be worth exploring the approximation factor with respect to the social welfare instead of the gains-from-trade, which typically admits more positive results.", "tables": {}, "images": {}}, {"section_id": 8, "text": "## References\n\nMoshe Babaioff, Kira Goldner, and Yannai A Gonczarowski. Bulow-klemperer-style results for welfare maximization in two-sided markets. In Proceedings of the Fourteenth Annual ACM-SIAM Symposium on Discrete Algorithms, pages 2452-2471. SIAM, 2020.\n\nSandeep Baliga and Rakesh Vohra. Market research and market design. Advances in theoretical Economics, 3(1), 2003.\n\nLiad Blumrosen and Shahar Dobzinski. Reallocation mechanisms. arXiv preprint arXiv:1404.6786, 2014.\n\nLiad Blumrosen and Shahar Dobzinski. (almost) efficient mechanisms for bilateral trading. arXiv preprint arXiv:1604.04876, 2016.\n\nLiad Blumrosen and Yehonatan Mizrahi. Approximating gains-from-trade in bilateral trading. In Web and Internet Economics: 12th International Conference, WINE 2016, Montreal, Canada, December 11-14, 2016, Proceedings 12, pages 400-413. Springer, 2016.\n\nJohannes Brustle, Yang Cai, Fa Wu, and Mingfei Zhao. Approximating gains from trade in twosided markets via simple mechanisms. In Proceedings of the 2017 ACM Conference on Economics and Computation, pages 589-590, 2017.\n\nJeremy I Bulow and Paul D Klemperer. Auctions vs. negotiations, 1994.\nYang Cai, Kira Goldner, Steven Ma, and Mingfei Zhao. On multi-dimensional gains from trade maximization. In Proceedings of the 2021 ACM-SIAM Symposium on Discrete Algorithms (SODA), pages 1079-1098. SIAM, 2021.\n\nYang Cai, Christopher Liaw, Aranyak Mehta, and Mingfei Zhao. The power of two-sided recruitment in two-sided markets. In Proceedings of the 56th Annual ACM Symposium on Theory of Computing, pages 201-212, 2024.\n\nShuchi Chawla, Jason D Hartline, and Robert Kleinberg. Algorithmic pricing via virtual valuations. In Proceedings of the 8th ACM Conference on Electronic Commerce, pages 243-251, 2007.\n\nShuchi Chawla, Jason D Hartline, David L Malec, and Balasubramanian Sivan. Multi-parameter mechanism design and sequential posted pricing. In Proceedings of the forty-second ACM symposium on Theory of computing, pages 311-320, 2010.\n\nJernej \u010copi\u010d and Clara Ponsat\u00ed. Robust bilateral trade and mediated bargaining. Journal of the European Economic Association, 6(2-3):570-580, 2008.\n\nHans Degryse, Mark Van Achter, and Gunther Wuyts. Dynamic order submission strategies with competition between a dealer market and a crossing network. Journal of Financial Economics, $91(3): 319-338,2009$.\n\nYuan Deng, Jieming Mao, Balasubramanian Sivan, and Kangning Wang. Approximately efficient bilateral trade. In Proceedings of the 54th Annual ACM SIGACT Symposium on Theory of Computing, pages 718-721, 2022.\n\nKaustubh Deshmukh, Andrew V Goldberg, Jason D Hartline, and Anna R Karlin. Truthful and competitive double auctions. In Algorithms-ESA 2002: 10th Annual European Symposium Rome, Italy, September 17-21, 2002 Proceedings 10, pages 361-373. Springer, 2002.\n\nShahar Dobzinski and Ariel Shaulker. Bilateral trade with correlated values. In Proceedings of the 56th Annual ACM Symposium on Theory of Computing, pages 237-246, 2024.\n\nDarrell Duffie and Haoxiang Zhu. Size discovery. The Review of Financial Studies, 30(4):1095-1150, 2017.\n\nRan Eilat and Ady Pauzner. Bilateral trade with a benevolent intermediary. Theoretical Economics, $16(4): 1655-1714,2021$.\n\nYumou Fei. Improved approximation to first-best gains-from-trade. In International Conference on Web and Internet Economics, pages 204-218. Springer, 2022.\n\nKathleen M Hagerty and William P Rogerson. Robust trading mechanisms. Journal of Economic Theory, 42(1):94-107, 1987.\n\nJason D Hartline and Tim Roughgarden. Optimal mechanism design and money burning. In Proceedings of the fortieth annual ACM symposium on Theory of computing, pages 75-84, 2008.\n\nJason D Hartline and Tim Roughgarden. Simple versus optimal mechanisms. In Proceedings of the 10th ACM conference on Electronic commerce, pages 225-234, 2009.\n\nZi Yang Kang and Jan Vondr\u00e1k. Fixed-price approximations to optimal efficiency in bilateral trade. Available at SSRN 3460336, 2019.\n\nZi Yang Kang, Francisco Pernice, and Jan Vondr\u00e1k. Fixed-price approximations in bilateral trade. In Proceedings of the 2022 Annual ACM-SIAM Symposium on Discrete Algorithms (SODA), pages 2964-2985. SIAM, 2022.\n\nZhonghong Kuang, Weiran Shen, and Fan Wu. Profit-maximizing mechanism in bilateral trade with interdependent valuations. Available at SSRN 4474002, 2023.\n\nZhengyang Liu, Zeyu Ren, and Zihe Wang. Improved approximation ratios of fixed-price mechanisms in bilateral trades. In Proceedings of the 55th Annual ACM Symposium on Theory of Computing, pages 751-760, 2023.\n\nR Preston McAfee. A dominant strategy double auction. Journal of economic Theory, 56(2): $434-450,1992$.\n\nR Preston McAfee. The gains from trade under fixed price mechanisms. Applied economics research bulletin, $1(1): 1-10,2008$.\n\nRoger B Myerson. Optimal auction design. Mathematics of operations research, 6(1):58-73, 1981.\nRoger B Myerson and Mark A Satterthwaite. Efficient mechanisms for bilateral trading. Journal of economic theory, 29(2):265-281, 1983.\n\nTim Roughgarden. Algorithmic game theory. Communications of the ACM, 53(7):78-86, 2010.\nXingtan Zhang. Efficient bargaining through a broker. 2019.\nHaoxiang Zhu. Do dark pools harm price discovery? The Review of Financial Studies, 27(3): $747-789,2014$.", "tables": {}, "images": {}}, {"section_id": 9, "text": "# A Proof of Theorem 1.8 \n\nWe first prove the lower bounds and then present the worst-case instances that match the lower bounds.", "tables": {}, "images": {}}, {"section_id": 10, "text": "## A. 1 Lower bounds\n\nBy Lemma 4.1, we can assume that $\\left[a_{1}, b_{1}\\right]=[0,1]$ without loss of generality. Now, let $F$ and $G$ be the uniform distributions on $[0,1]$ and $[a, b]$, respectively, i.e., let\n\n$$\nF(v)= \\begin{cases}v & \\text { if } v \\in[0,1] \\\\ 0 & \\text { otherwise }\\end{cases}\n$$\n\nand\n\n$$\nG(c)= \\begin{cases}\\frac{c-a}{b-a} & \\text { if } c \\in[a, b] \\\\ 0 & \\text { otherwise }\\end{cases}\n$$\n\n(Note that $[a, b]$ might not lie completely in $[0, \\infty)$, since we normalize $F$ and $G$ so that $F$ is supported on $[0,1]$.) It is straightforward to check that both $F$ and $G$ are regular. Thus, by Theorem 1.7, the gains-from-trade of any BNIC and IR mechanism that maximizes the broker's expected profit is given by\n\n$$\n\\begin{aligned}\n\\operatorname{GFT} & =\\iint(v-c) \\mathbf{1}\\left\\{v-c \\geq \\frac{1-F(v)}{F^{\\prime}(v)}+\\frac{G(c)}{G^{\\prime}(c)}\\right\\} d F(v) d G(c) \\\\\n& =\\iint(v-c) \\mathbf{1}\\{v-c \\geq(1-v)+(c-a)\\} d F(v) d G(c) \\\\\n& =\\iint(v-c) \\mathbf{1}\\left\\{v-c \\geq T_{a}\\right\\} d F(v) d G(c)\n\\end{aligned}\n$$\n\nwhere $T_{a}=\\frac{1-a}{2}$.\nWe will now complete the proof by considering the following cases based on the values of $a$ and $b$ :\n\n![table_0](table_0)\n\nTable 1: Summary of Lower Bounds\n\nCase 1: $b \\leq 0$\nCase 2: $a \\leq 0<b \\leq 1$\nCase 3: $a \\leq 0<1<b$\nCase 4: $0<a<b \\leq 1$\nCase 5: $0<a<1<b$\nCase 6: $a \\geq 1$\nWe will further break down each case (except for Case 6) into the following subcases based on the values of $a+T_{a}$ and $b+T_{a}$ :\n\nSubcase (a): $b+T_{a} \\leq 0$\nSubcase (b): $a+T_{a} \\leq 0<b+T_{a} \\leq 1$\nSubcase (c): $a+T_{a} \\leq 0<1<b+T_{a}$\nSubcase (d): $0<a+T_{a}<b+T_{a} \\leq 1$\nSubcase (e): $0<a+T_{a}<1<b+T_{a}$\nNote that not every case-subcase combination is possible, as we will see when we investigate each case-subcase combination below. Table 1 summarizes the lower-bounds for each case-subcase combination. (The empty cells correspond to impossible case-subcase combinations.)\n\nWe will now derive the lower bounds in Table 1. The following two tables will be helpful for our analysis. Specifically, Table 2 summarizes FB-GFT for each case.\n\n![table_1](table_1)\n\nTable 2: First-Best Gains-from-Trade by Case\nFurthermore, Table 3 summarizes the GFT of the broker's optimal mechanism in each subcase.\n\n![table_2](table_2)\n\nTable 3: Gains-from-Trade of Broker's Optimal Mechanism by Subcase\nWe now prove the desired lower bounds in what follows.\nCase 1: $b \\leq 0$.\nCase 1(a): $b+T_{a} \\leq 0$\nWe have that\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=1\n$$\n\nCase 1(b): $a+T_{a} \\leq 0<b+T_{a} \\leq 1$\nWe seek to lower bound\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=\\frac{-a^{2}+4 a b-10 a-4 b^{2}+8 b-1}{12(b-a)}\n$$\n\nTaking the derivative with respect to $b$, we obtain\n\n$$\n\\begin{aligned}\n\\frac{\\partial}{\\partial b}\\left[\\frac{-a^{2}+4 a b-10 a-4 b^{2}+8 b-1}{12(b-a)}\\right] & =\\frac{12(b-a)(4 a-8 b+8)-12\\left(-a^{2}+4 a b-10 a-4 b^{2}+8 b-1\\right)}{(12(b-a))^{2}} \\\\\n& =\\frac{\\left(4 a b-8 b^{2}+8 b-4 a^{2}+8 a b-8 a\\right)+\\left(a^{2}-4 a b+10 a+4 b^{2}-8 b+1\\right)}{12(b-a)^{2}} \\\\\n& =\\frac{8 a b-4 b^{2}-3 a^{2}+2 a+1}{12(b-a)^{2}} \\\\\n& =\\frac{(-a+2 b+1)(3 a-2 b+1)}{12(b-a)^{2}}\n\\end{aligned}\n$$\n\nNow, since $-a+2 b+1 \\geq 0$ and $3 a-2 b+1 \\leq 0$ whenever $a \\in(-\\infty,-1]$ and $b \\in\\left(\\frac{a-1}{2}, \\frac{a+1}{2}\\right]$, $\\frac{\\text { GFT }}{\\text { FB-GFT }}$ is an decreasing function with respect to $b$ on $a \\in(-\\infty,-1]$ and $b \\in\\left(\\frac{a-1}{2}, \\frac{a+1}{2}\\right]$. Thus,\n\n$$\n\\begin{aligned}\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} & =\\frac{-a^{2}+4 a b-10 a-4 b^{2}+8 b-1}{12(b-a)} \\\\\n& \\geq \\frac{-a^{2}+\\left(2 a^{2}+2 a\\right)-10 a-\\left(a^{2}+2 a+1\\right)+(4 a+4)-1}{6-6 a} \\\\\n& =\\frac{2-6 a}{6-6 a} \\\\\n& \\geq \\frac{2-6(-1)}{6-6(-1)} \\\\\n& =\\frac{2}{3}\n\\end{aligned}\n$$\n\nsince $\\frac{2-6 a}{6-6 a}$ is decreasing on $(-\\infty,-1]$.\nCase 1(c): $a+T_{a} \\leq 0<1<b+T_{a}$\nSince $(b-a)(1-a-b)$ is increasing with respect to $b$ on $(-\\infty, 0]$, we have that\n\n$$\n\\begin{aligned}\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} & =\\frac{(3 a-1)^{2}}{12(b-a)(1-a-b)} \\\\\n& \\geq \\frac{(3 a-1)^{2}}{12 a(a-1)} \\\\\n& \\geq \\frac{2}{3}\n\\end{aligned}\n$$\n\nwhere the last inequality follows from $\\frac{(3 a-1)^{2}}{12 a(a-1)}$ being decreasing on $(-\\infty,-1]$.\nCase 1(d): $0<a+T_{a}<b+T_{a} \\leq 1$\nWe seek to lower bound\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=\\frac{(a+2 b-3)^{2}}{12(1-a-b)}\n$$\n\nTaking the derivative with respect to $b$, we obtain\n\n$$\n\\begin{aligned}\n\\frac{\\partial}{\\partial b}\\left[\\frac{(a+2 b-3)^{2}}{12(1-a-b)}\\right] & =\\frac{48(1-a-b)(a+2 b-3)+12(a+2 b-3)^{2}}{(12(1-a-b))^{2}} \\\\\n& =\\frac{(a+2 b-3)(1-3 a-2 b)}{12(1-a-b)^{2}}\n\\end{aligned}\n$$\n\nThus, since\n\n$$\na+2 b-3 \\leq 0\n$$\n\nand\n\n$$\n1-3 a-2 b \\geq 0\n$$\n\nwhenever $a \\in[-1,0]$ and $b \\in[-1,0]$, we have that $\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}$ is decreasing with respect to $b$ on $a \\in[-1,0]$ and $b \\in[-1,0]$. Hence,\n\n$$\n\\begin{aligned}\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} & =\\frac{(a+2 b-3)^{2}}{12(1-a-b)} \\\\\n& \\geq \\frac{(a-3)^{2}}{12(1-a)} \\\\\n& \\geq \\frac{2}{3}\n\\end{aligned}\n$$\n\nsince $\\frac{(a-3)^{2}}{12(1-a)}$ is increasing on $[-1,0]$.\n\nCase 1(e): $0<a+T_{a}<1<b+T_{a}$\nSince\n\n$$\n\\begin{aligned}\na+T_{a} & >0 \\\\\na & >-1\n\\end{aligned}\n$$\n\nwe have that\n\n$$\n\\begin{aligned}\nb+T_{a} & >1 \\\\\nb & >\\frac{a+1}{2}>0\n\\end{aligned}\n$$\n\nso this case is impossible because $b \\leq 0$ in Case 1.\nCase 2: $a \\leq 0<b \\leq 1$\nCase 2(a): $b+T_{a} \\leq 0$\nSince $T_{a}>0$ and $b>0$, this case is impossible.\nCase 2(b): $a+T_{a} \\leq 0<b+T_{a} \\leq 1$\n\nSince\n\n$$\n\\begin{aligned}\na+T_{a} & \\leq 0 \\\\\na & \\leq-1\n\\end{aligned}\n$$\n\nand\n\n$$\nb+T_{a} \\leq 1\n$$\n\nwe have that\n\n$$\nb \\leq \\frac{a+1}{2} \\leq 0\n$$\n\nso this case is impossible because $b>0$ in Case 2 .\nCase 2(c): $a+T_{a} \\leq 0<1<b+T_{a}$\nObserve that $b^{3}-3 b^{2}+3 b$ is increasing on $[0,1]$ and that $\\frac{(3 a-1)^{2}}{4\\left(3 a^{2}-3 a+1\\right)}$ is decreasing on $(-\\infty,-1]$. Thus, we have\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=\\frac{(3 a-1)^{2}}{4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)} \\geq \\frac{(3 a-1)^{2}}{4\\left(3 a^{2}-3 a+1\\right)} \\geq \\frac{4}{7}\n$$\n\nCase 2(d): $0<a+T_{a}<b+T_{a} \\leq 1$\nWe seek to lower bound\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=\\frac{(a+2 b-3)^{2}(b-a)}{4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)}\n$$\n\nTaking the derivative with respect to $b$, we obtain\n\n$$\n\\begin{aligned}\n\\frac{\\partial}{\\partial b}\\left[\\frac{(a+2 b-3)^{2}(b-a)}{4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)}\\right] & =\\frac{4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)(4(a+2 b-3)(b-a)+(a+2 b-3)^{2})}{\\left(4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)\\right)^{2}} \\\\\n& -\\frac{4(a+2 b-3)^{2}(b-a)\\left(3 b^{2}-6 b+3\\right)}{\\left(4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)\\right)^{2}} \\\\\n& =-\\frac{12\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)(a+2 b-3)(a-2 b+1)}{\\left(4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)\\right)^{2}} \\\\\n& -\\frac{12(a+2 b-3)^{2}(b-a)(b-1)^{2}}{\\left(4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)\\right)^{2}} \\\\\n& =-\\frac{12(a+2 b-3)}{\\left(4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)\\right)^{2}} \\\\\n& \\left\\{\\left(3 a^{3}+a b^{3}-3 a b^{2}+9 a b-6 a^{2} b-2 b^{4}+7 b^{3}-9 b^{2}-3 a+3 b\\right)\\right. \\\\\n& \\left.+\\left(-a b^{3}+2 b^{4}-7 b^{3}-a^{2} b^{2}+5 a b^{2}+8 b^{2}+2 a^{2} b-7 a b-3 b-a^{2}+3 a\\right)\\right\\} \\\\\n& =-\\frac{12(a+2 b-3)}{\\left(4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)\\right)^{2}}\\left(3 a^{3}+2 a b^{2}+2 a b-4 a^{2} b-b^{2}-a^{2} b^{2}-a^{2}\\right)\n\\end{aligned}\n$$\n\nNow, since each of the terms in the rightmost factor is nonpositive and $a+2 b-3 \\leq 0$ whenever $a \\in(-1,0]$ and $b \\in\\left(0, \\frac{a+1}{2}\\right]$, we have that $\\frac{(a+2 b-3)^{2}(b-a)}{4\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)}$ is decreasing with respect\n\nto $b$ on $a \\in(-1,0]$ and $b \\in\\left(0, \\frac{a+1}{2}\\right]$. Hence,\n\n$$\n\\begin{aligned}\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} & \\geq \\frac{(2 a-2)^{2}((1-a) / 2)}{4\\left(3 a^{2}-3 a+\\left(a^{3}-3 a^{2}+3 a+7\\right) / 8\\right)} \\\\\n& =\\frac{4(1-a)^{3}}{a^{3}+21 a^{2}-21 a+7}\n\\end{aligned}\n$$\n\nTaking the derivative, we obtain\n\n$$\n\\begin{aligned}\n\\frac{d}{d a}\\left[\\frac{4(1-a)^{3}}{a^{3}+21 a^{2}-21 a+7}\\right] & =\\frac{-12(1-a)^{2}\\left(a^{3}+21 a^{2}-21 a+7\\right)-4(1-a)^{3}\\left(3 a^{2}+42 a-21\\right)}{\\left(a^{3}+21 a^{2}-21 a+7\\right)^{2}} \\\\\n& =-\\frac{96(1-a)^{2} a^{2}}{\\left(a^{3}+21 a^{2}-21 a+7\\right)^{2}}\n\\end{aligned}\n$$\n\nso $\\frac{4(1-a)^{3}}{a^{3}+21 a^{2}-21 a+7}$ is decreasing on $[-1,0]$. Therefore,\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} \\geq \\frac{4}{7}\n$$\n\nCase 2(e): $0<a+T_{a}<1<b+T_{a}$\n\nSince $b^{3}-3 b^{2}+3 b$ is increasing on $[0,1]$ and $\\frac{(1-a)^{3}}{2\\left(3 a^{2}-3 a+1\\right)}$ is decreasing on $[-1,0]$, we have that\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=\\frac{(1-a)^{3}}{2\\left(3 a^{2}-3 a+b^{3}-3 b^{2}+3 b\\right)} \\geq \\frac{(1-a)^{3}}{2\\left(3 a^{2}-3 a+1\\right)} \\geq \\frac{1}{2}\n$$\n\nCase 3: $a \\leq 0<1<b$\nCases 3(a), (b), (d): $b+T_{a} \\leq 1$\nSince $b>1$ and $T_{a}>0$, this case is impossible.\nCase 3(c): $a+T_{a} \\leq 0<1<b+T_{a}$\nSince $\\frac{(3 a-1)^{2}}{4\\left(3 a^{2}-3 a+1\\right)}$ is decreasing on $(-\\infty,-1]$, we have that\n\n$$\n\\begin{aligned}\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} & =\\frac{(3 a-1)^{2}}{4\\left(3 a^{2}-3 a+1\\right)} \\\\\n& \\geq \\frac{4}{7}\n\\end{aligned}\n$$\n\nCase 3(e): $0<a+T_{a}<1<b+T_{a}$\n\nSince $\\frac{(1-a)^{3}}{2\\left(3 a^{2}-3 a+1\\right)}$ is decreasing on $[-1,0]$, we have that\n\n$$\n\\begin{aligned}\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} & =\\frac{(1-a)^{3}}{2\\left(3 a^{2}-3 a+1\\right)} \\\\\n& \\geq \\frac{1}{2}\n\\end{aligned}\n$$\n\nCase 4: $0<a<b \\leq 1$\nCase 4(a): $b+T_{a} \\leq 0$\nSince $b>0$ and $T_{a}>0$, this case is impossible.\nCases 4(b), (c): $a+T_{a} \\leq 0$\nSince $a>0$ and $T_{a}>0$, this case is impossible.\nCase 4(d): $0<a+T_{a}<b+T_{a} \\leq 1$\nWe seek to minimize\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=\\frac{(a+2 b-3)^{2}}{4\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)}\n$$\n\nTaking the derivative with respect to $b$,\n\n$$\n\\begin{aligned}\n\\frac{\\partial}{\\partial b}\\left[\\frac{(a+2 b-3)^{2}}{4\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)}\\right] & =\\frac{16\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)(a+2 b-3)-4(a+2 b-3)^{3}}{\\left(4\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)\\right)^{2}} \\\\\n& =\\frac{12(a+2 b-3)(a-1)^{2}}{\\left(4\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)\\right)^{2}}\n\\end{aligned}\n$$\n\nNow, since $a+2 b-3 \\leq 0$ on $b \\in\\left(a, \\frac{a+1}{2}\\right]$, we have that $\\frac{(a+2 b-3)^{2}}{4\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)}$ is decreasing with respect to $b$ on $a \\in(0,1)$ and $b \\in\\left(a, \\frac{a+1}{2}\\right]$. Thus,\n\n$$\n\\begin{aligned}\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} & \\geq \\frac{(2 a-2)^{2}}{4 a^{2}+2 a(a+1)+\\left(a^{2}+2 a+1\\right)-12 a-6(a+1)+12} \\\\\n& =\\frac{(2 a-2)^{2}}{7(a-1)^{2}} \\\\\n& =\\frac{4}{7}\n\\end{aligned}\n$$\n\nCase 4(e): $0<a+T_{a}<1<b+T_{a}$\nWe seek to lower bound\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=\\frac{(1-a)^{3}}{2(b-a)\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)}\n$$\n\nTaking the derivative of the denominator with respect to $b$, we obtain\n\n$$\n\\begin{aligned}\n\\frac{\\partial}{\\partial b}\\left[2(b-a)\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)\\right] & =2(b-a)(2 b+a-3)+2\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right) \\\\\n& =6(b-1)^{2}\n\\end{aligned}\n$$\n\nso $2(b-a)\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)$ is increasing with respect to $b$ on $[0,1]$. Thus,\n\n$$\n\\begin{aligned}\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}} & =\\frac{(1-a)^{3}}{2(b-a)\\left(a^{2}+a b+b^{2}-3 a-3 b+3\\right)} \\\\\n& \\geq \\frac{(1-a)^{3}}{2(1-a)\\left(a^{2}-2 a+1\\right)} \\\\\n& =\\frac{1}{2}\n\\end{aligned}\n$$\n\nCase 5: $0<a<1<b$\nCases 5(a), (b), (d): $b+T_{a} \\leq 1$\nSince $b>1$ and $T_{a}>0$, this case is impossible.\nCase 5(c): $a+T_{a} \\leq 0<1<b+T_{a}$\nSince $a>0$ and $T_{a}>0$, this case is impossible.\nCase 5(e): $0<a+T_{a}<1<b+T_{a}$\nWe have that\n\n$$\n\\frac{\\mathrm{GFT}}{\\mathrm{FB}-\\mathrm{GFT}}=\\frac{1}{2}\n$$\n\nCase 6: $a \\geq 1$\nWe have that $\\mathrm{GFT}=0=\\mathrm{FB}-\\mathrm{GFT}$.", "tables": {"table_0": "|  | Subcase |  |  |  |  |\n| :--: | :--: | :--: | :--: | :--: | :--: |\n| Case | $(a)$ | $(b)$ | $(c)$ | $(d)$ | $(e)$ |\n| 1 | 1 | $2 / 3$ | $2 / 3$ | $2 / 3$ |  |\n| 2 |  |  | $4 / 7$ | $4 / 7$ | $1 / 2$ |\n| 3 |  |  | $4 / 7$ |  | $1 / 2$ |\n| 4 |  |  |  | $4 / 7$ | $1 / 2$ |\n| 5 |  |  |  |  | $1 / 2$ |", "table_1": "| Case | Case Description | FB-GFT | Derivation |\n| :--: | :--: | :--: | :--: |\n| 1 | $b \\leq 0$ | $\\frac{1-a-b}{2}$ | 1 |\n| 2 | $a \\leq 0<b \\leq 1$ | $\\frac{3 a^{2}-3 a+b^{3}-3 b^{2}+3 b}{6(b-a)}$ | 2 |\n| 3 | $a \\leq 0<1<b$ | $\\frac{3 a^{2}-3 a+1}{6(b-a)}$ | 3 |\n| 4 | $0<a<b \\leq 1$ | $\\frac{a^{2}+a b+b^{2}-3 a-3 b+3}{6}$ | 4 |\n| 5 | $0<a<1<b$ | $\\frac{(1-a)^{3}}{6(b-a)}$ | 5 |", "table_2": "| Subcase | Subcase Description | GFT | Derivation |\n| :--: | :--: | :--: | :--: |\n| $(a)$ | $b+T_{a} \\leq 0$ | $\\frac{1-a-b}{2}$ | 1 |\n| $(b)$ | $a+T_{a} \\leq 0<b+T_{a} \\leq 1$ | $\\frac{(a+b-1)\\left(a^{2}-4 a b+10 a+4 b^{2}-8 b+1\\right)}{24(b-a)}$ | 6 |\n| $(c)$ | $a+T_{a} \\leq 0<1<b+T_{a}$ | $\\frac{(3 a-1)^{2}}{24(b-a)}$ | 7 |\n| $(d)$ | $0<a+T_{a}<b+T_{a} \\leq 1$ | $\\frac{(a+2 b-3)^{2}}{24}$ | 8 |\n| $(e)$ | $0<a+T_{a}<1<b+T_{a}$ | $\\frac{(1-a)^{3}}{12(b-a)}$ | 9 |"}, "images": {}}, {"section_id": 11, "text": "# A. 2 Derivations for Table 2 and 3 \n\nHere, we provide the derivations of each of the integrals in Tables 2 and 3. Each derivation is indexed by its corresponding number in the tables.\n\n1 .\n\n$$\n\\begin{aligned}\n\\frac{1}{b-a} \\int_{0}^{1} \\int_{a}^{b}(v-c) d c d v & =\\frac{1}{b-a} \\int_{0}^{1}\\left[v c-\\frac{c^{2}}{2}\\right]_{a}^{b} d v \\\\\n& =\\frac{1}{b-a} \\int_{0}^{1}\\left(v(b-a)-\\frac{b^{2}-a^{2}}{2}\\right) d v \\\\\n& =\\frac{1-a-b}{2}\n\\end{aligned}\n$$\n\n2. \n\n$$\n\\begin{aligned}\n& \\frac{1}{b-a} \\int_{0}^{b} \\int_{a}^{v}(v-c) d c d v+\\frac{1}{b-a} \\int_{b}^{1} \\int_{a}^{b}(v-c) d c d v \\\\\n& =\\frac{1}{b-a} \\int_{0}^{b}\\left[v c-\\frac{c^{2}}{2}\\right]_{a}^{v} d v+\\frac{1}{b-a} \\int_{b}^{1}\\left[v c-\\frac{c^{2}}{2}\\right]_{a}^{b} d v \\\\\n& =\\frac{3 a^{2}-3 a+b^{3}-3 b^{2}+3 b}{6(b-a)}\n\\end{aligned}\n$$\n\n3. \n\n$$\n\\begin{aligned}\n\\frac{1}{b-a} \\int_{0}^{1} \\int_{a}^{v}(v-c) d c d v & =\\frac{1}{b-a} \\int_{0}^{1}\\left[v c-\\frac{c^{2}}{2}\\right]_{a}^{v} d v \\\\\n& =\\frac{3 a^{2}-3 a+1}{6(b-a)}\n\\end{aligned}\n$$\n\n4. \n\n$$\n\\begin{aligned}\n\\frac{1}{b-a} \\int_{a}^{b} \\int_{c}^{1}(v-c) d v d c & =\\frac{1}{b-a} \\int_{a}^{b}\\left[\\frac{v^{2}}{2}-c v\\right]_{c}^{1} d c \\\\\n& =\\frac{1}{b-a} \\int_{a}^{b}\\left[\\frac{1-c^{2}}{2}-c(1-c)\\right] d c \\\\\n& =\\frac{a^{2}+a b+b^{2}-3 a-3 b+3}{6}\n\\end{aligned}\n$$\n\n5. \n\n$$\n\\begin{aligned}\n\\frac{1}{b-a} \\int_{a}^{1} \\int_{a}^{v}(v-c) d c d v & =\\frac{1}{b-a} \\int_{a}^{1}\\left[v c-\\frac{c^{2}}{2}\\right]_{a}^{v} d v \\\\\n& =\\frac{1}{b-a} \\int_{a}^{1}\\left(v(v-a)-\\frac{v^{2}-a^{2}}{2}\\right) d v \\\\\n& =\\frac{(1-a)^{3}}{6(b-a)}\n\\end{aligned}\n$$\n\n6. \n\n$$\n\\begin{aligned}\n& \\frac{1}{b-a} \\int_{0}^{b+T_{a}} \\int_{a}^{v-T_{a}}(v-c) d c d v+\\frac{1}{b-a} \\int_{b+T_{a}}^{1} \\int_{a}^{b}(v-c) d c d v \\\\\n& =\\frac{1}{b-a} \\int_{0}^{b+T_{a}}\\left(v\\left(v-T_{a}-a\\right)-\\frac{\\left(v-T_{a}\\right)^{2}-a^{2}}{2}\\right) d v+\\frac{1}{b-a} \\int_{b+T_{a}}^{1}\\left(v(b-a)-\\frac{b^{2}-a^{2}}{2}\\right) d v \\\\\n& =\\frac{1}{b-a} \\int_{0}^{b+T_{a}}\\left(\\frac{v^{2}}{2}-a v+\\frac{3 a^{2}+2 a-1}{8}\\right) d v+\\int_{b+T_{a}}^{1}\\left(v-\\frac{a+b}{2}\\right) d v \\\\\n& =\\frac{b+T_{a}}{b-a}\\left(\\frac{\\left(b+T_{a}\\right)^{2}}{6}-\\frac{a\\left(b+T_{a}\\right)}{2}+\\frac{3 a^{2}+2 a-1}{8}\\right)+\\left(\\frac{1-\\left(b+T_{a}\\right)^{2}}{2}-\\frac{(a+b)\\left(1-b-T_{a}\\right)}{2}\\right) \\\\\n& =\\frac{(a+b-1)\\left(a^{2}-4 a b+10 a+4 b^{2}-8 b+1\\right)}{24(b-a)}\n\\end{aligned}\n$$\n\n7. \n\n$$\n\\begin{aligned}\n\\frac{1}{b-a} \\int_{0}^{1} \\int_{a}^{v-T_{a}}(v-c) d c d v & =\\frac{1}{b-a} \\int_{0}^{1}\\left[v c-\\frac{c^{2}}{2}\\right]_{a}^{v-T_{a}} d v \\\\\n& =\\frac{1}{b-a} \\int_{0}^{1}\\left(\\frac{v^{2}}{2}-a v-\\frac{T_{a}^{2}}{2}+\\frac{a^{2}}{2}\\right) d v \\\\\n& =\\frac{1}{b-a} \\int_{0}^{1}\\left(\\frac{v^{2}}{2}-a v+\\frac{3 a^{2}+2 a-1}{8}\\right) d v \\\\\n& =\\frac{(3 a-1)^{2}}{24(b-a)}\n\\end{aligned}\n$$\n\n8. \n\n$$\n\\begin{aligned}\n\\frac{1}{b-a} \\int_{a}^{b} \\int_{c+T_{a}}^{1}(v-c) d v d c & =\\frac{1}{b-a} \\int_{a}^{b}\\left(\\frac{1-\\left(c+T_{a}\\right)^{2}}{2}-c\\left(1-c-T_{a}\\right)\\right) d c \\\\\n& =\\frac{1}{b-a} \\int_{a}^{b}\\left(\\frac{c^{2}}{2}-c+\\frac{1-T_{a}^{2}}{2}\\right) d c \\\\\n& =\\frac{1}{b-a}\\left(\\frac{b^{3}-a^{3}}{6}-\\frac{b^{2}-a^{2}}{2}+\\frac{\\left(1-T_{a}^{2}\\right)(b-a)}{2}\\right) \\\\\n& =\\frac{a^{2}+a b+b^{2}}{6}-\\frac{a+b}{2}+\\frac{3+2 a-a^{2}}{8} \\\\\n& =\\frac{(a+2 b-3)^{2}}{24}\n\\end{aligned}\n$$\n\n9. \n\n$$\n\\begin{aligned}\n\\frac{1}{b-a} \\int_{a+T_{a}}^{1} \\int_{a}^{v-T_{a}}(v-c) d c d v & =\\frac{1}{b-a} \\int_{a+T_{a}}^{1}\\left(\\frac{v^{2}}{2}-a v-\\frac{T_{a}^{2}}{2}+\\frac{a^{2}}{2}\\right) d v \\\\\n& =\\frac{1}{b-a} \\int_{a+T_{a}}^{1}\\left(\\frac{v^{2}}{2}-a v+\\frac{3 a^{2}+2 a-1}{8}\\right) d v \\\\\n& =\\frac{(3 a-1)^{2}}{24(b-a)}-\\frac{\\left(a+T_{a}\\right)\\left(a^{2}-4 a T_{a}+4 T_{a}^{2}+6 a-3\\right)}{24(b-a)} \\\\\n& =\\frac{(3 a-1)^{2}}{24(b-a)}-\\frac{(a+1)\\left(2 a^{2}+a-1\\right)}{24(b-a)} \\\\\n& =\\frac{(1-a)^{3}}{12(b-a)}\n\\end{aligned}\n$$", "tables": {}, "images": {}}, {"section_id": 12, "text": "# A. 3 Upper Bounds \n\nTable 4 summarizes the specific problem instances that yield the tightness results. In particular, $1 / 2$ is a tight lower bound on the approximation factor to the first-best GFT under the broker's optimal mechanism in the uniform setting. We omit the calculations as it is a simple plugging-in of the described values.\n\n![table_3](table_3)\n\nTable 4: Examples of Values of $a$ and $b$ that Match Lower Bounds", "tables": {"table_3": "|  | Subcase |  |  |  |  |\n| :--: | :--: | :--: | :--: | :--: | :--: |\n| Case | $(a)$ | $(b)$ | $(c)$ | $(d)$ | $(e)$ |\n| 1 | $[-3,-2]$ | $[-1,0]$ | $[-1-\\epsilon, 0]$ | $[-1+\\epsilon, 0]$ |  |\n| 2 |  |  | $[-1,1]$ | $[0,1 / 2]$ | $[0,1]$ |\n| 3 |  |  | $[-1,2]$ |  | $[0,2]$ |\n| 4 |  |  |  | $[1 / 3,2 / 3]$ | $[1 / 2,1]$ |\n| 5 |  |  |  |  | $[1 / 2,3 / 2]$ |"}, "images": {}}, {"section_id": 13, "text": "# B Proof of Theorem 4.6; Public-Buyer \n\nWe first introduce some notation:\nDefinition B.1. Given a direct mechanism $\\mathrm{MEC}=(x(c), p(c))^{19}$, we define the following functions for the expected utilities of the buyer, intermediary, and seller, respectively, assuming truthful reporting by the seller:\n\n- $u_{b}=\\int_{a}^{b}\\left(x(c) \\cdot v-p_{b}(c)\\right) G^{\\prime}(c) d c$\n- $u_{i}=\\int_{a}^{b}\\left(p_{b}(c)-p_{s}(c)\\right) G^{\\prime}(c) d c$\n- $u_{s}(c)=p_{s}(c)-x(c) \\cdot c$\n\nNote that with a public buyer, MEC is BNIC if $u_{s}(c) \\geq p_{s}(\\tilde{c})-x(\\tilde{c}) \\cdot c$ for every $c$ and $\\tilde{c}$, and MEC is IR if $u_{b} \\geq 0$ and $u_{s}(c) \\geq 0$ for all $c$.\n\nThe following theorem is an analogue of Theorem 3 in Myerson and Satterthwaite (1983):\nTheorem B.2. For any BNIC mechanism MEC in the public-buyer setting, $u_{s}(c)$ is decreasing and\n\n$$\nu_{i}+u_{b}+u_{s}(b)=\\int_{a}^{b}\\left(v-\\left(c+\\frac{G(c)}{G^{\\prime}(c)}\\right)\\right) x(c) G^{\\prime}(c) d c\n$$\n\nProof. Since MEC is BNIC, for every $c$ and $c^{\\prime}$,\n\n$$\nu_{s}(c)=p_{s}(c)-x(c) \\cdot c \\geq p_{s}\\left(c^{\\prime}\\right)-x\\left(c^{\\prime}\\right) \\cdot c\n$$\n\nand\n\n$$\nu_{s}\\left(c^{\\prime}\\right)=p_{s}\\left(c^{\\prime}\\right)-x\\left(c^{\\prime}\\right) \\cdot c^{\\prime} \\geq p_{s}(c)-x(c) \\cdot c^{\\prime}\n$$\n\nThus,\n\n$$\n\\left(c^{\\prime}-c\\right) x(c) \\geq u_{s}(c)-u_{s}\\left(c^{\\prime}\\right) \\geq\\left(c^{\\prime}-c\\right) x\\left(c^{\\prime}\\right)\n$$\n\n[^0]\n[^0]:    ${ }^{19}$ In the public-buyer setting, the allocation function $x$ and payment function $p$ of MEC only depend on the seller's reported valuation $c$.\n\nIn particular, if $c^{\\prime}>c$, then $x(c) \\geq x\\left(c^{\\prime}\\right)$, so $x(c)$ is decreasing and hence integrable. Therefore, $u_{s}^{\\prime}(c)=-x(c)$ almost everywhere, so\n\n$$\nu_{s}(c)=u_{s}(b)+\\int_{c}^{b} x(t) d t\n$$\n\nand $u_{s}(c)$ is decreasing.\nNow, by (B.1), we have that\n\n$$\n\\begin{aligned}\n\\int_{a}^{b}(v-c) x(c) G^{\\prime}(c) d c-u_{i} & =\\int_{a}^{b}\\left(v x(c)-p_{b}(c)\\right) G^{\\prime}(c) d c+\\int_{a}^{b}\\left(p_{s}(c)-c x(c)\\right) G^{\\prime}(c) d c \\\\\n& =u_{b}+\\int_{a}^{b} u_{s}(c) G^{\\prime}(c) d c \\\\\n& =u_{b}+\\int_{a}^{b}\\left(u_{s}(b)+\\int_{v}^{b} x(t) d t\\right) G^{\\prime}(c) d c \\\\\n& =u_{b}+u_{s}(b)+\\int_{a}^{b} \\int_{v}^{b} x(t) d t G^{\\prime}(c) d c \\\\\n& =u_{b}+u_{s}(b)+\\int_{a}^{b} \\int_{a}^{t} G^{\\prime}(c) d c x(t) d t \\\\\n& =u_{b}+u_{s}(b)+\\int_{a}^{b} G(t) x(t) d t\n\\end{aligned}\n$$\n\nFinally, from the first and last expressions in this chain of equations, we obtain\n\n$$\nu_{i}+u_{b}+u_{s}(b)=\\int_{a}^{b}\\left(v-\\left(c+\\frac{G(c)}{G^{\\prime}(c)}\\right)\\right) x(c) G^{\\prime}(c) d c\n$$\n\nNext, the following is an analogue of Theorem 4 in Myerson and Satterthwaite (1983), tailored to the public-buyer setting:\n\nTheorem B.3. Suppose $G$ is a regular distribution in the public-buyer setting. Then, among all BNIC and IR mechanisms, the broker's expected profit is maximized by a mechanism in which the object is transferred to the buyer if and only if $\\phi_{G}(c) \\leq v$.\n\nProof. By Theorem B.2, we have that\n\n$$\nu_{i}=\\int_{a}^{b}\\left(v-\\left(c+\\frac{G(c)}{G^{\\prime}(c)}\\right)\\right) x(c) G^{\\prime}(c)-u_{b}-u_{s}(b)\n$$\n\nSince we want an IR mechanism MEC that maximizes $u_{i}$, we want MEC to satisfy the following constraints:\n\n1. $u_{b}=0$\n2. $u_{s}(b)=0$\n3. $x(c)= \\begin{cases}1 & \\text { if } \\phi_{G}(c) \\leq v \\\\ 0 & \\text { otherwise }\\end{cases}$\n\nIt remains to define $p(c)=\\left(p_{s}(c), p_{b}(c)\\right)$ such that first two constraints are satisfied. We take\n\n$$\np_{s}(c)=x(c) \\cdot \\sup \\left\\{t \\leq b \\mid \\phi_{G}(t) \\leq v\\right\\}\n$$\n\nand\n\n$$\np_{b}(c)=x(c) v\n$$\n\nThen, since $x(c) v-p_{b}(c)=0$ for all $c$ and $p_{s}(b)=x(b) b$, we have that $u_{b}=0$ and $u_{s}(b)=0$, as desired.\n\nNote that MEC is BNIC, since if trade occurs, the seller pays the highest valuation he could have reported and still have the trade occur. Then, since $u_{s}(c)$ is decreasing by Theorem B. 2 and $u_{s}(b)=0$, we have that MEC is IR.\n\nTheorem 4.6 directly follows from the above theorem.", "tables": {}, "images": {}}], "id": "2410.17444v2", "authors": ["Ilya Hajiaghayi", "MohammadTaghi Hajiaghayi", "Gary Peng", "Suho Shin"], "categories": ["cs.GT", "econ.TH"], "abstract": "We study bilateral trade with a broker, where a buyer and seller interact\nexclusively through the broker. The broker strategically maximizes her payoff\nthrough arbitrage by trading with the buyer and seller at different prices. We\nstudy whether the presence of the broker interferes with the mechanism's\ngains-from-trade (GFT) achieving a constant-factor approximation to the\nfirst-best gains-from-trade (FB).\n  We first show that the GFT achieves a $1 / 36$-approximation to the FB even\nif the broker runs an optimal posted-pricing mechanism under symmetric agents\nwith monotone-hazard-rate distributions. Beyond posted-pricing mechanisms, even\nif the broker uses an arbitrary incentive-compatible (IC) and\nindividually-rational (IR) mechanism that maximizes her expected profit, we\nprove that it induces a $1 / 2$-approximation to the first-best GFT when the\nbuyer and seller's distributions are uniform distributions with arbitrary\nsupport. This bound is shown to be tight.\n  We complement such results by proving that if the broker uses an arbitrary\nprofit-maximizing IC and IR mechanism, there exists a family of problem\ninstances under which the approximation factor to the first-best GFT becomes\narbitrarily bad. We show that this phenomenon persists even if we restrict one\nof the buyer's or seller's distributions to have a singleton support, or even\nin the symmetric setting where the buyer and seller have identical\ndistributions.", "updated": "2025-01-08T17:05:49Z", "published": "2024-10-22T21:45:46Z"}