{
  "title": "Isometric rigidity of $L^2$-spaces with manifold targets",
  "sections": [
    {
      "section_id": 0,
      "text": "#### Abstract\n\nWe describe the isometry group of $L^{2}(\\Omega, M)$ for Riemannian manifolds $M$ of dimension at least two with irreducible universal cover. We establish a rigidity result for the isometries of these spaces: any isometry arises from an automorphism of $\\Omega$ and a family of isometries of $M$, distinguishing these spaces from the classical $L^{2}(\\Omega)=L^{2}(\\Omega, \\mathbb{R})$. Additionally, we prove that these spaces lack irreducible factors and that two such spaces are isometric if and only if the underlying manifolds are.",
      "tables": {},
      "images": {}
    },
    {
      "section_id": 1,
      "text": "## 1. InTRODUCTION\n\n1.1. Main results. The space $L^{2}(\\Omega, X)$ consists of measurable, essentially separably valued functions $f: \\Omega \\rightarrow X$ from a finite measure space $(\\Omega, \\mu)$ to a metric space $(X, d)$ such that\n\n$$\n\\int_{\\Omega} d^{2}(f(\\omega), x) d \\mu(\\omega)<\\infty\n$$\n\nfor some (and hence any) $x \\in X$. We naturally equip $L^{2}(\\Omega, X)$ with the metric $d_{L^{2}}(f, g)=\\left(\\int_{\\Omega} d^{2}(f(\\omega), g(\\omega)) d \\mu(\\omega)\\right)^{1 / 2}$.\n\nThese spaces have found applications in various directions, including recently in the study of $L^{2}$-geometries on spaces of Riemannian metrics and related problems, as seen in Cavallucci [Cav23], Cavallucci and Su [CS23], and B\u00f6hm, Buttsworth, and Clarke [BBC24].\n\nLet $\\left(\\Omega_{1}, \\mu_{1}\\right)$ and $\\left(\\Omega_{2}, \\mu_{2}\\right)$ be measure spaces. A bijection $\\varphi: \\Omega_{1} \\rightarrow \\Omega_{2}$ is a strict isomorphism if both $\\varphi$ and $\\varphi^{-1}$ are measure-preserving. An isomorphism is a map that restricts to a strict isomorphism on full-measure subspaces. An isomorphism from a measure space to itself is an automorphism, and the group of automorphisms of $(\\Omega, \\mu)$ is denoted $\\operatorname{Aut}(\\Omega)$. Furthermore $L^{2}\\left(\\Omega, \\operatorname{Isom}(X)\\right)$ is the group, under pointwise composition, of functions $\\rho: \\Omega \\rightarrow \\operatorname{Isom}(X)$ such that for all $x \\in X, \\omega \\mapsto \\rho(\\omega)(x)$ lies in $L^{2}(\\Omega, X)$. Both $\\operatorname{Aut}(\\Omega)$ and $L^{2}\\left(\\Omega, \\operatorname{Isom}(X)\\right)$ are subgroups of the isometry group of $L^{2}(\\Omega, X)$ :\n(1) For $\\varphi \\in \\operatorname{Aut}(\\Omega)$, the map $f \\mapsto f \\circ \\varphi$ is an isometry of $L^{2}(\\Omega, X)$.\n(2) For $\\rho \\in L^{2}\\left(\\Omega, \\operatorname{Isom}(X)\\right)$, the map $f \\mapsto \\gamma_{\\rho}(f)$, where $\\gamma_{\\rho}(f)(\\omega):=$ $\\rho(\\omega)(f(\\omega))$ for all $\\omega \\in \\Omega$, is an isometry of $L^{2}(\\Omega, X)$.\n\nIn this paper, we show that for a complete Riemannian manifold $M$ of dimension at least two with irreducible universal cover, the isometries of $L^{2}(\\Omega, M)$ are rigid in the sense that every isometry is a composition of an isometry of type (1) with one of type (2). Indeed we establish:\n\nTheorem A. Let $(\\Omega, \\mu)$ be a standard probability space and $M$ be a complete Riemannian manifold with irreducible universal covering and $\\operatorname{dim}(M) \\geq 2$. Then $\\operatorname{Isom}\\left(L^{2}(\\Omega, M)\\right)=L^{2}(\\Omega, \\operatorname{Isom}(M)) \\rtimes \\operatorname{Aut}(\\Omega)$.\n\nAssuming $\\Omega$ to be a standard probability space is a natural choice, encompassing a wide range of interesting cases, such as the unit interval equipped with the Lebesgue measure or the discrete probability space $\\Omega=\\{1, \\ldots, n\\}$ with equal weights. In the latter case, $\\left(L^{2}(\\Omega, M), d_{L^{2}}\\right) \\cong\\left(M^{n}, \\frac{1}{\\sqrt{n}} d_{M^{n}}\\right)$. Therefore, we recover the well-known fact that $\\operatorname{Isom}\\left(M^{n}\\right)=\\operatorname{Isom}(M)^{n} \\rtimes S_{n}$, which also follows directly from the de Rham decomposition theorem. A brief overview of standard probability spaces will be given in the preliminaries.\n\nThis isometric rigidity contrasts sharply with the flexibility of isometries in the classical $L^{2}(\\Omega)=L^{2}(\\Omega, \\mathbb{R})$. See Remark 5.4 for details.\n\nWe further observe a remarkable property: for atomless probability spaces $(\\Omega, \\mu)$, any factor in a direct product decomposition of $L^{2}(\\Omega, M)$ is isometric to a rescaled version of the original space. In other words:\n\nTheorem B. Let $\\Omega$ be a standard probability space without atoms and $M$ be a complete Riemannian manifold with irreducible universal cover and $\\operatorname{dim}(M) \\geq 2$. For any non-trivial direct product decomposition $L^{2}(\\Omega, M)=$ $Y \\times \\bar{Y}$, both factors $Y$ and $\\bar{Y}$ are isometric, up to rescaling, to the original space $L^{2}(\\Omega, M)$.\n\nThus the space $L^{2}(\\Omega, M)$ lacks irreducible factors. This contrasts with the generalized de Rham decomposition theorem for metric spaces due to Lytchak and Foertsch (cf. [FL08]), which requires finite affine rank for unique decomposition into a Euclidean and irreducible factors. Our example demonstrates the necessity of this finiteness condition.\n\nFinally we are able to show the following striking fact:\nTheorem C. Let $\\Omega$ be a standard probability space, and $M$ and $N$ be complete Riemannian manifolds with irreducible universal covering. Then $L^{2}(\\Omega, M)$ is isometric to $L^{2}(\\Omega, N)$ if and only if $M$ is isometric to $N$.\n\nThis result, along with the isometric rigidity behind Theorem A, parallels findings by Bertrand and Kloeckner for Wasserstein spaces ([BK16]). There it was shown that, for a specific class of metric spaces, $\\mathscr{W}_{2}(X)$ and $\\mathscr{W}_{2}(Y)$ are isometric, if and only if $X$ and $Y$ are. This line of inquiry has recently been further explored in Che, Galaz-Garc\u00eda, Kerin, and Santos-Rodr\u00edguez [CGGKSR24].\n\nFor metric spaces $X$ and $Y$ we have a canonical isometry between $L^{2}(\\Omega, X \\times Y)$ and $L^{2}(\\Omega, X) \\times L^{2}(\\Omega, Y)$. Moreover, for atomless $\\Omega$, there\n\nexists an abstract one between $L^{2}\\left(\\Omega, X^{n}\\right)$ and $L^{2}(\\Omega, \\sqrt{n} X)$. These facts illustrate that some irreducibility condition is necessary for the above results. For more details on this, we refer to section 5.4.\n\nWe note that without the irreducibility assumption, we can still provide weaker algebraic characterizations of the isometry group. However, in contrast to Theorem A, such characterizations do not explicitly reveal the structure of the isometries. We will not delve deeper into this in the present paper but as an illustration of such a case, we refer to Remark 5.7 for a characterization of the isometry group of $L^{2}(\\Omega, M)$ for simply connected $M$ and atomless $\\Omega$.\n1.2. General strategy. Let $X$ be a metric space and $\\gamma_{1}:\\left[0, a_{1}\\right] \\rightarrow X$, $\\gamma_{2}:\\left[0, a_{2}\\right] \\rightarrow X$ geodesic segments with $\\gamma_{1}(0)=\\gamma_{2}(0)=: x$. Recall that $\\angle\\left(\\gamma_{1}, \\gamma_{2}\\right):=\\lim \\sup _{t, t^{\\prime} \\rightarrow 0} \\overline{\\mathcal{Z}}_{x}\\left(\\gamma_{1}(t), \\gamma_{2}\\left(t^{\\prime}\\right)\\right)$ denotes the Alexandrov angle between $\\gamma_{1}$ and $\\gamma_{2}$, where $\\overline{\\mathcal{Z}}_{x}\\left(\\gamma_{1}(t), \\gamma_{2}\\left(t^{\\prime}\\right)\\right)$ is the Euclidean comparison angle at $x$. An Alexandrov angle exists in the strict sense if the limit $\\lim _{t, t^{\\prime} \\rightarrow 0} \\overline{\\mathcal{Z}}_{x}\\left(\\gamma_{1}(t), \\gamma_{2}\\left(t^{\\prime}\\right)\\right)$ exists. Let $X$ be a geodesic metric space. We say that angles exists in $X$ or $X$ has angles if the Alexandrov angle between any pair of geodesic segments issuing from the same point exists in the strict sense. This notion will play an important role in our reasoning and we will establish the following result of independent interest.\n\nLemma D. Let $X$ be a geodesic metric space in which angles exist and let $(\\Omega, \\mu)$ be a finite measure space. Then angles also exist in $L^{2}(\\Omega, X)$.\n\nWe prove this result in section 2.4 as a natural extension of our preliminary discussion on angles.\n\nWe call a map $f: X \\rightarrow Y$ between metric spaces affine if it preserves the class of linearly reparametrized geodesics. Important examples are dilations and projections $X \\times Y \\rightarrow Y$.\n\nLet $M$ be a Riemannian manifold of dimension at least two with irreducible universal covering and $Y$ be a geodesic metric space in which angles exist. It turns out that all affine maps $f: M \\rightarrow Y$ are trivial: they rescale distances uniformly, i.e. there exists $c \\geq 0$ such that for all $p, q \\in M, d_{Y}(f(p), f(q))=c d_{M}(p, q)$. This is a special case of the following more general statement which we will prove in section 3: for an affine map $f: M_{1} \\times \\ldots \\times M_{n} \\rightarrow Y$, where each $M_{i}$ is as above, there exist $c_{1}, \\ldots, c_{n} \\geq 0$ such that for all $\\left(p_{1}, \\ldots, p_{n}\\right),\\left(q_{1}, \\ldots, q_{n}\\right) \\in M_{1} \\times \\ldots \\times M_{n}$,\n\n$$\nd_{Y}^{2}\\left(f\\left(p_{1}, \\ldots, p_{n}\\right), f\\left(q_{1}, \\ldots, q_{n}\\right)\\right)=\\sum_{i=1}^{n} c_{i}^{2} d_{M_{i}}^{2}\\left(p_{i}, q_{i}\\right)\n$$\n\nIn particular, this applies to affine maps $f: M^{n} \\rightarrow Y$, and the key idea is to extend this result to the space $L^{2}(\\Omega, M)$ that can be interpreted as a generalized, weighted infinite product of copies of $M$ : we will show in section 4 that for any affine map $f: L^{2}(\\Omega, M) \\rightarrow Y$, there exists $\\eta \\in L^{\\infty}(\\Omega)$,\n\n$\\eta \\geq 0$ such that for any $p, q \\in L^{2}(\\Omega, M)$,\n\n$$\nd_{Y}^{2}(f(p), f(q))=\\int_{\\Omega} \\eta(\\omega) d_{M}^{2}(p(\\omega), q(\\omega)) d \\mu(\\omega)\n$$\n\nTherefore, we characterized all affine maps from $L^{2}(\\Omega, M)$ into geodesic metric spaces with angles.\n\nThese in particular encompass the projection mappings of any splitting $L^{2}(\\Omega, M)=Y \\times \\bar{Y}$ : by Lemma D, and since angles exist in the above sense in Riemannian manifolds (cf. Burago-Burago-Ivanov [BBI01]), we know that $L^{2}(\\Omega, M)$ has angles. Thus given any splitting $L^{2}(\\Omega, M)=Y \\times \\bar{Y}$, we deduce that $Y$ and $\\bar{Y}$ have angles and hence that the projections $L^{2}(\\Omega, M) \\rightarrow Y$ and $L^{2}(\\Omega, M) \\rightarrow \\bar{Y}$ are affine maps of the above type.\n\nWe make use of this observation in section 5.1 to show that, for any splitting $L^{2}(\\Omega, M)=Y \\times \\bar{Y}$, there exists a measurable $A \\subset \\Omega$ such that $Y$ and $\\bar{Y}$ are canonically isometric to $L^{2}(A, M)$ and $L^{2}\\left(A^{c}, M\\right)$, respectively. For atomless $\\Omega$, this will lead to Theorem B.\n\nFurther, in section 5.2 , we use this to show that isometries are localisable in the following sense: given any isometry $\\gamma: L^{2}(\\Omega, M) \\rightarrow L^{2}(\\Omega, N)$ and measurable $A \\subset \\Omega$, there exists $\\Psi(A) \\subset \\Omega$, such that\n\n$$\n\\int_{A} d_{M}^{2}(f(\\omega), g(\\omega)) d \\mu(\\omega)=\\int_{\\Psi(A)} d_{N}^{2}(\\gamma(f)(\\omega), \\gamma(g)(\\omega)) d \\mu(\\omega)\n$$\n\nWe observe that $A \\mapsto \\mu\\left(\\Psi^{-1}(A)\\right)$ is a measure. Using this insight, we eventually recover $\\varphi \\in \\operatorname{Aut}(\\Omega)$ and $\\rho \\in L^{2}(\\Omega, \\operatorname{Isom}(M, N))$ such that for $\\mu$-a.e. $\\omega \\in \\Omega, \\gamma(f)(\\omega)=\\rho(\\varphi(\\omega))(f(\\varphi(\\omega)))$. Indeed we prove:\nTheorem E. Let $(\\Omega, \\mu)$ be a standard probability space, and $M$ and $N$ be complete Riemannian manifolds of dimension at least two with irreducible universal covers. A map $\\gamma: L^{2}(\\Omega, M) \\rightarrow L^{2}(\\Omega, N)$ is an isometry if and only if there exist $\\varphi \\in \\operatorname{Aut}(\\Omega)$ and $\\rho \\in L^{2}(\\Omega, \\operatorname{Isom}(M, N))$, such that for $\\mu$-a.e. $\\omega \\in \\Omega, \\gamma(f)(\\omega)=\\rho(\\varphi(\\omega))(f(\\varphi(\\omega)))$.\n\nHere $L^{2}(\\Omega, \\operatorname{Isom}(M, N))$ denotes the set of maps $\\rho: \\Omega \\rightarrow \\operatorname{Isom}(M, N)$ such that for some (and hence any) $x \\in M$, the map $\\omega \\mapsto \\rho(\\omega)(x)$ lies in $L^{2}(\\Omega, N)$. The existence of such a map implies the existence of an isometry between $M$ and $N$, which implies Theorem C in the case $\\operatorname{dim}(M), \\operatorname{dim}(N) \\geq 2$. Indeed both Theorems A and C are corollaries of Theorem E, and complete proofs are provided in Section 5.3.\n\nWe finally remark that we can analogously define spaces $L^{p}(\\Omega, M)$ for $p \\neq 2$. A natural and interesting question is whether the above results still hold for these spaces. Even though many parts of our strategy naturally carry over, some key geometric arguments fail in this case. In particular, the existence of angles established in Lemma D fails for general $L^{p}(\\Omega, X)$. Given the reasons above and the geometric relevance of $L^{2}$-spaces mentioned at the beginning of the paper, we restrict our attention to the case $p=2$.",
      "tables": {},
      "images": {}
    },
    {
      "section_id": 2,
      "text": "# 2. Preliminaries \n\n2.1. Measure spaces. We briefly introduce the measure-theoretic framework underlying our work. For more details, we refer to Bogachev [Bog07, Chapter 9].\n\nDefinition 2.1. Let $\\left(\\Omega_{1}, \\mathcal{A}_{1}, \\mu_{1}\\right)$ and $\\left(\\Omega_{2}, \\mathcal{A}_{2}, \\mu_{2}\\right)$ be measure spaces.\n(1) A bijection $\\varphi: \\Omega_{1} \\rightarrow \\Omega_{2}$ with $A \\in \\mathcal{A}_{1} \\Longleftrightarrow \\varphi(A) \\in \\mathcal{A}_{2}$ and $\\mu_{2}(\\varphi(A))=\\mu_{1}(A)$ for all $A \\in \\mathcal{A}_{1}$ is a strict isomorphism.\n(2) A map $\\varphi: \\Omega_{1} \\rightarrow \\Omega_{2}$ for which there exist $N_{1} \\in \\mathcal{A}_{1}$ and $N_{2} \\in \\mathcal{A}_{2}$ with $\\mu_{1}\\left(N_{1}\\right)=\\mu_{2}\\left(N_{2}\\right)=0$, and such that $\\Omega_{1} \\backslash N_{1} \\rightarrow \\Omega_{2} \\backslash N_{2}, \\omega \\mapsto \\varphi(\\omega)$ is a strict isomorphism is called an isomorphism.\n\nWe also record, that similarly, $\\varphi: \\Omega_{1} \\rightarrow \\Omega_{2}$ with $N_{1} \\in \\mathcal{A}_{1}$ and $N_{2} \\in \\mathcal{A}_{2}$ such that $\\mu_{1}\\left(N_{1}\\right)=\\mu_{2}\\left(N_{2}\\right)=0$, and such that $\\Omega_{1} \\backslash N_{1} \\rightarrow \\Omega_{2} \\backslash N_{2}, \\omega \\mapsto \\varphi(\\omega)$ is bijective is called almost everywhere bijective.\n\nA measure space isomorphism $\\varphi: \\Omega \\rightarrow \\Omega$ is an automorphism. The group of automorphisms of $\\Omega$ under composition is denoted $\\operatorname{Aut}(\\Omega)$.\n\nWe typically omit the $\\sigma$-algebra and write $(\\Omega, \\mu):=(\\Omega, \\mathcal{A}, \\mu)$.\nStandard probability or Lebesgue-Rokhlin spaces were introduced by V.A. Rokhlin as probability spaces satisfying certain natural axiomatic properties. This class of spaces encompasses a very wide range of cases, including virtually all those arising naturally in geometric settings. Indeed, for example, the measure-theoretic completion of any Polish space equipped with its Borel $\\sigma$-algebra and a probability measure yields a standard probability space (cf. Ito in [Ito84, Section 2.4]).\n\nThe essential property for us will be that these spaces are always isomorphic to the Lebesgue unit interval and a collection of atoms:\n\nTheorem 2.2. (Bogachev, [Bog07, Theorem 9.4.7]) Let $(\\Omega, \\mu)$ be a standard probability space. Then $\\Omega$ is isomorphic to $[0,1] \\sqcup \\mathbb{N}$, equipped with the measure $\\nu:=c \\lambda+\\sum_{n=1}^{\\infty} p_{n} \\delta_{n}$, where $c \\geq 0$ and $p_{n} \\geq 0$ for all $n \\in \\mathbb{N}$.\n\nHere $\\lambda$ denotes the Lebesgue measure on $[0,1]$ and $\\delta_{n}$ the Dirac measure at $n \\in \\mathbb{N}$. The atoms are represented by the integers and the space is atomless if $p_{n}=0$ for all $n \\in \\mathbb{N}$. Of course $c+\\sum_{n=0}^{\\infty} p_{n}=1$.\n2.2. Geodesics and affine maps. Given an interval $I \\subset \\mathbb{R}$ and a metric space $(X, d)$, an isometric embedding $\\gamma: I \\rightarrow X$ is called a geodesic. $(X, d)$ is called a geodesic metric space if every two points in $X$ are joined by a geodesic. A map $f: X \\rightarrow Y$ between metric spaces $X$ and $Y$ is a called a $\\lambda$ dilation if for all $x, y \\in X, d_{Y}(f(x), f(y))=\\lambda d_{X}(x, y)$. The set of $\\lambda$-dilations $f: X \\rightarrow Y$ is denoted $\\operatorname{Dil}_{\\lambda}(X, Y)$; the set of all dilations, $\\bigcup_{\\lambda \\geq 0} \\operatorname{Dil}_{\\lambda}(X, Y)$, as $\\operatorname{Dil}(X, Y)$. A bijective $\\lambda$-dilation with $\\lambda=1$ is an isometry.\n\nDefinition 2.3. A map $f: X \\rightarrow Y$ between metric spaces $X$ and $Y$ is called affine if it preserves the class of linearly reparametrized geodesics.\n\nIn other words, given a geodesic $\\gamma: I \\rightarrow X ; f(\\gamma): I \\rightarrow Y, t \\mapsto f(\\gamma(t))$ is a linearly reparametrized geodesic, i.e. there exists a constant $\\rho(\\gamma) \\geq 0$, called reparametrization factor, such that for all $t, t^{\\prime} \\in I$,\n\n$$\nd_{Y}\\left(f(\\gamma(t)), f\\left(\\gamma\\left(t^{\\prime}\\right)\\right)\\right)=\\rho(\\gamma)\\left|t-t^{\\prime}\\right|\n$$\n\nWe stress that in contrast to a dilation, this factor $\\rho:=\\rho(\\gamma)$ depends on the considered geodesic $\\gamma$.\n\nThe most important natural examples of affine maps are dilations and projections $X \\times Y \\rightarrow X$. Indeed projections are affine since a map into a product space is a linearly reparametrized geodesic precisely when its components are (see Bridson and Haefliger [BH99, I.5.3]).\n\nFinally, for a metric space $X:=(X, d)$ and $a \\geq 0, a X$ denotes the rescaled space $(X, a \\cdot d)$. For $a=0$ this space collapses to a point.\n2.3. $L^{p}$-function spaces with metric space targets. We recall the notion of $L^{p}$-spaces with metric space targets. See, for example, Korevaar and Schoen [KS93] and Monod [Mon06] for more detailed expositions. We begin by defining the space $L^{p}(\\Omega, X)$ of $L^{p}$-functions $f: \\Omega \\longrightarrow X$.\n\nDefinition 2.4. Let $(\\Omega, \\mu)$ be a finite measure space, $(X, d)$ be a metric space equipped with its Borel $\\sigma$-algebra and $1 \\leq p<\\infty$. We denote by $L^{p}(\\Omega, X)$ the space of all measurable functions $f: \\Omega \\longrightarrow X$ (identified up to null-sets) having separable range and which satisfy, for some (and hence any) $x \\in X$,\n\n$$\n\\int_{\\Omega} d^{p}(f(\\omega), x) d \\mu(\\omega)<\\infty\n$$\n\nNote that if $f, f^{\\prime}: \\Omega \\longrightarrow X$ are measurable, $\\left(f, f^{\\prime}\\right): \\Omega \\longrightarrow X \\times X, \\omega \\mapsto$ $\\left(f(\\omega), f^{\\prime}(\\omega)\\right)$ is also measurable. Thus in particular the function $d^{p}\\left(f, f^{\\prime}\\right)$ : $\\Omega \\longrightarrow \\mathbb{R}, \\omega \\mapsto d^{p}\\left(f(\\omega), f^{\\prime}(\\omega)\\right)$ is measurable and hence as a special case, the above integral is well defined. In light of this remark, the following is also well-defined:\n\nLemma 2.5. Let $d_{L^{p}}: L^{p}(\\Omega, X) \\times L^{p}(\\Omega, X) \\longrightarrow \\mathbb{R}_{\\geq 0}$ be given by:\n\n$$\nd_{L^{p}}\\left(f, f^{\\prime}\\right):=\\left(\\int_{\\Omega} d^{p}\\left(f(\\omega), f^{\\prime}(\\omega)\\right) d \\mu(\\omega)\\right)^{\\frac{1}{p}}\n$$\n\nThen $d_{L^{p}}$ defines a metric on $L^{p}(\\Omega, X)$, the so-called $L^{p}$-metric.\nUsing the change of variable formula, we obtain:\nLemma 2.6. Let $(X, d)$ be a metric space. If $\\left(\\Omega_{1}, \\mu_{1}\\right)$ and $\\left(\\Omega_{2}, \\mu_{2}\\right)$ are two isomorphic measure spaces with isomorphism $\\varphi: \\Omega_{1} \\longrightarrow \\Omega_{2}$, then\n\n$$\n\\begin{aligned}\n\\Psi: L^{p}\\left(\\Omega_{2}, X\\right) & \\longrightarrow L^{p}\\left(\\Omega_{1}, X\\right) \\\\\nf & \\mapsto f \\circ \\varphi\n\\end{aligned}\n$$\n\nis a well-defined isometry of metric spaces.\n\nPut in words, the isometry class of the space $L^{p}(\\Omega, X)$, for fixed $(X, d)$, only depends on the measure space class of $\\Omega$.\n\nNext we record the following result characterizing the geodesics in $L^{2}$ spaces, see Monod [Mon06] for more details.\n\nTheorem 2.7. (Monod, [Mon06, Proposition 44]) Let $I \\subset \\mathbb{R}$ be any interval. A continuous map $\\sigma: I \\longrightarrow L^{2}(\\Omega, X)$ is a geodesic if and only if there is a measurable map $\\alpha: \\Omega \\longrightarrow \\mathbb{R}_{\\geq 0}$ with\n\n$$\n\\int_{\\Omega} \\alpha(\\omega)^{2} d \\mu(\\omega)=1\n$$\n\nand a collection $\\left\\{\\sigma^{\\omega}\\right\\}_{\\omega \\in \\Omega}$ of geodesics $\\sigma^{\\omega}: \\alpha(\\omega) I \\longrightarrow X$ such that\n\n$$\n\\sigma(t)(\\omega)=\\sigma^{\\omega}(\\alpha(\\omega) t) \\text { for all } t \\in I \\text { and } \\mu \\text {-almost every } \\omega \\in \\Omega\n$$\n\nHere $\\alpha(\\omega) I$ denotes the interval obtained by scaling $I$ with $\\alpha(\\omega)$.\nFurther, we record the following, see again Monod and Korevaar-Schoen [Mon06, KS93] for details.\n\nLemma 2.8. Let $(\\Omega, \\mu)$ be a finite measure space. Then we have:\n(1) If $(X, d)$ is a complete metric space, then so is $\\left(L^{2}(\\Omega, X), d_{L^{2}}\\right)$.\n(2) If $(X, d)$ is a (uniquely) geodesic metric space, then so is $\\left(L^{2}(\\Omega, X), d_{L^{2}}\\right)$.\nLet $\\operatorname{FP}(\\Omega)=\\bigcup_{n \\in \\mathbb{N}}\\left\\{\\left(A_{i}\\right)_{i=1}^{n} \\subset \\mathcal{A}^{n}, \\bigsqcup_{i=1}^{n} A_{i}=\\Omega\\right\\}$ be the collection of measurable finite partitions of $\\Omega$.\n\nLet $(\\Omega, \\mu)$ be a finite measure space and $X$ be a metric space. For a partition $\\alpha=\\left(A_{1}, . ., A_{n}\\right) \\in \\operatorname{FP}(\\Omega)$ and $x=\\left(x_{1}, \\ldots, x_{n}\\right) \\in X^{n}$, we define the simple function $f_{x}^{\\alpha}: \\Omega \\rightarrow X$ by $f_{x}^{\\alpha}(\\omega)=x_{i}$ for $\\omega \\in A_{i}$. The map $X^{n} \\rightarrow L^{2}(\\Omega, X)$, given by $x \\mapsto f_{x}^{\\alpha}$, is an isometric embedding after factorwise rescaling:\n\n$$\nd_{L^{2}}^{2}\\left(f_{x}^{\\alpha}, f_{x^{\\prime}}^{\\alpha}\\right)=\\sum_{i=1}^{n} \\mu\\left(A_{i}\\right) d_{X}^{2}\\left(x_{i}, x_{i}^{\\prime}\\right)\n$$\n\nIn particular, this map is affine. The image of this map will be denoted as $C(\\alpha)$. We now record the density of simple functions in $L^{2}(\\Omega, X)$.\nLemma 2.9. The simple functions $\\bigcup_{\\alpha \\in F P(\\Omega)} C(\\alpha)$ are dense in $\\left(L^{2}(\\Omega, X), d_{L^{2}}\\right)$.\n\nThis result is standard, but a precise reference for the case of metric space targets is difficult to locate. For completeness, we include a proof.\nProof of Lemma 2.9. First, assume $f \\in L^{p}(\\Omega, X)$ is bounded, i.e., there exists $M>0$ such that $d(f(\\omega), x_{0}) \\leq M$ for all $\\omega \\in \\Omega$, where $x_{0}$ is some fixed element in $X$. Since $f$ has separable range, its image $f(\\Omega)$ is a separable subset of $X$. Let $D=\\left\\{x_{k}\\right\\}_{k=1}^{\\infty}$ be a countable dense subset of $f(\\Omega)$. Since $\\mu$ is a finite measure, $\\mu(\\Omega)<\\infty$.\n\nFor each $n \\in \\mathbb{N}$, since $D$ is dense in $f(\\Omega)$, for each $\\omega \\in \\Omega$, there exists $x_{k} \\in D$ such that $d\\left(f(\\omega), x_{k}\\right)<\\frac{1}{n}$. Define $E_{n, k}=\\{\\omega \\in \\Omega$ :\n\n$d\\left(f(\\omega), x_{k}\\right)<\\frac{1}{n}$ and $d\\left(f(\\omega), x_{j}\\right) \\geq \\frac{1}{n}$ for all $j<k\\}$. The sets $E_{n, k}$ are measurable, disjoint, and their union is $\\Omega$. Let $\\epsilon>0$. Choose $N_{n}$ such that $\\mu\\left(\\bigcup_{k=N_{n}+1}^{\\infty} E_{n, k}\\right)<\\frac{\\epsilon^{p}}{2 M^{p}}$. Let $\\alpha_{n}:=\\left(E_{n, 1}, \\ldots, E_{n, N_{n}}, \\bigcup_{k=N_{n}+1}^{\\infty} E_{n, k}\\right) \\in$ $\\mathrm{FP}(\\Omega)$ and $s_{n}:=f_{x}^{\\alpha_{n}} \\in C\\left(\\alpha_{n}\\right)$, where $x=\\left(x_{1}, \\ldots, x_{N_{n}}, x_{0}\\right)$ with $x_{i} \\in D$. If $\\omega \\in E_{n, k}$ for some $k \\leq N_{n}$, then $d\\left(f(\\omega), s_{n}(\\omega)\\right)<\\frac{1}{n}$. If $\\omega \\in \\bigcup_{k=N_{n}+1}^{\\infty} E_{n, k}$, then $d\\left(f(\\omega), s_{n}(\\omega)\\right)=d\\left(f(\\omega), x_{0}\\right)$. Therefore,\n\n$$\n\\begin{aligned}\nd_{L^{p}}^{p}\\left(f, s_{n}\\right) & =\\int_{\\Omega} d\\left(f(\\omega), s_{n}(\\omega)\\right)^{p} d \\mu(\\omega) \\\\\n& \\leq \\frac{\\mu(\\Omega)}{n^{p}}+\\int_{\\bigcup_{k=N_{n}+1}^{\\infty} E_{n, k}} d\\left(f(\\omega), x_{0}\\right)^{p} d \\mu(\\omega) \\\\\n& \\leq \\frac{\\mu(\\Omega)}{n^{p}}+M^{p} \\mu\\left(\\bigcup_{k=N_{n}+1}^{\\infty} E_{n, k}\\right)<\\frac{\\mu(\\Omega)}{n^{p}}+\\frac{\\epsilon^{p}}{2}\n\\end{aligned}\n$$\n\nChoose $n$ large enough so that $\\frac{\\mu(\\Omega)}{n^{p}}<\\frac{\\epsilon^{p}}{2}$. Then $d_{L^{p}}\\left(f, s_{n}\\right)<\\epsilon$.\nNow, let $f \\in L^{p}(\\Omega, X)$ be unbounded. For each $M>0$, define $f_{M}(\\omega)=$ $f(\\omega)$ if $d\\left(f(\\omega), x_{0}\\right) \\leq M$, and $f_{M}(\\omega)=x_{0}$ otherwise. Then $f_{M}$ is bounded. By the previous argument, there exists a simple function $s_{M} \\in C(\\alpha)$ for some $\\alpha$ such that $d_{L^{p}}\\left(f_{M}, s_{M}\\right)<\\frac{\\epsilon}{2}$.\n\nAlso, $d_{L^{p}}^{p}\\left(f, f_{M}\\right)=\\int_{\\{\\omega: d\\left(f(\\omega), x_{0}\\right)>M\\}} d\\left(f(\\omega), x_{0}\\right)^{p} d \\mu(\\omega)$. Since $f \\in$ $L^{p}(\\Omega, X)$, we can choose $M$ large enough such that $d_{L^{p}}\\left(f, f_{M}\\right)<\\frac{\\epsilon}{2}$.\n\nBy the triangle inequality, $d_{L^{p}}\\left(f, s_{M}\\right) \\leq d_{L^{p}}\\left(f, f_{M}\\right)+d_{L^{p}}\\left(f_{M}, s_{M}\\right)<$ $\\frac{\\epsilon}{2}+\\frac{\\epsilon}{2}=\\epsilon$. Thus, $\\bigcup_{\\alpha \\in \\mathrm{FP}(\\Omega)} C(\\alpha)$ is dense in $\\left(L^{p}(\\Omega, X), d_{L^{p}}\\right)$.\n2.4. Angles in $L^{2}$-spaces. We recall some definitions and results around the concept of angles in metric spaces and prove Theorem D from the introduction. See Bridson and Haefliger [BH99, Chapter I.1] for more on comparison triangles and angles.\n\nDefinition 2.10. (Alexandrov angle) Let $X$ be a metric space and $\\gamma_{1}$ : $\\left[0, a_{1}\\right] \\rightarrow X, \\gamma_{2}:\\left[0, a_{2}\\right] \\rightarrow X$ be geodesics such that $\\gamma_{1}(0)=\\gamma_{2}(0)=: x$. The Alexandrov angle between $\\gamma_{1}$ and $\\gamma_{2}$ is defined as\n\n$$\n\\angle\\left(\\gamma_{1}, \\gamma_{2}\\right):=\\limsup _{t, t^{\\prime} \\rightarrow 0} \\bar{Z}_{x}\\left(\\gamma_{1}(t), \\gamma_{2}\\left(t^{\\prime}\\right)\\right)\n$$\n\nwhere $\\bar{Z}_{x}\\left(\\gamma_{1}(t), \\gamma_{2}\\left(t^{\\prime}\\right)\\right)$ is the comparison angle at $x$ in the comparison triangle $\\bar{\\Delta}\\left(x, \\gamma_{1}(t), \\gamma_{2}\\left(t^{\\prime}\\right)\\right) \\subset \\mathbb{E}^{2}$.\n\nIf the limit $\\lim _{t, t^{\\prime} \\rightarrow 0} \\bar{Z}_{x}\\left(\\gamma_{1}(t), \\gamma_{2}\\left(t^{\\prime}\\right)\\right)$ exists, we say that this angle exists in the strict sense. A geodesic metric space $X$ is said to have angles or angles exist in $X$ if the Alexandrov angle between any pair of geodesic segments issuing from the same point exists in the strict sense.\n\nWe record a slightly finer version of the fact that a normed space is Euclidean if and only if it has angles (cf. Bridson and Haefliger [BH99, Proposition I.4.5]).\n\nLemma 2.11. Let $(V,|\\cdot|)$ be a semi-normed real vector space. The quotient space $X$ by the equivalence relation induced by $|\\cdot|$ has angles if and only if $|\\cdot|$ is induced by a semi-definite, symmetric bilinear form $h$ on $V$. It is an inner product if and only if $|\\cdot|$ is a norm.\n\nBefore proving Lemma D, we prove the following simpler fact for which we could not find a direct reference.\n\nLemma 2.12. Let $X_{1}$ and $X_{2}$ be a geodesic metric spaces. Then $X_{1} \\times X_{2}$ has angles if and only if both $X_{1}$ and $X_{2}$ have angles.\n\nProof. First, suppose that $X_{1} \\times X_{2}$ has angles. Since $X_{1}$ can be isometrically embedded into $X_{1} \\times X_{2}$ (via the map $x \\mapsto\\left(x, x_{0}\\right)$ for some fixed $x_{0} \\in X_{2}$ ), it follows that if $X_{1} \\times X_{2}$ has angles, then $X_{1}$ must also have angles. The same argument applies to $X_{2}$.\n\nConversely, suppose that $X_{1}$ and $X_{2}$ have angles. Let $\\gamma, \\eta:[0, a] \\rightarrow$ $X_{1} \\times X_{2}$ be geodesics emanating from a common point $\\left(x_{1}, x_{2}\\right)$. By Bridson and Haefliger [BH99, I.5.3], we can write $\\gamma(t)=\\left(\\gamma_{1}\\left(\\alpha_{1}^{1} t\\right), \\gamma_{2}\\left(\\alpha_{1}^{2} t\\right)\\right)$ and $\\eta(t)=$ $\\left(\\eta_{1}\\left(\\alpha_{2}^{1} t\\right), \\eta_{2}\\left(\\alpha_{2}^{2} t\\right)\\right)$ for geodesics $\\gamma_{i}, \\eta_{i}$ in $X_{i}$ emanating from $x_{i}$, where $\\left(\\alpha_{1}^{1}\\right)^{2}+$ $\\left(\\alpha_{1}^{2}\\right)^{2}=\\left(\\alpha_{2}^{1}\\right)^{2}+\\left(\\alpha_{2}^{2}\\right)^{2}=1$. Let $t, s \\in(0, a]$. Then\n\n$$\n\\begin{aligned}\n\\cos \\left(\\angle_{\\left(x_{1}, x_{2}\\right)}(\\gamma(t), \\eta(s))\\right) & =\\frac{t^{2}+s^{2}-d_{X_{1} \\times X_{2}}^{2}(\\gamma(t), \\eta(s))}{2 t s} \\\\\n& =\\sum_{i=1}^{2} \\alpha_{1}^{i} \\alpha_{2}^{i} \\frac{\\left(\\alpha_{1}^{i} t\\right)^{2}+\\left(\\alpha_{2}^{i} s\\right)^{2}-d_{X_{i}}^{2}\\left(\\gamma_{i}\\left(\\alpha_{1}^{i} t\\right), \\eta_{i}\\left(\\alpha_{2}^{i} s\\right)\\right)}{2\\left(\\alpha_{1}^{i} t\\right)\\left(\\alpha_{2}^{i} s\\right)} \\\\\n& =\\sum_{i=1}^{2} \\alpha_{1}^{i} \\alpha_{2}^{i} \\cos \\left(\\angle_{x_{i}}\\left(\\gamma_{i}\\left(\\alpha_{1}^{i} t\\right), \\eta_{i}\\left(\\alpha_{2}^{i} s\\right)\\right)\\right)\n\\end{aligned}\n$$\n\nSince $X_{i}$ have angles, the limits $\\lim _{t, s \\rightarrow 0} \\angle_{x_{i}}\\left(\\gamma_{i}\\left(\\alpha_{1}^{i} t\\right), \\eta_{i}\\left(\\alpha_{2}^{i} s\\right)\\right)$ exist for $i=1,2$. Therefore, by the continuity of the cosine function, the limit $\\lim _{t, s \\rightarrow 0} \\cos \\left(\\angle_{\\left(x_{1}, x_{2}\\right)}(\\gamma(t), \\eta(s))\\right)$ exists. Since $\\arccos$ is continuous on $[0,1]$, we conclude that $\\lim _{t, s \\rightarrow 0} \\angle_{\\left(x_{1}, x_{2}\\right)}(\\gamma(t), \\eta(s))$ exists. Thus, $X_{1} \\times X_{2}$ has angles.\n\nThe proof of Theorem D follows similarly, with the added consideration of interchanging a limit and integration by dominated convergence.\n\nProof of Lemma D. Let $\\sigma_{1}, \\sigma_{2}:[0, a] \\rightarrow L^{2}(\\Omega, X)$ be two geodesics issuing from a common point $f \\in L^{2}(\\Omega, X)$. By Theorem 2.7, there exist measurable maps $\\alpha_{i}: \\Omega \\longrightarrow \\mathbb{R}_{\\geq 0}$ with $\\int_{\\Omega} \\alpha_{i}(\\omega)^{2} d \\mu(\\omega)=1$ and collections $\\left\\{\\sigma_{i}^{\\omega}\\right\\}_{\\omega \\in \\Omega}$ of geodesics $\\sigma_{i}^{\\omega}:\\left[0, \\alpha_{i}(\\omega) \\cdot a\\right] \\rightarrow X, i=1,2$ such that $\\sigma_{i}(t)(\\omega)=\\sigma_{i}^{\\omega}\\left(\\alpha_{i}(\\omega) t\\right)$ for all $t \\in[0, a]$ and $\\mu$-almost every $\\omega \\in \\Omega$. By the assumptions, we know that the following limits exist,\n\n$$\n\\lim _{t, s \\rightarrow 0} \\cos \\left(\\bar{\\angle}_{f(\\omega)}\\left(\\sigma_{1}^{\\omega}(t), \\sigma_{2}^{\\omega}(s)\\right)\\right)=\\lim _{9} \\frac{t^{2}+s^{2}-d_{X}^{2}\\left(\\sigma_{1}^{\\omega}(t), \\sigma_{2}^{\\omega}(s)\\right)}{2 s t}\n$$\n\nOn the other hand, by the definition of $d_{L^{2}}$ and $\\left\\|\\alpha_{1}\\right\\|_{L^{2}}=\\left\\|\\alpha_{2}\\right\\|_{L^{2}}=1$,\n\n$$\n\\cos \\left(\\bar{\\angle}_{f}\\left(\\sigma_{1}(t), \\sigma_{2}(s)\\right)\\right)=\\frac{t^{2}+s^{2}-d_{L^{2}}^{2}\\left(\\sigma_{1}(t), \\sigma_{2}(s)\\right)}{2 s t}=\\int_{\\Omega} H(s, t, \\omega) d \\mu(\\omega)\n$$\n\nwhere $H(s, t, \\omega):=\\alpha_{1}(\\omega) \\alpha_{2}(\\omega) \\frac{\\left(t \\alpha_{1}(\\omega)\\right)^{2}+\\left(s \\alpha_{2}(\\omega)\\right)^{2}-d_{X}^{2}\\left(\\sigma_{1}^{\\omega}\\left(\\alpha_{1}(\\omega) t\\right), \\sigma_{2}^{\\omega}\\left(\\alpha_{2}(\\omega) s\\right)\\right.}{2 t \\alpha_{1}(\\omega)-s \\alpha_{2}(\\omega)}$ is bounded above by $\\alpha_{1}(\\omega) \\alpha_{2}(\\omega)$, which is integrable. Thus, by dominated convergence, the limit $\\lim _{t, s \\rightarrow 0} \\cos \\left(\\bar{\\angle}_{f}\\left(\\sigma_{1}(t), \\sigma_{2}(s)\\right)\\right)$ exists, and\n\n$$\n\\lim _{t, s \\rightarrow 0} \\cos \\left(\\bar{\\angle}_{f}\\left(\\sigma_{1}(t), \\sigma_{2}(s)\\right)\\right)=\\int_{\\Omega} \\alpha_{1}(\\omega) \\alpha_{2}(\\omega) \\cos \\left(\\angle_{f(\\omega)}\\left(\\sigma_{1}^{\\omega}, \\sigma_{2}^{\\omega}\\right)\\right) d \\mu(\\omega)\n$$",
      "tables": {},
      "images": {}
    },
    {
      "section_id": 3,
      "text": "# 3. Affine maps on certain products \n\nWe characterize affine maps on products of Riemannian manifolds of dimension at least two with irreducible universal coverings.\n\nTheorem 3.1. Let $\\left(M_{1}, g_{1}\\right), \\ldots,\\left(M_{n}, g_{n}\\right)$ be complete Riemannian manifolds of dimension at least two with irreducible universal covers. For a geodesic metric space $Y$ with angles, every affine map\n\n$$\nf: M_{1} \\times \\ldots \\times M_{n} \\rightarrow Y\n$$\n\nis, up to factor-wise rescaling with some $c_{i} \\geq 0$, an isometry $\\left(M_{1}, c_{1} g_{1}\\right) \\times$ $\\ldots \\times\\left(M_{n}, c_{n} g_{n}\\right) \\rightarrow f\\left(M_{1} \\times \\ldots \\times M_{n}\\right)$.\n\nWe stress that, by allowing $c_{i}=0$, we allow for the case in which $\\left(M_{i}, c_{i} g_{i}\\right)$ collapses to a point.\n\nProof. Let $p=\\left(p_{1}, \\ldots, p_{n}\\right) \\in M_{1} \\times \\ldots \\times M_{n}$ and $H_{i}:=H o l_{p_{i}}\\left(M_{i}\\right)$ be the holonomy group of $M_{i}$ at $p_{i}$. By the Berger-Simons theorem (cf. Simons, [Sim62]), either $H_{i}$ acts transitively on the unit sphere in $T_{p_{i}} M_{i}=: V_{i}$, or $M_{i}$ is a locally symmetric space of higher-rank. Without loss of generality, assume the first $m$ factors are of the first type and the rest are of the second type.\n\nFor the first type, choose a unit vector $e_{i} \\in V_{i}$. Then $\\Sigma_{i}:=\\left\\langle e_{i}\\right\\rangle$ intersects all $H_{i}$-orbits, and the stabilizer $W_{i}:=\\operatorname{Stab}_{H_{i}}\\left(\\Sigma_{i}\\right)$ contains an element which restricted to $\\Sigma_{i}$ is the reflection $e_{i} \\mapsto-e_{i}$. Indeed, by transitivity, for any other unit vector $v \\in V_{i}$, there exists $h \\in H_{i}$ such that $h\\left(e_{i}\\right)=v$. Thus the $H_{i}$-orbit of $e_{i}$ is the entire unit sphere in $V_{i}$, and hence $\\Sigma_{i}$ intersects all $H_{i^{-}}$ orbits. Furthermore, since $-e_{i}$ is also a unit vector, there exists $g \\in H_{i}$ such that $g\\left(e_{i}\\right)=-e_{i}$. As $g\\left(\\Sigma_{i}\\right)=\\Sigma_{i}, g \\in W_{i}=\\operatorname{Stab}_{H_{i}}\\left(\\Sigma_{i}\\right)$, and $g$ restricted to $\\Sigma_{i}$ is the reflection $e_{i} \\mapsto-e_{i}$.\n\nFor the second type, choose an immersed, maximal flat submanifold $F_{i}$. Then $\\Sigma_{i}:=T_{p_{i}} F_{i}$ intersects all $H_{i}$-orbits orthogonally, and the stabilizer $W_{i}:=\\operatorname{Stab}_{H_{i}}\\left(\\Sigma_{i}\\right)$ acts irreducibly on $\\Sigma_{i}$ (cf. Eschenburg, [Esc09, Sections $9,10])$.\n\nWe define $V:=T_{p}\\left(M_{1} \\times \\ldots \\times M_{n}\\right) \\cong V_{1} \\oplus \\ldots \\oplus V_{n}$ and $H:=H o l_{p}\\left(M_{1} \\times\\right.$ $\\left.\\ldots \\times M_{n}\\right) \\cong H_{1} \\times \\ldots \\times H_{n}$. Since $H_{1} \\times \\ldots \\times H_{n}$ acts component-wise on $V_{1} \\oplus \\ldots \\oplus V_{n}, \\Sigma:=\\Sigma_{1} \\oplus \\ldots \\oplus \\Sigma_{n}$ intersects all $H$-orbits.\n\nFor $v \\in T\\left(M_{1} \\times \\ldots \\times M_{n}\\right)$, define $|v|^{f}:=\\frac{d\\left(f\\left(\\gamma_{v}(t)\\right), f\\left(\\gamma_{v}\\left(t^{\\prime}\\right)\\right)\\right)}{|t-t^{\\prime}|}$ for sufficiently small $t, t^{\\prime}$, where $\\gamma_{v}$ is the Riemannian geodesic with $\\gamma_{v}^{\\prime}(0)=v$. This is well-defined precisely because $f$ is affine, and $|v|^{f}$ is the reparametrization factor of the (locally metric) geodesic $\\gamma_{v}$ under $f$. By Lytchak [Lyt12, Theorem 1.5], $|\\cdot|^{f}$ is a continuous family of semi-norms invariant under parallel transport.\n\nTo prove our claim, it suffices to show that $|\\cdot|^{f}$ is induced by a metric of the form $c_{1} g_{1}+\\ldots+c_{n} g_{n}$ for some $c_{1}, \\ldots, c_{n} \\geq 0$.\n\nSince $|\\cdot|^{f}$ is invariant under parallel transport, it suffices to show that its restriction to $V$, denoted $|\\cdot|^{f}\\left.\\right|_{V}$, is induced by $c_{1} g_{1}+\\cdots+c_{n} g_{n} \\mid_{V \\times V}$, and we know that $|\\cdot|^{f} \\mid_{V}$ is invariant under the action of $H$. Consequently, as $\\Sigma:=\\Sigma_{1} \\oplus \\cdots \\oplus \\Sigma_{n}$ intersects all $H$-orbits, it suffices to show that $|\\cdot|^{f} \\mid \\Sigma$ is induced by $c_{1} g_{1}+\\cdots+c_{n} g_{n} \\mid \\Sigma \\times \\Sigma$.\n\nLet $W:=W_{1} \\times \\ldots \\times W_{n} \\leq H$. As a side note, we remark that by Lytchak [Lyt12, 4.4], the restriction $q \\mapsto q \\mid \\Sigma$ is actually a bijection between $H$-invariant norms on $V$ and $W$-invariant norms on $\\Sigma$.\n\nWe define $F:=\\operatorname{im}\\left(\\gamma_{e_{1}}\\right) \\times \\cdots \\times \\operatorname{im}\\left(\\gamma_{e_{m}}\\right) \\times F_{m+1} \\times \\cdots \\times F_{n}$, This is an immersed flat submanifold of $M_{1} \\times \\cdots \\times M_{n}$ with $T_{p} F \\cong \\Sigma$. Thus there exists a neighbourhood $U(0) \\subset\\left(\\Sigma, g_{1}+\\ldots+g_{n} \\mid \\Sigma \\times \\Sigma\\right)$ which embeds isometrically into $\\left(M_{1} \\times \\ldots \\times M_{n}, g_{1}+\\ldots+g_{n}\\right)$. The image of $U(0)$ under this embedding is denoted $N(p) \\subset M_{1} \\times \\ldots \\times M_{n}$ and the image $f(N(p)) \\subset Y$ is isometric to $N(p) \\subset\\left(M_{1} \\times \\ldots \\times M_{n},|\\cdot|^{f}\\right)$. Since $|\\cdot|^{f}$ is invariant under parallel transport, $f(N(p)) \\subset Y$ is isometric to $U(0) \\subset\\left(\\Sigma,|\\cdot|^{f} \\mid \\Sigma\\right)$. Thus, by Lemma 2.11, $|\\cdot|^{f} \\mid \\Sigma$ is induced by a semi-definite symmetric bilinear form $h: \\Sigma \\times \\Sigma \\rightarrow \\mathbb{R}$.\n\nSince $|\\cdot|^{f} \\mid \\Sigma$ is invariant under the action of $W$, the bilinear form $h$ is of course also invariant under the same action.\n\nBy representation-theoretic arguments, $W$-invariant inner products on $\\Sigma$ are linear combinations of $W_{i}$-invariant inner products on $\\Sigma_{i}$. This extends to semi-definite symmetric bilinear forms like $h$. Nonetheless, in the following we will provide an alternative, more direct argument:\n\nRestricting $h$ to $\\Sigma_{i}$, we have $W_{i}$-invariant semi-definite symmetric bilinear forms $h_{i}$ on $\\Sigma_{i}$.\n\nFor $i \\leq m$, we see directly that $h_{i}=c_{i} g_{i} \\mid \\Sigma_{i} \\times \\Sigma_{i}$ for some $c_{i} \\geq 0$.\nFor $i>m$, we first notice that $\\Sigma_{i}^{0}:=\\left\\{v \\in \\Sigma_{i}:|v|^{f}=0\\right\\} \\subset \\Sigma_{i}$ is a $W_{i}$-invariant subspace and therefore, by irreducibility, either $|v|^{f} \\mid \\Sigma_{i} \\equiv 0$ or $|v|^{f} \\mid \\Sigma_{i}$ is a norm. In the former case, $h_{i}=0$. In the latter case, $h_{i}$ is a scalar product invariant under the irreducible action of $W_{i} \\leq O\\left(\\Sigma_{i}, g_{i} \\mid \\Sigma_{i} \\times \\Sigma_{i}\\right)$ and thus by the lemma of Schur, there exists $c_{i}>0$ such that $h_{i}=c_{i} g_{i} \\mid \\Sigma_{i} \\times \\Sigma_{i}$.\n\nThus for all $1 \\leq i \\leq n$, there exists $c_{i} \\geq 0$ such that $h_{i}=c_{i} g_{i} \\mid \\Sigma_{i} \\times \\Sigma_{i}$.\nNow it just remains to show that $h=h_{1}+\\ldots+h_{n}$. This is equivalent to showing that for $i \\neq j, v \\in \\Sigma_{i}$ and $w \\in \\Sigma_{j}$, we have that $h(v, w)=0$.\n\nIf $i \\leq m$, recall that $W_{i} \\leq W$ contains an element which restricted to $\\Sigma_{i}$ is the reflection $e_{i} \\mapsto-e_{i}$. Thus, by the $W$-invariance, we have that $h(v, w)=h(-v, w)=-h(v, w)$ and therefore $h(v, w)=0$.\n\nIf on the other hand, $i, j>m$, we focus on the linear map $f: \\Sigma \\rightarrow \\mathbb{R}$ given by $f(u):=h(v, u)$. We observe that $\\operatorname{ker}(f) \\cap \\Sigma_{j} \\leq \\Sigma_{j}$ is a $W_{j^{-}}$ invariant subspace of $\\Sigma_{j}$. Indeed to see this, simply note that for $w=$ $(\\mathrm{id}, \\ldots, w_{j}, \\ldots, \\mathrm{id}) \\in W_{j} \\leq W$ and $u \\in \\operatorname{ker}(f) \\cap \\Sigma_{j}$, we have that $f(w \\cdot u)=$ $h(v, w \\cdot u)=h(w \\cdot v, w \\cdot u)=h(v, u)=0$. Since $\\operatorname{im}(f) \\neq\\{0\\}, \\operatorname{dim}(\\operatorname{ker}(f))=$ $n-1$ and since also $\\operatorname{dim}\\left(\\Sigma_{i}\\right) \\geq 2$, we deduce that $\\operatorname{dim}\\left(\\operatorname{ker}(f) \\cap \\Sigma_{j}\\right) \\geq 1$. Since the action of $W_{j}$ on $\\Sigma_{j}$ is irreducible, we therefore have that $\\operatorname{ker}(f) \\cap \\Sigma_{j}=\\Sigma_{j}$, i.e. $h(v, w)=0$.\n\nIn other words, we have shown that under the given assumptions, for an affine map $f: M_{1} \\times \\ldots \\times M_{n} \\rightarrow Y$, there exist constants $c_{1}, \\ldots, c_{n} \\geq 0$ such that for any $\\left(p_{1}, \\ldots, p_{n}\\right),\\left(q_{1}, \\ldots, q_{n}\\right) \\in M_{1} \\times \\ldots \\times M_{n}$,\n\n$$\nd_{Y}^{2}\\left(f\\left(p_{1}, \\ldots, p_{n}\\right), f\\left(q_{1}, \\ldots, q_{n}\\right)\\right)=\\sum_{i=0}^{n} c_{i}^{2} d_{M_{i}}^{2}\\left(p_{i}, q_{i}\\right)\n$$\n\nNote that here $d_{M_{i}}$ denotes the Riemannian distance on $M_{i}$.\nIn particular, this holds for affine maps $f: M^{n} \\rightarrow Y$ and the objective of the next part is to extend this to $L^{2}(\\Omega, M)$.\n\nFor $n=1$, we obtain the following special case of the above result. In this situation, the claim also trivially holds for $\\operatorname{dim}(M)=1$.\n\nCorollary 3.2. Let $(M, g)$ be a complete Riemannian manifold with irreducible universal covering. For a geodesic metric space $Y$ with angles, every affine map $f: M \\rightarrow Y$ is, up to a rescaling by some $c \\geq 0$, an isometry $(M, c g) \\rightarrow f(M)$.",
      "tables": {},
      "images": {}
    },
    {
      "section_id": 4,
      "text": "# 4. Affine maps of $L^{2}(\\Omega, M)$ \n\nLet $(\\Omega, \\mu)$ be a finite measure space and $X$ be a metric space. For $\\eta \\in$ $L^{\\infty}(\\Omega), \\eta \\geq 0$, we define a pseudo-metric on $L^{2}(\\Omega, X)$ by\n\n$$\nd_{\\eta}(f, g):=\\left(\\int_{\\Omega} \\eta d^{2}(f, g) d \\mu\\right)^{\\frac{1}{2}}\n$$\n\nWe denote the induced quotient metric space by $\\left(L_{\\eta}^{2}(\\Omega, X), d_{\\eta}\\right)$. The projection map $p_{\\eta}: L^{2}(\\Omega, X) \\rightarrow L_{\\eta}^{2}(\\Omega, X)$ is affine. Indeed for a geodesic $\\sigma: I \\rightarrow L^{2}(\\Omega, X), p_{\\eta} \\circ \\sigma$ is a linearly reparametrized geodesic with reparametrization factor $\\left(\\int_{\\Omega} \\eta(\\omega) \\alpha^{2}(\\omega) d \\mu(\\omega)\\right)^{\\frac{1}{2}}<\\infty$, where $\\alpha: \\Omega \\rightarrow \\mathbb{R}_{\\geq 0}$ with $\\int_{\\Omega} \\alpha^{2} d \\mu=1$ is the measurable map corresponding to $\\sigma$ via Theorem 2.7.\n\nTheorem 4.1. Let $M$ be a complete Riemannian manifold of dimension at least two with irreducible universal cover, and let $Y$ be a geodesic metric\n\nspace with angles. A Lipschitz map $F: L^{2}(\\Omega, M) \\rightarrow Y$ is affine if and only if there exists a nonnegative $\\eta \\in L^{\\infty}(\\Omega)$ such that, for all $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\nd_{Y}^{2}(F(f), F(g))=\\int_{\\Omega} \\eta d_{M}^{2}(f, g) d \\mu\n$$\n\nIn other words, the theorem asserts that the image of the affine map $F: L^{2}(\\Omega, M) \\rightarrow Y$ is isometric to $L_{\\eta}^{2}(\\Omega, M)$ for some $\\eta \\in L^{\\infty}(\\Omega), \\eta \\geq 0$.\n\nProof of Theorem 4.1. Assume $F: L^{2}(\\Omega, M) \\longrightarrow Y$ is Lipschitz, and that there exists a nonnegative $\\eta \\in L^{\\infty}(\\Omega)$ such that, for all $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\nd_{Y}^{2}(F(f), F(g))=\\int_{\\Omega} \\eta d_{M}^{2}(f, g) d \\mu\n$$\n\nLet $\\sigma: I \\longrightarrow L^{2}(\\Omega, M)$ be a geodesic. By Theorem 2.7, there exist a measurable $\\alpha: \\Omega \\longrightarrow \\mathbb{R}_{\\geq 0}$ with $\\int_{\\Omega} \\alpha^{2} d \\mu=1$, and a family of geodesics $\\left\\{\\sigma^{\\omega}\\right\\}_{\\omega \\in \\Omega}, \\sigma^{\\omega}: \\alpha(\\omega) I \\longrightarrow X$, such that $\\sigma(t)(\\omega)=\\sigma^{\\omega}(\\alpha(\\omega) t)$ for almost every $\\omega \\in \\Omega$. Then\n\n$$\n\\begin{aligned}\nd_{Y}\\left(F(\\sigma(t)), F\\left(\\sigma\\left(t^{\\prime}\\right)\\right)\\right) & =\\left(\\int_{\\Omega} \\eta(\\omega) d_{X}^{2}\\left(\\sigma^{\\omega}(\\alpha(\\omega) t), \\sigma^{\\omega}\\left(\\alpha(\\omega) t^{\\prime}\\right)\\right) d \\mu(\\omega)\\right)^{\\frac{1}{2}} \\\\\n& =\\left(\\int_{\\Omega} \\eta(\\omega) \\alpha^{2}(\\omega) d \\mu(\\omega)\\right)^{\\frac{1}{2}}\\left|t-t^{\\prime}\\right|\n\\end{aligned}\n$$\n\nThus $F \\circ \\sigma$ is a linearly reparameterized geodesic with factor $\\left(\\int_{\\Omega} \\eta(\\omega) \\alpha^{2}(\\omega) d \\mu(\\omega)\\right)^{\\frac{1}{2}}$, and therefore $F$ is affine.\n\nFor the other direction, let us assume that we are given an affine Lipschitz map $F: L^{2}(\\Omega, M) \\longrightarrow Y$.\n\nAs noted above in section 2.3 , for a finite partition $\\alpha=\\left(A_{1}, \\ldots, A_{n}\\right) \\in$ $\\operatorname{FP}(\\Omega)$, the map $M^{n} \\rightarrow L^{2}(\\Omega, M)$, given by $x \\mapsto f_{x}^{\\alpha}$, is affine. Thus we obtain an affine map\n\n$$\nM^{n} \\xrightarrow{x \\mapsto f_{x}^{\\alpha}} L^{2}(\\Omega, M) \\xrightarrow{F} Y\n$$\n\nTherefore, by Theorem 3.1, there exist $\\lambda_{1}^{\\alpha}, \\ldots, \\lambda_{n}^{\\alpha} \\geq 0$ such that\n\n$$\nd_{Y}^{2}\\left(F\\left(f_{x}^{\\alpha}\\right), F\\left(f_{x^{\\prime}}^{\\alpha}\\right)\\right)=\\sum_{i=1}^{n}\\left(\\lambda_{i}^{\\alpha}\\right)^{2} d_{M}^{2}\\left(x_{i}, x_{i}^{\\prime}\\right)\n$$\n\nNow, we fix a set $A \\in \\mathcal{A}$. Let $\\alpha=\\left(A_{1}, \\ldots, A_{i-1}, A, A_{i+1}, \\ldots, A_{n}\\right)$ and $\\beta=\\left(B_{1}, \\ldots, B_{j-1}, A, B_{j+1}, \\ldots, B_{m}\\right)$ be two partitions containing the same set $A$. Consider $p, p^{\\prime} \\in M$ with $p \\neq p^{\\prime}$. Let $x^{l}:=(p, \\ldots, p) \\in M^{l}$ for any $l \\in \\mathbb{N}$ (all components are $p$ ) and define $x_{k}^{l}:=\\left(p, \\ldots, p, p^{\\prime}, p, \\ldots, p\\right) \\in M^{l}$, where $p^{\\prime}$ is in the $k$-th position, for all $l \\in \\mathbb{N}$ and $k \\leq l$.\n\nThen $f_{x^{n}}^{\\alpha}=f_{x^{m}}^{\\beta}$ (constant function $p$ ). $f_{x_{i}^{\\alpha}}^{\\alpha}$ is $p^{\\prime}$ on $A$ and $p$ on $\\Omega \\backslash A$. Similarly, $f_{x_{j}^{\\alpha}}^{\\beta}$ is $p^{\\prime}$ on $A$ and $p$ on $\\Omega \\backslash A$. Therefore, $f_{x_{i}^{\\alpha}}^{\\alpha}=f_{x_{j}^{\\alpha}}^{\\beta}$. Thus,\n\n$$\nd_{Y}\\left(F\\left(f_{x^{n}}^{\\alpha}\\right), F\\left(f_{x_{i}^{\\alpha}}^{\\alpha}\\right)\\right)=d_{Y}\\left(F\\left(f_{x^{m}}^{\\beta}\\right), F\\left(f_{x_{j}^{\\beta}}^{\\beta}\\right)\\right)\n$$\n\nBy equation (4.1), we have:\n\n$$\nd_{Y}\\left(F\\left(f_{x^{n}}^{\\alpha}\\right), F\\left(f_{x_{i}^{\\alpha}}^{\\alpha}\\right)\\right)=\\lambda_{i}^{\\alpha} d_{M}\\left(p, p^{\\prime}\\right)\n$$\n\nand\n\n$$\nd_{Y}\\left(F\\left(f_{x^{m}}^{\\beta}\\right), F\\left(f_{x_{i}^{\\beta}}^{\\beta}\\right)\\right)=\\lambda_{j}^{\\beta} d_{M}\\left(p, p^{\\prime}\\right)\n$$\n\nThus, $\\lambda_{i}^{\\alpha}=\\lambda_{j}^{\\beta}$. This shows that the coefficient associated with the set $A$ depends only on $A$ and not on the specific partition containing $A$ or its position within that partition. Hence, we can define $\\lambda^{A}:=\\lambda_{i}^{\\alpha}$ for some partition $\\alpha$ containing $A$ (where $A$ is the $i$-th element of $\\alpha$ ). We then define $\\widetilde{\\mu}: \\mathcal{A} \\rightarrow \\mathbb{R}_{\\geq 0}$ by $\\widetilde{\\mu}(A):=\\left(\\lambda^{A}\\right)^{2}$.\n\nBy the aforementioned independence of the $\\lambda_{i}$, we therefore have\n\n$$\nd_{Y}^{2}\\left(F\\left(f_{x}^{\\alpha}\\right), F\\left(f_{x^{\\prime}}^{\\alpha}\\right)\\right)=\\sum_{i=1}^{n} \\widetilde{\\mu}\\left(A_{i}\\right) d_{M}^{2}\\left(x_{i}, x_{i}^{\\prime}\\right)\n$$\n\nWe note that $\\widetilde{\\mu}(\\emptyset)=0$. Let $\\|F\\| \\geq 0$ be the Lipschitz constant of $F$. Since for $A \\in \\mathcal{A}$ and distinct $p, p^{\\prime} \\in M$,\n\n$$\n\\begin{aligned}\n\\widetilde{\\mu}(A) d_{M}^{2}\\left(p, p^{\\prime}\\right) & =d_{Y}^{2}\\left(F\\left(f_{\\left(p, p\\right)}^{\\left(A, A^{c}\\right)}\\right), F\\left(f_{\\left(p^{\\prime}, p\\right)}^{\\left(A, A^{c}\\right)}\\right) \\leq\\|F\\|^{2} d_{L^{2}}\\left(f_{\\left(p, p\\right)}^{\\left(A, A^{c}\\right)}, f_{\\left(p^{\\prime}, p\\right)}^{\\left(A, A^{c}\\right)}\\right)\\right. \\\\\n& =\\|F\\|^{2} \\mu(A) d_{M}^{2}\\left(p, p^{\\prime}\\right)\n\\end{aligned}\n$$\n\nwe also established that for all $A \\in \\mathcal{A}$,\n\n$$\n\\widetilde{\\mu}(A) \\leq\\|F\\|^{2} \\mu(A)\n$$\n\nNext notice that for disjoint $A, B \\in \\mathcal{A}$, and distinct $p, p^{\\prime} \\in M$,\n\n$$\n\\begin{aligned}\n\\widetilde{\\mu}(A \\cup B) d_{M}^{2}\\left(p, p^{\\prime}\\right) & =d_{Y}^{2}\\left(F\\left(f_{\\left(p, p\\right)}^{\\left(A \\cup B, A^{c} \\cap B^{c}\\right)}\\right), F\\left(f_{\\left(p^{\\prime}, p\\right)}^{\\left(A \\cup B, A^{c} \\cap B^{c}\\right)}\\right)\\right) \\\\\n& =d_{Y}^{2}\\left(F\\left(f_{\\left(p, p, p\\right)}^{\\left(A, B, A^{c} \\cap B^{c}\\right)}\\right), F\\left(f_{\\left(p^{\\prime}, p^{\\prime}, p\\right)}^{\\left(A, B, A^{c} \\cap B^{c}\\right)}\\right)\\right) \\\\\n& =\\widetilde{\\mu}(A) d_{M}^{2}\\left(p, p^{\\prime}\\right)+\\widetilde{\\mu}(B) d_{M}^{2}\\left(p, p^{\\prime}\\right)\n\\end{aligned}\n$$\n\nand so we deduce that $\\widetilde{\\mu}(A \\cup B)=\\widetilde{\\mu}(A)+\\widetilde{\\mu}(B)$. By induction, $\\widetilde{\\mu}$ is finitely additive. Now for disjoint $\\left(A_{i}\\right)_{i \\in \\mathbb{N}}$, finite additivity yields $\\widetilde{\\mu}\\left(\\bigsqcup_{i=1}^{\\infty} A_{i}\\right)=\\sum_{i=1}^{n} \\widetilde{\\mu}\\left(A_{i}\\right)+\\widetilde{\\mu}\\left(\\bigsqcup_{i=n+1}^{\\infty} A_{i}\\right)$. By (4.3) and the continuity of $\\mu$, $\\widetilde{\\mu}\\left(\\bigsqcup_{i=n+1}^{\\infty} A_{i}\\right) \\leq\\|F\\|^{2} \\mu\\left(\\bigsqcup_{i=n+1}^{\\infty} A_{i}\\right) \\rightarrow 0$ as $n \\rightarrow \\infty$. Thus $\\widetilde{\\mu}$ is $\\sigma$-additive, and since it is also non-negative and $\\widetilde{\\mu}(\\emptyset)=0$, it is a measure.\n\nAlso by the upper bound, $\\widetilde{\\mu} \\ll \\mu$. Thus by Radon-Nikodym, there exists $\\eta \\in L^{1}(\\Omega)$ such that for all $A \\in \\mathcal{A}, \\widetilde{\\mu}(A)=\\int_{A} \\eta(\\omega) d \\mu(\\omega)$. Again by (4.3), we deduce that $\\|\\eta\\|_{\\infty} \\leq\\|F\\|^{2}$, and so $\\eta \\in L^{\\infty}(\\Omega)$ with $\\eta \\geq 0$.\n\nNote, by (4.2), for any $\\alpha \\in \\operatorname{FP}(\\Omega)$ and $f, g \\in C(\\alpha)$, we have:\n\n$$\n\\begin{aligned}\nd_{Y}^{2}(F(f), F(g)) & =\\int_{\\Omega} d_{M}^{2}(f(\\omega), g(\\omega)) \\widetilde{d \\mu}(\\omega) \\\\\n& =\\int_{\\Omega} \\eta(\\omega) d_{M}^{2}(f(\\omega), g(\\omega)) d \\mu(\\omega)=d_{\\eta}^{2}(f, g)\n\\end{aligned}\n$$\n\nThis establishes the equality $d_{Y}(F(f), F(g))=d_{\\eta}(f, g)$ for $f, g \\in C(\\alpha)$.\n\nNow let $f, g \\in \\bigcup_{\\alpha \\in \\operatorname{PP}(\\Omega)} C(\\alpha)$. This means there exist partitions $\\alpha_{1}, \\alpha_{2} \\in$ $\\mathrm{FP}(\\Omega)$ such that $f \\in C\\left(\\alpha_{1}\\right)$ and $g \\in C\\left(\\alpha_{2}\\right)$. Let $\\alpha$ be the common refinement of $\\alpha_{1}$ and $\\alpha_{2}$. Then both $f$ and $g$ are in $C(\\alpha)$. This is because if $\\alpha$ is a refinement of $\\alpha_{1}$, then $C\\left(\\alpha_{1}\\right) \\subseteq C(\\alpha)$. Thus, in fact, we already have $d_{Y}(F(f), F(g))=d_{\\eta}(f, g)$ for $f, g \\in \\bigcup_{\\alpha \\in \\mathrm{FP}(\\Omega)} C(\\alpha)$.\n\nTherefore finally, by the density of $\\bigcup_{\\alpha \\in \\mathrm{FP}(\\Omega)} C(\\alpha)$ in $L^{2}(\\Omega, X)$ (see Lemma 2.9), the claim follows for all $f, g \\in L^{2}(\\Omega, X)$.",
      "tables": {},
      "images": {}
    },
    {
      "section_id": 5,
      "text": "# 5. Main argument \n\n5.1. Splittings of $L^{2}(\\Omega, M)$. We analyse splittings of $L^{2}$-spaces of the above type and prove Theorem B.\n\nCorollary 5.1. Let $M$ be a Riemannian manifold of dimension at least two with irreducible universal cover, and let $L^{2}(\\Omega, M)=Y \\times \\bar{Y}$. Then there exists a measurable $A \\subseteq \\Omega$ such that, for all $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\nd_{Y}\\left(P^{Y}(f), P^{Y}(g)\\right)=\\int_{A} d_{M}^{2}(f(\\omega), g(\\omega)) d \\mu(\\omega)\n$$\n\nand\n\n$$\nd_{\\bar{Y}}^{2}\\left(P^{\\bar{Y}}(f), P^{\\bar{Y}}(g)\\right)=\\int_{A^{c}} d_{M}^{2}(f(\\omega), g(\\omega)) d \\mu(\\omega)\n$$\n\nThus we show that $Y \\rightarrow L^{2}(A, M), P^{Y}(f) \\mapsto f \\mid A$ and $\\bar{Y} \\rightarrow$ $L^{2}\\left(A^{c}, M\\right), P^{\\bar{Y}}(f) \\mapsto f \\mid A^{c}, f \\in L^{2}(\\Omega, M)$ are well-defined isometric embeddings. Since clearly every function in $L^{2}(A, M)$ is a restriction $\\left.f\\right|_{A}$ of some $f$ in $L^{2}(\\Omega, M)$, the maps are surjective and thus isometries.\n\nProof of Corollary 5.1. Note that in Riemannian manifolds angles exist in the sense of section 2.4 (see for example Burago-Burago-Ivanov [BBI01]). Accordingly, by Lemma D, since $M$ is a Riemannian manifold, $L^{2}(\\Omega, M)=$ $Y \\times \\bar{Y}$ admits angles. Thus by Lemma 2.12, angles exist in both $Y$ and $\\bar{Y}$.\n\nTherefore we may apply Theorem 4.1 to the affine projections onto the factors $Y$ and $\\bar{Y}$ respectively, $P^{Y}: L^{2}(\\Omega, M) \\rightarrow Y$ and $P^{\\bar{Y}}: L^{2}(\\Omega, M) \\rightarrow \\bar{Y}$. Thus there are functions $\\eta, \\bar{\\eta} \\in L^{\\infty}(\\Omega), \\eta, \\bar{\\eta} \\geq 0$ such that for all $f, g \\in$ $L^{2}(\\Omega, M), d_{Y}\\left(P^{Y}(f), P^{Y}(g)\\right)=d_{\\eta}(f, g)$ and $d_{\\bar{Y}}\\left(P^{\\bar{Y}}(f), P^{\\bar{Y}}(g)\\right)=d_{\\bar{\\eta}}(f, g)$. Hence, we obtain a splitting\n\n$$\nL^{2}(\\Omega, M) \\xrightarrow{\\left(p_{\\eta}, p_{\\bar{\\eta}}\\right)} L_{\\eta}^{2}(\\Omega, M) \\times L_{\\bar{\\eta}}^{2}(\\Omega, M)\n$$\n\nTo establish our claim, all we need to show is that $\\eta=\\chi_{A}$ and $\\bar{\\eta}=\\chi_{A^{c}}$ for some measurable $A \\subset \\Omega$.\n\nThis follows from the fact that (5.4) is a splitting: we begin by observing that, for all $f, g \\in L^{2}(\\Omega, M)$, we know that\n\n$$\n\\begin{aligned}\n\\int_{\\Omega} d_{M}^{2}(f(\\omega), g(\\omega)) d \\mu(\\omega) & =d_{L^{2}}^{2}(f, g)=d_{\\eta}^{2}(f, g)+d_{\\bar{\\eta}}^{2}(f, g) \\\\\n& =\\int_{\\Omega}(\\eta(\\omega)+\\bar{\\eta}(\\omega)) d_{M}^{2}(f(\\omega), g(\\omega)) d \\mu(\\omega)\n\\end{aligned}\n$$\n\nNow we proceed in two steps. First, we show that for $\\mu$-a.e. $\\omega \\in \\Omega, \\eta(\\omega)+$ $\\bar{\\eta}(\\omega)=1$. To that end, set $A:=\\left(\\eta+\\bar{\\eta}-1\\right)^{-1}((-\\infty, 0))$ and choose distinct $p, q \\in M$. By the above, we know that\n\n$$\n\\begin{aligned}\n0 & =\\int_{\\Omega}(\\eta(\\omega)+\\bar{\\eta}(\\omega)-1) d_{M}^{2}\\left(f_{\\left(p, p\\right)}^{\\left(A, A^{c}\\right)}(\\omega), f_{\\left(p, q\\right)}^{\\left(A, A^{c}\\right)}(\\omega)\\right) d \\mu(\\omega) \\\\\n& =\\int_{A^{c}}(\\eta(\\omega)+\\bar{\\eta}(\\omega)-1) d_{M}^{2}(p, q) d \\mu(\\omega)\n\\end{aligned}\n$$\n\nTherefore, we deduce that $\\eta(\\omega)+\\bar{\\eta}(\\omega)=1$ for $\\mu$-a.e. $\\omega \\in A^{c}$. Analogously, we show that $\\eta(\\omega)+\\bar{\\eta}(\\omega)=1$ for $\\mu$-a.e. $\\omega \\in A$ and thus we have $\\eta(\\omega)+$ $\\bar{\\eta}(\\omega)=1$ for $\\mu$-a.e. $\\omega \\in \\Omega$.\n\nSecondly, we claim that in fact $\\eta(\\omega), \\bar{\\eta}(\\omega) \\in\\{0,1\\}$ for $\\mu$-a.e. $\\omega \\in \\Omega$. Indeed otherwise, there would exist a subset $A \\subset \\Omega$ with $\\mu(A)>0$ and $\\eta(\\omega), \\bar{\\eta}(\\omega) \\in(0,1)$ for all $\\omega \\in A$. By the surjectivity of (5.4), for distinct $p, q \\in M$, there would then exist $h \\in L^{2}(\\Omega, M)$ such that $\\left(p_{\\eta}(h), p_{\\bar{\\eta}}(h)\\right)=$ $\\left(p_{\\eta}\\left(f_{\\left(p, p\\right)}^{\\left(A, A^{c}\\right)}\\right), p_{\\bar{\\eta}}\\left(f_{\\left(q, q\\right)}^{\\left(A, A^{c}\\right)}\\right)\\right)$. Thus $\\int_{\\Omega} \\eta d_{M}^{2}(h, p) d \\mu=0$ and therefore $\\left.h\\right|_{A} \\equiv p$, and likewise $\\left.h\\right|_{A} \\equiv q$. This is a contradiction and so indeed $\\eta(\\omega), \\bar{\\eta}(\\omega) \\in$ $\\{0,1\\}$ for $\\mu$-a.e. $\\omega \\in \\Omega$. Thus taken together, there exists a measurable $A \\subset \\Omega$ such that $\\eta=\\chi_{A}$ and $\\bar{\\eta}=\\chi_{A^{c}}$.\n\nThis completes the proof.\nProof of Theorem B. Since the standard probability space is atomless, by Theorem 2.2, we can assume that $\\Omega=[0,1]$ equipped with the Lebesgue measure $\\lambda$.\n\nLet $L^{2}(\\Omega, M)=Y \\times \\bar{Y}$ be a nontrivial splitting. By Corollary 5.1, there exists a measurable $A \\subset \\Omega$ of positive measure such that $Y$ is isometric to $L^{2}(A, M)$. By normalizing the induced measure space on $A \\subset \\Omega$, we obtain another atomless standard probability space $\\left(A, \\frac{1}{\\lambda(A)} \\lambda\\right)$ (cf. Bogachev [Bog07, Proposition 9.4.10]). By Theorem 2.2, this space is again isomorphic to $([0,1], \\lambda)$.\n\nTherefore, $Y \\cong L^{2}(A, M)$ is isometric to $\\lambda(A) L^{2}([0,1], M)$.\n5.2. Isometric localization and rigidity. We show that the isometries of $L^{2}(\\Omega, M)$ are localizable and prove Theorem E. In Remark 5.4 we describe how to obtain isometries of $L^{2}(\\Omega, \\mathbb{R})$ violating the rigidity in the sense of Theorem E.\n\nFor the following result, recall the definition of an almost everywhere bijective map $\\varphi: \\Omega \\rightarrow \\Omega$ from section 2.1 .\n\nLemma 5.2. Let $(\\Omega, \\mu)$ be a standard probability space and $M, N$ be complete Riemannian manifolds of dimension at least two with irreducible universal coverings. For an isometry $\\gamma: L^{2}(\\Omega, M) \\rightarrow L^{2}(\\Omega, N)$ there exists an almost everywhere bijective $\\varphi: \\Omega \\rightarrow \\Omega$ such that $\\varphi_{*} \\mu \\ll \\mu$ and $\\mu \\ll \\varphi_{*} \\mu$, and for every measurable $A \\subset \\Omega$ and $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\n\\int_{A} d_{M}^{2}(f, g) d \\mu=\\int_{\\varphi^{-1}(A)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu\n$$\n\nProof. (i) We begin by pointing out that for any measurable $A \\subset \\Omega$,\n\n$$\n\\int_{\\Omega} d_{M}^{2}(f, g) d \\mu=\\int_{A} d_{M}^{2}\\left(\\left.f\\right|_{A},\\left.g\\right|_{A}\\right) d \\mu+\\int_{A^{c}} d_{M}^{2}\\left(\\left.f\\right|_{A^{c}},\\left.g\\right|_{A^{c}}\\right) d \\mu\n$$\n\nand thus $L^{2}(\\Omega, M) \\longrightarrow L^{2}(A, M) \\times L^{2}\\left(A^{c}, M\\right), f \\mapsto\\left(\\left.f\\right|_{A},\\left.f\\right|_{A^{c}}\\right)$ is a canonical splitting of $L^{2}(\\Omega, M)$. By combining this with $\\gamma$ : $L^{2}(\\Omega, M) \\rightarrow L^{2}(\\Omega, N)$, we obtain a splitting of $L^{2}(\\Omega, N)$ :\n\n$$\nL^{2}(\\Omega, N) \\xrightarrow{\\gamma^{-1}} L^{2}(\\Omega, M) \\xrightarrow{f \\mapsto\\left(\\left.f\\right|_{A},\\left.f\\right|_{A^{c}}\\right)} L^{2}(A, M) \\times L^{2}\\left(A^{c}, M\\right)\n$$\n\nBy Corollary 5.1, there exists a measurable $\\Psi(A) \\subset \\Omega$ such that $L^{2}(A, M) \\rightarrow L^{2}(\\Psi(A), N),\\left.\\gamma^{-1}(f)\\right|_{A} \\mapsto\\left.f\\right|_{\\Psi(A)}$ is an isometry. Thus for all $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\n\\int_{A} d_{M}^{2}(f, g) d \\mu=\\int_{\\Psi(A)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu\n$$\n\nThis uniquely defines $\\Psi: \\mathfrak{A} \\longrightarrow \\mathfrak{A}$, where $\\mathfrak{A}$ denotes the quotient of the $\\sigma$-algebra $\\mathcal{A}$ of $\\Omega$ by an identification up to null-sets.\n\nBy considering the isometry $\\gamma^{-1}: L^{2}(\\Omega, N) \\rightarrow L^{2}(\\Omega, M)$, we analogously obtain $\\Psi^{\\prime}: \\mathfrak{A} \\longrightarrow \\mathfrak{A}$ and $\\Psi \\circ \\Psi^{\\prime}=\\Psi^{\\prime} \\circ \\Psi=\\mathrm{id}_{\\mathfrak{A}}$. Thus $\\Psi^{\\prime}$ is an inverse and $\\Psi$ is bijective.\n\nFurthermore $\\Psi(\\emptyset)=\\emptyset$. Indeed, we know that for all $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\n\\int_{\\Psi(\\emptyset)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu=\\int_{\\emptyset} d_{M}^{2}(f, g) d \\mu=0\n$$\n\nIf $\\mu(\\Psi(\\emptyset))>0$, we could choose $f, g$ such that $d_{N}^{2}(\\gamma(f), \\gamma(g))>0$ on $\\Psi(\\emptyset)$, leading to a contradiction after integration. Therefore, we must have $\\mu(\\Psi(\\emptyset))=0$, and thus $\\Psi(\\emptyset)=\\emptyset$ in the quotient algebra $\\mathfrak{A}$.\n\nMoreover, we know that for pairwise disjoint $\\left(A_{n}\\right)_{n \\in \\mathbb{N}} \\subset \\mathcal{A}$,\n\n$$\n\\Psi\\left(\\bigsqcup_{n=1}^{\\infty} A_{n}\\right)=\\bigsqcup_{n=1}^{\\infty} \\Psi\\left(A_{n}\\right)\n$$\n\nTo see this, let $\\left(A_{n}\\right)_{n \\in \\mathbb{N}}$ be pairwise disjoint measurable subsets of $\\Omega$ and $A:=\\bigsqcup_{n=1}^{\\infty} A_{n}$. We want to show that $\\Psi(A)=\\bigsqcup_{n=1}^{\\infty} \\Psi\\left(A_{n}\\right)$. First, let $f, g \\in L^{2}(\\Omega, M)$. Then we know that $\\int_{A} d_{M}^{2}(f, g) d \\mu=$ $\\sum_{n=1}^{\\infty} \\int_{A_{n}} d_{M}^{2}(f, g) d \\mu$, and by the definition of $\\Psi$, we have that $\\int_{A_{n}} d_{M}^{2}(f, g) d \\mu=\\int_{\\Psi\\left(A_{n}\\right)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu$.\n\nTherefore,\n\n$$\n\\begin{aligned}\n\\int_{A} d_{M}^{2}(f, g) d \\mu & =\\sum_{n=1}^{\\infty} \\int_{\\Psi\\left(A_{n}\\right)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu \\\\\n& =\\int_{\\bigsqcup_{n=1}^{\\infty} \\Psi\\left(A_{n}\\right)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu\n\\end{aligned}\n$$\n\nWe also know that $\\int_{A} d_{M}^{2}(f, g) d \\mu=\\int_{\\Psi(A)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu$.\nComparing these two expressions, we get:\n\n$$\n\\int_{\\Psi(A)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu=\\int_{\\bigsqcup_{n=1}^{\\infty} \\Psi\\left(A_{n}\\right)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu\n$$\n\nSince this holds for all $f, g \\in L^{2}(\\Omega, M)$ and $\\Psi$ is bijective, it implies that in the quotient algebra $\\mathfrak{A}$, we have $\\Psi(A)=\\bigsqcup_{n=1}^{\\infty} \\Psi\\left(A_{n}\\right)$.\n\nApplying the inverse to our result, we obtain\n\n$$\n\\Psi^{-1}\\left(\\bigsqcup_{i=1}^{\\infty} A_{i}\\right)=\\bigsqcup_{i=1}^{\\infty} \\Psi^{-1}\\left(A_{i}\\right)\n$$\n\nThus $\\widetilde{\\mu}: \\mathcal{A} \\longrightarrow \\mathbb{R}_{\\geq 0}, A \\mapsto \\mu\\left(\\Psi^{-1}(A)\\right)$ defines a measure and since $\\Psi$ is bijective and $\\Psi(\\emptyset)=\\emptyset$, we have both $\\widetilde{\\mu} \\ll \\mu$ and $\\mu \\ll \\widetilde{\\mu}$. To see this, simply note that if $\\mu(A)=0$ for some measurable $A \\in \\Omega$, then $A=\\emptyset$ in $\\mathfrak{A}$ and therefore $\\Psi^{-1}(A)=\\emptyset$ as well in $\\mathfrak{A}$. Thus $\\widetilde{\\mu}(A)=\\mu\\left(\\Psi^{-1}(A)\\right)=0$. The other claim follows analogously.\n\nThe remainder of the proof relies on recovering a pointwise, almost everywhere bijective $\\varphi: \\Omega \\rightarrow \\Omega$ which is such that $\\varphi(\\Psi(A))=A$ (up to null-sets) for all $A \\in \\mathcal{A}$. This finally establishes the claim since we then have both $\\varphi_{*} \\mu \\ll \\mu, \\mu \\ll \\varphi_{*} \\mu$, and of course by the above,\n\n$$\n\\int_{A} d_{M}^{2}(f, g) d \\mu=\\int_{\\varphi^{-1}(A)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu\n$$\n\n(ii) By Theorem 2.2, we can assume that $\\Omega=[0,1] \\sqcup \\mathbb{N}$, equipped with the measure $c \\lambda+\\sum_{n=1}^{\\infty} p_{n} \\delta_{n}$, where $c \\geq 0, p_{n} \\geq 0$ for all $n \\in \\mathbb{N}$, and of course $c+\\sum_{n=1}^{\\infty} p_{n}=1$. Further, we can assume that if $p_{i}=0$, then $p_{j}=0$ for all $j \\geq i$.\n\nThe bijection $\\Psi$ respects the partition of $\\Omega$ into an atomic and an atomless part: $\\Psi$ permutes the atoms and thus preserves the set of Lebesgue measurable subsets, $\\mathcal{L}([0,1])$, and the power set $\\mathcal{P}(\\mathbb{N})$. Indeed, otherwise, there would exist $\\{i\\}$ such that $\\Psi(\\{i\\})$ is not an atom up to null-sets, and so it can be partitioned into two disjoint sets $A, B \\in \\mathcal{A}$ of positive measure. But then since $\\Psi$ is a bijection, $\\Psi^{-1}(A)$ and $\\Psi^{-1}(B)$ are also disjoint sets of positive measure such that, by $(5.5), \\Psi^{-1}(A) \\cup \\Psi^{-1}(B)$ is a single point up to null-sets. This is a contradiction. Since this argument also holds for the inverse, $\\Psi$ permutes the atoms.\n\n(iii) Next we recover the almost everywhere bijective $\\varphi: \\Omega \\rightarrow \\Omega$ : by RadonNikodym, there exists $\\rho \\in L^{1}(\\Omega)$ such that for all $A \\in \\mathcal{A}, \\widetilde{\\mu}(A)=$ $\\int_{A} \\rho(\\omega) d \\mu(\\omega)$ and $\\rho>0 \\mu$-almost everywhere.\n\nWe define $T: L^{1}(\\Omega) \\rightarrow L^{1}(\\Omega)$ on simple functions by $T\\left(\\sum_{i} a_{i} \\chi_{A_{i}}\\right):=\\rho \\sum_{i} a_{i} \\chi_{\\Psi\\left(A_{i}\\right)}$, where $A_{1}, \\ldots, A_{n} \\in \\mathcal{A}$ are pairwise disjoint and $a_{1}, \\ldots, a_{n} \\in \\mathbb{R}$. This map is an isometry and it extends to a linear isometry on $L^{1}(\\Omega)$ by density and a common refinement argument.\n\nSince $\\Psi$ preserves $\\mathcal{L}([0,1])$ and $\\mathcal{P}(\\mathbb{N}), T$ decomposes into isometries $T_{1}: L^{1}([0,1], \\lambda) \\rightarrow L^{1}([0,1], \\lambda)$ and $T_{2}: L^{1}\\left(\\mathbb{N}, \\sum_{n \\in \\mathbb{N}} p_{n} \\delta_{n}\\right) \\rightarrow$ $L^{1}\\left(\\mathbb{N}, \\sum_{n \\in \\mathbb{N}} p_{n} \\delta_{n}\\right)$.\n\nFor the first isometry, we know that by Banach [Ban32, p.178], $T_{1}$ is given by $T_{1}(f)(\\omega)=u_{1}(\\omega) f\\left(\\varphi_{1}(\\omega)\\right)$ for some measurable $u_{1}:[0,1] \\rightarrow \\mathbb{R}$ and a.e. bijective $\\varphi_{1}:[0,1] \\rightarrow[0,1]$.\n\nFor the second isometry $T_{2}$, let $J=\\left\\{n \\in \\mathbb{N}: p_{n}>0\\right\\}$. Consider the isometry $\\sigma: L^{1}\\left(\\mathbb{N}, \\sum_{n \\in \\mathbb{N}} p_{n} \\delta_{n}\\right) \\rightarrow L^{1}\\left(J, \\sum_{n \\in J} \\delta_{n}\\right)$, defined by $f \\mapsto\\left(p_{n} f(n)\\right)_{n \\in J}$. This induces an isometry $\\sigma \\circ T_{2} \\circ \\sigma^{-1}$ : $L^{1}\\left(J, \\sum_{n \\in J} \\delta_{n}\\right) \\rightarrow L^{1}\\left(J, \\sum_{n \\in J} \\delta_{n}\\right)$. Under the assumptions stated at the beginning of part (ii), we have two cases. Either $J=\\mathbb{N}$, in which case $\\sigma \\circ T_{2} \\circ \\sigma^{-1}$ is an isometry of $L^{1}\\left(\\mathbb{N}, \\sum_{n \\in \\mathbb{N}} \\delta_{n}\\right) \\cong \\ell^{1}(\\mathbb{N})$. Therefore, again by Banach [Ban32, p. 178], $T_{2}$ must have the form $T_{2}(f)(\\omega)=u_{2}(\\omega) f\\left(\\varphi_{2}(\\omega)\\right)$ for some permutation $\\varphi_{2}: \\mathbb{N} \\rightarrow \\mathbb{N}$ and a function $u_{2}: \\mathbb{N} \\rightarrow \\mathbb{R}$. Alternatively, $J=\\{1, \\ldots, m\\}$ for some $m \\in \\mathbb{N}$, and $\\sigma \\circ T_{2} \\circ \\sigma^{-1}$ is an isometry of $L^{1}(\\{1, \\ldots, m\\}, \\sum_{n=1}^{m} \\delta_{n})$, which is isometric to $\\left(\\mathbb{R}^{m},\\|\\cdot\\|_{1}\\right)$. The extreme points of the unit sphere in $\\left(\\mathbb{R}^{m},\\|\\cdot\\|_{1}\\right)$ are precisely $\\pm e_{i}$ for $i=1, \\ldots, m$, where $e_{i}$ denotes the standard basis vector. Since linear isometries preserve extreme points, any linear isometry of $\\left(\\mathbb{R}^{m},\\|\\cdot\\|_{1}\\right)$ must, up to a sign change for each coordinate, permute the coordinates. Therefore, also in this case, there exists a permutation $\\varphi_{2}: \\mathbb{N} \\rightarrow \\mathbb{N}$ and a function $u_{2}: \\mathbb{N} \\rightarrow \\mathbb{R}$ such that $T_{2}(f)(\\omega)=u_{2}(\\omega) f\\left(\\varphi_{2}(\\omega)\\right)$.\n\nCombining $u_{1}, u_{2}, \\varphi_{1}$, and $\\varphi_{2}$, we obtain a measurable $u: \\Omega \\rightarrow \\mathbb{R}$ and an a.e. bijective $\\varphi: \\Omega \\rightarrow \\Omega$ such that $T(f)(\\omega)=u(\\omega) f(\\varphi(\\omega))$ for all $f \\in L^{1}(\\Omega)$ and a.e. $\\omega \\in \\Omega$.\n(iv) Finally, we show that $\\varphi(\\Psi(A))=A$, closing the argument. To do so, first note that $u>0$ almost everywhere. For all measurable $A \\subset$ $\\Omega$, we now know that $\\rho \\chi_{\\Psi(A)}=T\\left(\\chi_{A}\\right)=u \\chi_{A} \\circ \\varphi$ and thus clearly $u \\geq 0$ almost everywhere. Now assume there exists a set $A$ of positive measure on which $u$ vanishes. This would imply that for a.e. $\\omega \\in$ $\\Omega, \\rho(\\omega) \\chi_{A}(\\omega)=T\\left(\\chi_{\\Psi^{-1}(A)}\\right)(\\omega)=u(\\omega) \\chi_{\\Psi^{-1}(A)}(\\varphi(\\omega))=0$. Hence, $\\rho$ would also vanish on $A$, contradicting the assumption that $\\rho$ is strictly positive almost everywhere. Therefore, for a.e. $\\omega \\in \\Omega, \\rho(\\omega) \\chi_{\\Psi(A)}(\\omega)=$ $u(\\omega) \\chi_{A}(\\varphi(\\omega))$ and both $\\rho, u>0$. This forces $\\varphi(\\Psi(A))=A$ up to nullsets.\n\nProof of Theorem $E$. It is immediate that maps $\\gamma: L^{2}(\\Omega, M) \\longrightarrow L^{2}(\\Omega, N)$ of the given form are isometries.\n\nConversely, suppose $\\gamma: L^{2}(\\Omega, M) \\longrightarrow L^{2}(\\Omega, N)$ is an isometry. By Lemma 5.2, there exists an almost everywhere bijective $\\varphi: \\Omega \\rightarrow \\Omega$ such that $\\varphi_{*} \\mu \\ll \\mu, \\mu \\ll \\varphi_{*} \\mu$, and for every $A \\in \\mathcal{A}$ and $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\n\\int_{A} d_{M}^{2}(f, g) d \\mu=\\int_{\\varphi^{-1}(A)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu\n$$\n\nBy Radon-Nikodym, there exists a positive Radon-Nikodym derivative $\\frac{d(\\varphi_{*} \\mu)}{d \\mu}>0$. Thus by the change of variable formula for every $A \\in \\mathcal{A}$ and $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\n\\begin{aligned}\n\\int_{A} d_{M}^{2}(f, g) d \\mu & =\\int_{\\varphi^{-1}(A)} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu \\\\\n& =\\int_{A} d_{N}^{2}\\left(\\gamma(f) \\circ \\varphi^{-1}, \\gamma(g) \\circ \\varphi^{-1}\\right) d\\left(\\varphi_{*} \\mu\\right) \\\\\n& =\\int_{A} d_{N}^{2}\\left(\\gamma(f) \\circ \\varphi^{-1}, \\gamma(g) \\circ \\varphi^{-1}\\right) \\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu} d \\mu\n\\end{aligned}\n$$\n\nThus, for $\\mu$-a.e. $\\omega \\in \\Omega$,\n\n$$\nd_{M}^{2}(f(\\omega), g(\\omega))=\\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}(\\omega) \\cdot d_{N}^{2}\\left(\\gamma(f)\\left(\\varphi^{-1}(\\omega)\\right), \\gamma(g)\\left(\\varphi^{-1}(\\omega)\\right)\\right)\n$$\n\nOur strategy now is twofold. First, we recover a family of dilations $\\rho$ : $\\Omega \\rightarrow \\operatorname{Dil}(M, N)$ such that, $\\gamma(f)(\\omega)=\\rho(\\varphi(\\omega))(f(\\varphi(\\omega))$ for $\\mu$-a.e. $\\omega \\in \\Omega$, for all $f \\in L^{2}(\\Omega, M)$; secondly we exploit the fact that $M$ is a Riemannian manifold to show that in fact $\\rho \\in L^{2}\\left(\\Omega, \\operatorname{Isom}(M, N)\\right)$.\n\nTo start with the former, define $\\rho(\\omega)(x):=\\gamma\\left(f_{x}^{\\Omega}\\right)\\left(\\varphi^{-1}(\\omega)\\right)$. Then we have for all $x, y \\in M$,\n\n$$\nd_{M}^{2}(x, y)=\\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}(\\omega) \\cdot d_{N}^{2}(\\rho(\\omega)(x), \\rho(\\omega)(y))\n$$\n\nSince for $\\mu$-a.e. $\\omega \\in \\Omega, \\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}(\\omega)>0, \\rho(\\omega)$ is a dilation by the factor $\\left(\\sqrt{\\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}}(\\omega)\\right)^{-1}>0$, and we obtain the family $\\rho: \\Omega \\rightarrow \\operatorname{Dil}(M, N)$ up to null-sets.\n\nFurthermore observe that since (5.6) holds $\\mu$-a.e., the expression $\\gamma(f)\\left(\\varphi^{-1}(\\omega)\\right)$ only depends on the value $f(\\omega) \\in M$. Thus indeed $\\gamma(f)(\\omega)=$ $\\rho(\\varphi(\\omega))(f(\\varphi(\\omega)))$ for $\\mu$-a.e. $\\omega \\in \\Omega$.\n\nFor the second part, we start by recording that $\\omega \\mapsto \\rho(\\omega)(x)=$ $\\gamma\\left(f_{x}^{\\Omega}\\right)\\left(\\varphi^{-1}(\\omega)\\right)$ lies in $L^{2}(\\Omega, N)$.\n\nNext we note that there analogously exists a family of dilations $\\rho^{\\prime}$ : $\\Omega \\rightarrow \\operatorname{Dil}(N, M)$ and an almost everywhere bijective $\\varphi^{\\prime}: \\Omega \\rightarrow \\Omega$ such that, $\\gamma^{-1}(f)(\\omega)=\\rho^{\\prime}\\left(\\varphi^{\\prime}(\\omega)\\right)\\left(f\\left(\\varphi^{\\prime}(\\omega)\\right)\\right)$ for $\\mu$-a.e. $\\omega \\in \\Omega$ and all $f \\in L^{2}(\\Omega, N)$.\n\nBut then, for $\\mu$-a.e. $\\omega \\in \\Omega$ we have that $\\rho(\\omega) \\circ \\rho^{\\prime}\\left(\\varphi^{\\prime}(\\omega)\\right)=\\left.\\operatorname{id}\\right|_{N}$. In other words, for $\\mu$-a.e. $\\omega \\in \\Omega, \\rho(\\omega) \\in \\operatorname{Dil}(M, N)$ has a right inverse and is thus not just injective but bijective.\n\nFinally, to complete the proof we show that $\\varphi$ is measure preserving, i.e. $\\varphi \\in \\operatorname{Aut}(\\Omega)$ and therefore $\\rho(\\omega) \\in \\operatorname{Isom}(M, N)$ for a.e. $\\omega \\in \\Omega$ and thus in particular, $M$ is isometric to $N$.\n\nTo do so it suffices to show that $\\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}$ is constant $\\mu$-almost everywhere. Indeed in that case, if we let $c:=\\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}$ and recall that $\\varphi$ is almost everywhere bijective, we already know that $1=\\mu(\\Omega)=\\left(\\varphi_{*} \\mu\\right)(\\Omega)=c \\mu(\\Omega)=c$, and therefore $\\varphi \\in \\operatorname{Aut}(\\Omega)$.\n\nTo show that $\\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}$ is constant $\\mu$-almost everywhere we note that otherwise, there exist $\\omega, \\omega^{\\prime} \\in \\Omega$ with non-zero $\\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}(\\omega) \\neq \\frac{d\\left(\\varphi_{*} \\mu\\right)}{d \\mu}\\left(\\omega^{\\prime}\\right)$, and such that $\\rho(\\omega), \\rho\\left(\\omega^{\\prime}\\right) \\in \\operatorname{Dil}(M, N)$ are bijective and well-defined. Therefore, we obtain a surjective dilation $\\rho(\\omega)^{-1} \\circ \\rho\\left(\\omega^{\\prime}\\right)$ with dilating factor $\\lambda \\neq 1$. But since $M$ is not Euclidean such dilations do not exist.\n\nIndeed $M$ admits a surjective dilation if and only if $M$ is Euclidean. Let $\\alpha: M \\rightarrow M$ be a surjective dilation with factor $\\lambda \\neq 1$. By taking the inverse if necessary we can assume that $\\lambda<1$. Thus by Banach's fix point theorem, there exists $x \\in M$ such that $\\alpha(x)=x$. Now choose a sufficiently small compact ball $B \\subset M$ around $x$. There exists a point $y \\in B$ and some plane $\\sigma \\leq T_{y} M$ at which the sectional curvature $\\kappa=\\kappa(\\sigma)$ is maximal in $B$. However, we also have sectional curvature $\\frac{1}{\\lambda^{2}} \\kappa$ at $\\alpha(y) \\in B$ and $\\frac{1}{\\lambda^{2}}>1$. This implies that the sectional curvature vanishes throughout $B$. Thus we can isometrically embed $B$ into $\\mathbb{E}^{\\operatorname{dim}(M)}$.\n\nSince $\\alpha^{-1}$ scales $B$ by the factor $\\lambda^{-1}>1$, we therefore have balls of arbitrary diameter around $x$ in $M$ which are Euclidean. Thus $M$ is itself Euclidean. This completes the proof.\n\nAs a consequence, we obtain the following strengthened localization.\nCorollary 5.3. Let $M, N$ be complete Riemannian manifolds of dimension at least two with irreducible universal covers. For any isometry $\\gamma$ : $L^{2}(\\Omega, M) \\rightarrow L^{2}(\\Omega, N)$ and measurable $A \\subset \\Omega$, there exists a measurable $B \\subset \\Omega$ with $\\mu(A)=\\mu(B)$ such that for all $f, g \\in L^{2}(\\Omega, M)$,\n\n$$\n\\int_{A} d_{M}^{2}(f, g) d \\mu=\\int_{B} d_{N}^{2}(\\gamma(f), \\gamma(g)) d \\mu\n$$\n\nRemark 5.4. Let $\\Omega=[0,1]$. Consider the Hilbert space $L^{2}(\\Omega)=L^{2}(\\Omega, \\mathbb{R})$ with its standard inner product. The group of linear isometries of $L^{2}(\\Omega)$ operates transitively on the unit sphere around $0 \\in L^{2}(\\Omega)$. Now let $e:=$ $\\sqrt{2} \\chi_{[0,1 / 2]}$ and $e^{\\prime}:=\\chi_{[0,1]}$. Evidently $e, e^{\\prime} \\in L^{2}(\\Omega)$ lie on the unit sphere and thus there exists a linear isometry $T$ of $L^{2}(\\Omega)$ such that $T(e)=e^{\\prime}$.\n\nHowever, $T$ cannot be a rigid isometry in the sense of Theorem E. If it were, then for any measurable set $A \\subseteq \\Omega$, there would exist a set $B$ of equal\n\nmeasure such that for all $f \\in L^{2}(\\Omega)$,\n\n$$\n\\int_{A}|T(f)|^{2} d \\lambda=\\int_{B}|f|^{2} d \\lambda\n$$\n\nApplying this to $f=e$ and the set $A=[0,1 / 2]$, we obtain a contradiction:\n\n$$\n1=\\int_{A}|e|^{2} d \\lambda=\\int_{B}|T(e)|^{2} d \\lambda=\\lambda(B)=\\frac{1}{2}\n$$\n\n5.3. Final arguments. We provide proofs of Theorems A and C.\n\nProof of Theorem A. First, we show that $L^{2}(\\Omega, \\operatorname{Isom}(M))$ is normal in $\\operatorname{Isom}\\left(L^{2}(\\Omega, M)\\right)$. For $\\rho \\in L^{2}(\\Omega, \\operatorname{Isom}(M))$, let $\\gamma_{\\rho}$ denote the isometry $f \\mapsto \\gamma_{\\rho}(f)$, where $\\gamma_{\\rho}(f)(\\omega)=\\rho(\\omega)(f(\\omega))$. For $\\varphi \\in \\operatorname{Aut}(\\Omega)$ on the other hand, let $\\gamma^{\\varphi}$ denote the isometry $f \\mapsto f \\circ \\varphi$. Let $\\tau \\in L^{2}(\\Omega, \\operatorname{Isom}(M))$ and $\\gamma \\in \\operatorname{Isom}\\left(L^{2}(\\Omega, M)\\right)$. By Theorem E, $\\gamma$ is of the form $\\gamma=\\gamma^{\\varphi} \\gamma_{\\rho}$ for some $\\rho \\in L^{2}(\\Omega, \\operatorname{Isom}(M))$ and $\\varphi \\in \\operatorname{Aut}(\\Omega)$. Clearly, $\\gamma^{-1}=\\gamma_{\\rho^{-1}} \\gamma^{\\varphi^{-1}}$ and therefore $\\gamma \\gamma_{\\tau} \\gamma^{-1}=\\gamma^{\\varphi} \\gamma_{\\rho} \\gamma_{\\tau} \\gamma_{\\rho^{-1}} \\gamma^{\\varphi^{-1}}=\\gamma_{\\sigma}$, where $\\sigma \\in L^{2}(\\Omega, \\operatorname{Isom}(M))$ is defined by $\\sigma(\\omega):=\\rho(\\varphi(\\omega)) \\circ \\tau(\\varphi(\\omega)) \\circ \\rho(\\varphi(\\omega))^{-1}$. Hence, $L^{2}(\\Omega, \\operatorname{Isom}(M))$ is normal.\n\nBy Theorem E, any isometry $\\gamma \\in \\operatorname{Isom}\\left(L^{2}(\\Omega, M)\\right)$ can be written as $\\gamma=\\gamma^{\\varphi} \\circ \\gamma_{\\rho}=\\gamma_{\\rho \\circ \\varphi} \\circ \\gamma^{\\varphi}$ for some $\\rho \\in L^{2}(\\Omega, \\operatorname{Isom}(M))$ and $\\varphi \\in \\operatorname{Aut}(\\Omega)$. Thus, $\\operatorname{Isom}\\left(L^{2}(\\Omega, M)\\right)=\\operatorname{Aut}(\\Omega) L^{2}(\\Omega, \\operatorname{Isom}(M))=L^{2}(\\Omega, \\operatorname{Isom}(M)) \\cdot \\operatorname{Aut}(\\Omega)$.\n\nFinally, we show $L^{2}(\\Omega, \\operatorname{Isom}(M)) \\cap \\operatorname{Aut}(\\Omega)=\\{\\mathrm{id}\\}$. Indeed, if $\\gamma \\in$ $L^{2}(\\Omega, \\operatorname{Isom}(M)) \\cap \\operatorname{Aut}(\\Omega)$, then $\\gamma=\\gamma_{\\rho}=\\gamma^{\\varphi}$ for some $\\rho \\in L^{2}(\\Omega, \\operatorname{Isom}(M))$ and $\\varphi \\in \\operatorname{Aut}(\\Omega)$. By considering the action of this isometry on constant functions, we see that $\\rho=\\operatorname{id}_{M}$ and hence $\\gamma=\\mathrm{id}$.\n\nTherefore, $\\operatorname{Isom}\\left(L^{2}(\\Omega, M)\\right) \\cong L^{2}(\\Omega, \\operatorname{Isom}(M)) \\rtimes \\operatorname{Aut}(\\Omega)$.\nProof of Theorem $C$. For $\\operatorname{dim}(M), \\operatorname{dim}(N) \\geq 2$, the claim follows directly from Theorem E.\n\nThe remaining spaces, $L^{2}\\left(\\Omega, S^{1}\\right)$ and $L^{2}(\\Omega, \\mathbb{R})$, are not isometric due to their differing diameters: finite for the former, infinite for the latter.\n\nSince $M$ isometrically embeds into $L^{2}(\\Omega, M)$, if $L^{2}(\\Omega, M) \\cong L^{2}(\\Omega, \\mathbb{R})$, then $M$ would isometrically embed into a Hilbert space, implying $M \\cong \\mathbb{E}^{n}$. Thus, $L^{2}(\\Omega, \\mathbb{R})$ is not isometric to $L^{2}(\\Omega, M)$ for any $M$ of dimension at least two with irreducible universal covering.\n\nFinally we also show that $L^{2}\\left(\\Omega, S^{1}\\right)$ is not isometric to $L^{2}(\\Omega, M)$ for the same $M$ as above. To that end, we first observe that for $f \\in L^{2}\\left(\\Omega, S^{1}\\right)$, there exists $\\phi \\in L^{2}(\\Omega, \\mathbb{R})$ such that $f(\\omega)=e^{i \\phi(\\omega)}$ for all $\\omega \\in \\Omega$. The set $C=\\left\\{\\alpha \\in L^{2}(\\Omega, \\mathbb{R}):|\\alpha| \\leq \\pi / 2\\right\\}$ is convex and $\\psi: C \\rightarrow L^{2}\\left(\\Omega, S^{1}\\right)$, given by $\\alpha \\mapsto e^{i(\\phi+\\alpha)}$, is an isometric embedding.\n\nWe claim that for any geodesic $\\sigma:[0, d] \\rightarrow L^{2}\\left(\\Omega, S^{1}\\right)$ starting at $f$, the first half of its image lies in $\\psi(C)$. By Theorem 2.7, $\\sigma(t)(\\omega)=e^{i(\\varphi(\\omega)+t \\alpha(\\omega))}$ for some $\\alpha \\in L^{2}(\\Omega, \\mathbb{R})$ with $\\|\\alpha\\|_{L^{2}}=1$. Since $\\alpha(\\omega) d \\leq \\pi$ for all $\\omega$, the claim follows.\n\nThus, for $f \\in L^{2}\\left(\\Omega, S^{1}\\right)$ and geodesics $\\sigma_{i}:\\left[0, d_{i}\\right] \\rightarrow L^{2}\\left(\\Omega, S^{1}\\right)$ issuing from $f, i=1,2$, the convex hull of the geodesic triangle with vertices $f, \\sigma_{1}\\left(d_{1} / 2\\right), \\sigma_{2}\\left(d_{2} / 2\\right)$ isometrically embeds into an inner product space.\n\nAnalogously to above, if $L^{2}\\left(\\Omega, S^{1}\\right) \\cong L^{2}(\\Omega, M)$, then $M$ isometrically embeds into $L^{2}\\left(\\Omega, S^{1}\\right)$. Hence, for any pair of tangent vectors at a point in $M$, we can find a small flat triangle spanned by geodesics pointing into these directions. Hence, $M$ is flat. Therefore, $L^{2}\\left(\\Omega, S^{1}\\right) \\not \\cong L^{2}(\\Omega, M)$ for $\\operatorname{dim}(M) \\geq 2$ and $M$ with irreducible universal cover. This concludes the proof.\n5.4. Necessity of irreducibility assumption. Let $X$ and $Y$ be metric spaces. The map $f \\mapsto\\left(f_{1}, f_{2}\\right)$ is an isometry from $L^{2}(\\Omega, X \\times Y)$ to $L^{2}(\\Omega, X) \\times L^{2}(\\Omega, Y)$, where $f_{1}$ and $f_{2}$ denote the projections of $f$ onto $X$ and $Y$, respectively. This, together with Theorem C, demonstrates the necessity of some irreducibility condition for Theorem B to hold.\n\nThe same applies to Theorem C as illustrated by the following.\nLemma 5.5. Let $(\\Omega, \\mu)$ be an atomless standard probability space, and $X$ be a metric space. Then: $L^{2}\\left(\\Omega, X^{n}\\right) \\cong L^{2}(\\Omega, \\sqrt{n} X)$.\n\nProof. By Theorem 2.2, $\\Omega \\cong[0,1]$. Thus, by Lemma 2.6, $L^{2}\\left(\\Omega, X^{n}\\right) \\cong$ $L^{2}\\left([0,1], X^{n}\\right)$ and $L^{2}(\\Omega, \\sqrt{n} X) \\cong L^{2}([0,1], \\sqrt{n} X)$.\n\nDefine $\\gamma: L^{2}\\left([0,1], X^{n}\\right) \\rightarrow L^{2}\\left([0,1], \\sqrt{n} X\\right)$ by $\\gamma(f)(t)=f_{i}(n t-i+1)$ for $t \\in\\left[\\frac{i-1}{n}, \\frac{i}{n}\\right]$, where $f=\\left(f_{1}, \\ldots, f_{n}\\right)$. This map is evidently surjective. The map is also isometric. Indeed for $f, f^{\\prime} \\in L^{2}\\left([0,1], X^{n}\\right)$,\n\n$$\n\\begin{aligned}\nd_{L^{2}\\left([0,1], X^{n}\\right)}^{2}\\left(f, f^{\\prime}\\right) & =\\int_{0}^{1} \\sum_{i=1}^{n} d_{X}^{2}\\left(f_{i}(t), f_{i}^{\\prime}(t)\\right) d t \\\\\n& =\\sum_{i=1}^{n} \\int_{\\frac{i-1}{n}}^{\\frac{i}{n}} n d_{X}^{2}\\left(f_{i}(n t-i+1), f_{i}^{\\prime}(n t-i+1)\\right) d t \\\\\n& =\\int_{0}^{1}\\left(\\sqrt{n} d_{X}\\right)^{2}(\\gamma(f)(t), \\gamma\\left(f^{\\prime}\\right)(t)) d t \\\\\n& =d_{L^{2}([0,1], \\sqrt{n} X)}^{2}\\left(\\gamma(f), \\gamma\\left(f^{\\prime}\\right)\\right)\n\\end{aligned}\n$$\n\nThis completes the proof, establishing $L^{2}\\left(\\Omega, X^{n}\\right) \\cong L^{2}(\\Omega, \\sqrt{n} X)$.\nFinally the following example directly demonstrates the necessity of the irreducibility assumption for Theorem E and thereby in particular, Theorem A. The example should give another direct sense of why these theorems fail for reducible spaces.\n\nExample 5.6. Let $M$ satisfy the assumptions of Theorem E. We construct an isometry of $L^{2}([0,1], M \\times M)$ violating the rigidity behaviour of Theorem E.\n\nWe will be using notations from the proof of Theorem A above. Further let $\\gamma: L^{2}([0,1], M \\times M) \\rightarrow L^{2}([0,1], \\sqrt{2} M)$ be the isometry from the proof of Lemma 5.5 (for $n=2, X=M$ ).\n\nConsider $\\varphi \\in \\operatorname{Aut}([0,1])$ fixing $[0,1 / 4] \\cup[3 / 4,1]$ and swapping $[1 / 4,1 / 2]$ and $[1 / 2,3 / 4]$. Let $(x, y) \\in M \\times M$. Then $\\left(\\gamma^{\\varphi} \\circ \\gamma\\right)\\left(f_{((x, y))}^{[0,1]}\\right)=f_{(x, y)}^{[A, A^{c})}$ for $A=[0,1 / 4] \\cup[1 / 2,3 / 4]$, and so $\\left(\\gamma^{-1} \\circ \\gamma^{\\varphi} \\circ \\gamma\\right)\\left(f_{((x, y))}^{[0,1]}\\right)=f_{((x, x),(y, y))}^{([0,1 / 2],[1 / 2,1])}$.\n\nSince $\\operatorname{Aut}([0,1])$ acts trivially on constant functions, if the isometries were rigid in the sense of Theorem E, there would exist $\\rho \\in L^{2}([0,1], \\operatorname{Isom}(M \\times$ $M)$ ) such that $\\gamma^{-1} \\circ \\gamma^{\\varphi} \\circ \\gamma=\\gamma_{\\rho}$. Therefore, there would exist $\\omega \\in[0,1 / 2]$ such that the isometry $\\rho(\\omega): M \\times M \\rightarrow M \\times M$ sends $(x, y)$ to $(x, x)$ for all $(x, y) \\in M \\times M$. This is a contradiction.\n\nAs noted in the introduction, without the irreducibility assumption, we can still provide weaker algebraic characterizations of the isometry group.\n\nRemark 5.7. For atomless $\\Omega$ and non-isometric complete Riemannian manifolds $M, N$ with irreducible universal covers, we can prove that isometries of $L^{2}(\\Omega, M) \\times L^{2}(\\Omega, N)$ preserve the product structure. The arguments are similar to the arguments used for establishing Theorem E.\n\nFor a complete simply connected Riemannian manifold $M$, let $\\mathbb{R}^{m_{0}} \\times$ $M_{1}^{m_{1}} \\times M_{n}^{m_{n}}$ be its de Rham decomposition, where $M_{1}, \\ldots, M_{n}$ are pairwise non-isometric, simply connected and irreducible Riemannian manifolds. Thus by Lemma 5.5 and the just mentioned splitting of isometries of $L^{2}\\left(\\Omega, M_{i}\\right) \\times L^{2}\\left(\\Omega, M_{j}\\right)$, we obtain:\n\n$$\n\\operatorname{Isom}\\left(L^{2}(\\Omega, M)\\right) \\cong \\operatorname{Isom}\\left(L^{2}(\\Omega, \\mathbb{R})\\right) \\times \\prod_{i=1}^{n} L^{2}\\left(\\Omega, \\operatorname{Isom}\\left(M_{i}\\right)\\right) \\rtimes \\operatorname{Aut}(\\Omega)\n$$\n\nUnlike Theorem A, this is merely an abstract group isomorphism and does not specify explicit embeddings of the right-hand-side subgroups into the isometry group of $L^{2}(\\Omega, M)$.",
      "tables": {},
      "images": {}
    },
    {
      "section_id": 6,
      "text": "# ACKNOWLEDGMENTS \n\nI would like to thank Alexander Lytchak for insightful comments and suggestions on this project. I would also like to thank Nicola Cavallucci for reading an earlier version of this work and providing valuable feedback, and James Terrill for helpful comments. Finally, I extend my sincere appreciation to the anonymous referee for an exceptionally thorough review and helpful suggestions, which enhanced the clarity and presentation of this work. This research was partially supported by the Deutsche Forschungsgemeinschaft (DFG, German Research Foundation) under project number 281869850.",
      "tables": {},
      "images": {}
    },
    {
      "section_id": 7,
      "text": "# REFERENCES \n\n[Ban32] Stefan Banach. Th\u00e9orie des op\u00e9rations lin\u00e9aires. Monografje Matematyczne. Warsaw, 1932.\n[BBC24] Christoph B\u00f6hm, Timothy Buttsworth, and Brian Clarke. Scalar curvature along Ebin geodesics. J. Reine Angew. Math., 813:159-196, 2024.\n[BBI01] Dmitri Burago, Yuri Burago, and Sergei Ivanov. A course in metric geometry, volume 33 of Graduate Studies in Mathematics. American Mathematical Society, Providence, RI, 2001.\n[BH99] Martin Bridson and Andr\u00e9 Haefliger. Metric Spaces of Non-Positive Curvature, volume 319 of Grundlehren der mathematischen Wissenschaften. Springer-Verlag Berlin Heidelberg, 1999.\n[BK16] J\u00e9r\u00f4me Bertrand and Beno\u00eet R. Kloeckner. A geometric study of Wasserstein spaces: isometric rigidity in negative curvature. Int. Math. Res. Not. IMRN, (5):1368-1386, 2016.\n[Bog07] Vladimir I. Bogachev. Measure theory. Vol. I, II. Springer-Verlag, Berlin, 2007.\n[Cav23] Nicola Cavallucci. The $L^{2}$-completion of the space of Riemannian metrics is CAT(0): a shorter proof. Proc. Amer. Math. Soc., 151(7):3183-3187, 2023.\n[CGGKSR24] Mauricio Che, Fernando Galaz-Garc\u00eda, Martin Kerin, and Jaime SantosRodr\u00edguez. Isometric rigidity of metric constructions with respect to Wasserstein spaces. arXiv:2410.14648, 2024.\n[CS23] Nicola Cavallucci and Zhe Su. The metric completion of the space of vectorvalued one-forms. Ann. Global Anal. Geom., 64(2):Paper No. 10, 22, 2023.\n[Esc09] Jost-Hinrich Eschenburg. Lecture Notes on Symmetric Spaces. University of Augsburg, 2009.\n[FL08] Thomas Foertsch and Alexander Lytchak. The de Rham decomposition theorem for metric spaces. Geom. Funct. Anal., 18(1):120-143, 2008.\n[Ito84] Kiyosi Ito. Introduction to probability theory. Cambridge University Press, Cambridge, 1984. Translated from the Japanese by the author.\n[KS93] Nicholas J. Korevaar and Richard M. Schoen. Sobolev spaces and harmonic maps for metric space targets. Comm. Anal. Geom., 1(3-4):561-659, 1993.\n[Lyt12] Alexander Lytchak. Affine images of Riemannian manifolds. Math. Z., $270(3-4): 809-817,2012$.\n[Mon06] Nicolas Monod. Superrigidity for irreducible lattices and geometric splitting. J. Amer. Math. Soc., 19(4):781-814, 2006.\n[Sim62] James Simons. On the transitivity of holonomy systems. Ann. of Math., $76: 213-234,1962$.\n\nKarlsruher Institut f\u00fcr Technologie, Fakult\u00e4t f\u00fcr Mathematik, EnglerSTR. 2, 76131 Karlsruhe, Germany\n\nEmail address: david.lenze@kit.edu",
      "tables": {},
      "images": {}
    }
  ],
  "id": "2412.13914v3",
  "authors": [
    "David Lenze"
  ],
  "categories": [
    "math.MG",
    "math.DG"
  ],
  "abstract": "We describe the isometry group of $L^2(\\Omega, M)$ for Riemannian manifolds\n$M$ of dimension at least two with irreducible universal cover. We establish a\nrigidity result for the isometries of these spaces: any isometry arises from an\nautomorphism of $\\Omega$ and a family of isometries of $M$, distinguishing\nthese spaces from the classical $L^2(\\Omega)$. Additionally, we prove that\nthese spaces lack irreducible factors and that two such spaces are isometric if\nand only if the underlying manifolds are.",
  "updated": "2025-04-09T07:41:27Z",
  "published": "2024-12-18T14:54:45Z"
}